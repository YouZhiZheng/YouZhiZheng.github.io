[{"categories":["æ–‡çŒ®é˜…è¯»"],"content":"æ–‡çŒ®é˜…è¯»å·¥ä½œæµ","date":"2025-11-23","objectID":"/posts/ef03586/","tags":["zotero","obsidian","å·¥ä½œæµ"],"title":"Zotero + Obsidian æ–‡çŒ®é˜…è¯»ä¸ç¬”è®°å·¥ä½œæµ","uri":"/posts/ef03586/"},{"categories":["æ–‡çŒ®é˜…è¯»"],"content":"ä»¥å‰ä¸€ç›´éƒ½æ˜¯åœ¨ ReadPaper ä¸Šé˜…è¯»æ–‡çŒ®ï¼Œç„¶ååœ¨ Obsidian æ€»ç»“æ–‡çŒ®å†…å®¹ï¼Œç¿»è¯‘è½¯ä»¶ä½¿ç”¨çš„æ˜¯ æ²™æ‹‰æŸ¥è¯æ’ä»¶ + Quickerã€‚è‡ªä» Google æµè§ˆå™¨å‡çº§åï¼Œå·²ç»æ— æ³•ä½¿ç”¨æ²™æ‹‰æŸ¥è¯æ’ä»¶äº† ä¸” ReadPaperè‡ªå¸¦çš„ç¿»è¯‘æœ‰æ¬¡æ•°é™åˆ¶ï¼ˆä¹Ÿä¸å¥½ç”¨ï¼‰ï¼Œæ•…æ‰“ç®—åˆ‡æ¢æ–‡çŒ®é˜…è¯»è½¯ä»¶ä¸º Zoteroï¼ˆè¯¥è½¯ä»¶æœ‰ç¿»è¯‘æ’ä»¶ï¼Œé€šè¿‡é…ç½® API å¯è°ƒç”¨Geminiã€GPT æ¥å®ç°å‡†ç¡®çš„ç¿»è¯‘ï¼‰ã€‚æ­¤å¤–ï¼ŒObsidian ä¸­ä¹Ÿæœ‰æ’ä»¶å¯ä»¥ç›´æ¥å¯¼å‡º Zotero å†…çš„æŒ‡å®šæ–‡çŒ®ä¸­çš„æ‰¹æ³¨ï¼Œä»è€Œèƒ½å¤Ÿåœ¨ Obsidian ä¸­å¿«é€Ÿæ¢³ç†æ–‡çŒ®å†…å®¹å¹¶å½¢æˆç¬”è®°ï¼ˆå†ä¹Ÿä¸ç”¨æ‰‹åŠ¨æˆªå›¾æ–‡çŒ®ä¸­çš„æ‰¹æ³¨å•¦ï¼ï¼‰ã€‚ ","date":"2025-11-23","objectID":"/posts/ef03586/:0:0","tags":["zotero","obsidian","å·¥ä½œæµ"],"title":"Zotero + Obsidian æ–‡çŒ®é˜…è¯»ä¸ç¬”è®°å·¥ä½œæµ","uri":"/posts/ef03586/"},{"categories":["æ–‡çŒ®é˜…è¯»"],"content":"Zoteroé…ç½®\ré…ç½®æ­¥éª¤å¦‚ä¸‹æ‰€ç¤ºï¼š åœ¨ Zoteroå®˜ç½‘ ä¸‹è½½è½¯ä»¶å¹¶è¿›è¡Œå®‰è£… ç‚¹å‡» ç¼–è¾‘â†’è®¾ç½®â†’é«˜çº§ ä¿®æ”¹æ•°æ®åº“å­˜å‚¨ä½ç½®ï¼ˆè¿™ä¸€æ­¥å¯é€‰ï¼Œé»˜è®¤æ˜¯å°†æ•°æ®æ”¾åœ¨ C ç›˜çš„ï¼‰ æ‰“å¼€ https://zotero-chinese.com/plugins/ ä¸‹è½½æ’ä»¶ï¼š Translate for Zoteroã€Better BibTeX for Zotero æ‰“å¼€ Google AI Studio ï¼Œç”³è¯· Gemini å¯†é’¥ (GPIæˆ–å…¶ä»–AIçš„ç”³è¯·åœ°å€è‡ªè¡ŒGoogle) ç‚¹å‡» ç¼–è¾‘â†’è®¾ç½®â†’ç¿»è¯‘ ä¸‹åˆ’åˆ°æœåŠ¡ï¼Œé€‰æ‹©ä½ è¦ä½¿ç”¨çš„ç¿»è¯‘æœåŠ¡å¹¶å¡«å…¥å¯¹åº”å¯†é’¥ åœ¨ ç¿»è¯‘ è¿™ä¸€æ ä¸Šåˆ’åˆ°é€šç”¨ï¼Œå–æ¶ˆå‹¾é€‰ è‡ªåŠ¨ç¿»è¯‘é€‰æ‹© å†…å®¹ï¼Œè¿™æ ·è®¾ç½®åï¼Œåªæœ‰æŒ‰ä¸‹ Ctrl+T æ—¶æ‰ä¼šç¿»è¯‘é€‰ä¸­å†…å®¹ï¼ˆè¿™ä¸€æ­¥å¯é€‰ï¼‰ ","date":"2025-11-23","objectID":"/posts/ef03586/:1:0","tags":["zotero","obsidian","å·¥ä½œæµ"],"title":"Zotero + Obsidian æ–‡çŒ®é˜…è¯»ä¸ç¬”è®°å·¥ä½œæµ","uri":"/posts/ef03586/"},{"categories":["æ–‡çŒ®é˜…è¯»"],"content":"Obsidiané…ç½®\ré…ç½®æ­¥éª¤å¦‚ä¸‹æ‰€ç¤ºï¼š åœ¨ Obsidian ä¸­ä¸‹è½½ç¬¬ä¸‰æ–¹æ’ä»¶ Zotero Integration åœ¨æ’ä»¶é…ç½®ä¸­ï¼Œå¯¹äº PDF Utility ä¸€æ ç‚¹å‡»åé¢çš„ Downloadï¼›Database ä¸€æ é€‰æ‹© Zoteroï¼›Note Import Location ä¸€æ é€‰æ‹©ä½ è¦å­˜æ”¾å¯¼å‡ºå†…å®¹çš„ç›®å½• ç‚¹å‡» Citation Formats ä¸€æ çš„ Add Citation Format, é…ç½®ä¸º: Name: Format #1 Output Format: Formatted Citation Citation Style: IEEE æ–°å»ºä¸€ä¸ªåä¸º importæ¨¡æ¿ çš„æ–‡ä»¶å¤¹ (è¿™ä¸ªåç§°è‡ªå·±éšæ„èµ·), åœ¨ä¸‹é¢åˆ›å»ºä¸€ä¸ªåä¸º zotero integration template çš„ç¬”è®°ï¼Œç„¶åè¿›è¡Œå†™å…¥ä»¥ä¸‹å†…å®¹: **ä½œè€…:** {{ authors }} **å‘è¡¨ä¼šè®®/æœŸåˆŠï¼ˆæ—¶é—´ï¼‰:** {{ publicationTitle }} {% if date %}({{ date | format(\"YYYY\") }}){% endif %} **Zotero Link:** [Open PDF]({{ desktopURI }}) ## ğŸ“ æ–‡ç« è§£è¯» {% for annotation in annotations %} {%- if annotation.annotatedText -%} \u003e [!quote] Highlight (Page {{ annotation.page }}) \u003e {{ annotation.annotatedText | replace(\"\\n\", \"\\n\u003e \") }} \u003e [Link to PDF]({{ annotation.desktopURI }}) {% endif %} {%- if annotation.imageRelativePath -%} \u003e [!image] Image Capture \u003e ![[{{ annotation.imageRelativePath }}]] \u003e [Link to PDF]({{ annotation.desktopURI }}) {% endif %} {%- if annotation.comment -%} \u003e [!NOTE] **ğŸ’¡ My Insight:** \u003e {{ annotation.comment | replace(\"\\n\", \"\\n\u003e \") }} {% endif %} --- {% endfor %} ## ğŸ§  æ€»ç»“ ç‚¹å‡»Import Formats ä¸€æ çš„ Add Import Format, é…ç½®ä¸º (æˆ‘å­˜æ”¾ç¬”è®°çš„ç›®å½•ä¸º PaperNotes/): Name: Import #1 Output Path: PaperNotes/{{title}}/{{title}}.md Image Output Path: PaperNotes/{{title}}/image/ Image Base Name: image Template File: importæ¨¡æ¿/zotero integration template.md Bibliography Style: IEEE ","date":"2025-11-23","objectID":"/posts/ef03586/:2:0","tags":["zotero","obsidian","å·¥ä½œæµ"],"title":"Zotero + Obsidian æ–‡çŒ®é˜…è¯»ä¸ç¬”è®°å·¥ä½œæµ","uri":"/posts/ef03586/"},{"categories":["æ–‡çŒ®é˜…è¯»"],"content":"é£Ÿç”¨æ­¥éª¤\ræˆ‘çš„ä½¿ç”¨æµç¨‹ä¸º: åœ¨ Zotero ä¸­é˜…è¯»æ–‡çŒ®å¹¶ç¼–å†™è¾…åŠ©ç†è§£çš„æ³¨é‡Š åœ¨ Obsidian ä¸­æŒ‰ Ctrl + P é€‰æ‹© Zotero Integration: Import #1ï¼Œç„¶åé€‰æ‹©å¯¹åº”çš„æ–‡çŒ®ï¼Œå°†è¯¥æ–‡çŒ®ä¸­çš„æ³¨é‡Šå¯¼å…¥åˆ°Obsidianä¸­ æ•´ç†æ³¨é‡Šï¼Œæ¢³ç†è¯¥æ–‡çŒ®çš„ä¸»ä½“å†…å®¹ï¼Œå½¢æˆè¯¥æ–‡çŒ®çš„é˜…è¯»ç¬”è®°ï¼ˆæ¯”å¦‚è®°å½•ä¸‹è¯¥æ–‡çŒ®çš„ä¸»è¦åˆ›æ–°ç‚¹ï¼Œå¯ä¼˜åŒ–ç‚¹ç­‰ï¼‰ ","date":"2025-11-23","objectID":"/posts/ef03586/:3:0","tags":["zotero","obsidian","å·¥ä½œæµ"],"title":"Zotero + Obsidian æ–‡çŒ®é˜…è¯»ä¸ç¬”è®°å·¥ä½œæµ","uri":"/posts/ef03586/"},{"categories":["Velox"],"content":"æ¦‚è¿°\ré…ç½®æ¨¡å—çš„ä½œç”¨ä¸ºæä¾›ä¸€ä¸ªç±»å‹å®‰å…¨ã€é›†ä¸­å¼ç®¡ç†åº”ç”¨ç¨‹åºé…ç½®é¡¹çš„æ–¹å¼ï¼Œå…è®¸å¼€å‘è€…å®šä¹‰ä»»æ„ç±»å‹çš„é…ç½®å˜é‡ï¼Œä¸ºå®ƒä»¬è®¾ç½®é»˜è®¤å€¼ï¼Œå¹¶é€šè¿‡YAMLæ–‡ä»¶æ–¹ä¾¿åœ°åŠ è½½å’Œä¿®æ”¹è¿™äº›é…ç½®ã€‚ è¯¥æ¨¡å—çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯å°†æ¯ä¸€ä¸ªé…ç½®é¡¹æŠ½è±¡ä¸ºä¸€ä¸ªConfigVarå¯¹è±¡ã€‚æ‰€æœ‰è¿™äº›å¯¹è±¡éƒ½ç”±ä¸€ä¸ªå•ä¾‹ç®¡ç†çš„Configç±»è¿›è¡Œç»Ÿä¸€å­˜å‚¨å’Œè®¿é—®ã€‚è¿™ç§è®¾è®¡é¿å…äº†é…ç½®é¡¹æ•£è½åœ¨ä»£ç å„å¤„ï¼Œä½¿å¾—é…ç½®çš„ç®¡ç†ã€ç»´æŠ¤å’ŒæŸ¥é˜…å˜å¾—éå¸¸æ–¹ä¾¿ã€‚ è¯¥æ¨¡å—ä¸»è¦ç”±ä»¥ä¸‹å‡ éƒ¨åˆ†æ„æˆï¼š ConfigVarBase: ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº†æ‰€æœ‰é…ç½®å˜é‡çš„é€šç”¨æ¥å£ï¼Œå¦‚è·å–åç§°ã€æè¿°ã€ç±»å‹åä»¥åŠä¸å­—ç¬¦ä¸²çš„åŒå‘è½¬æ¢ï¼ˆåºåˆ—åŒ–/ååºåˆ—åŒ–ï¼‰ã€‚ ConfigVar\u003cT\u003e: ç»§æ‰¿è‡ªConfigVarBaseçš„æ¨¡æ¿ç±»ã€‚å®ƒæ˜¯é…ç½®å˜é‡çš„å…·ä½“å®ç°ï¼Œèƒ½å¤Ÿå­˜å‚¨ä»»æ„ç±»å‹ T çš„å€¼ã€‚å®ƒè¿˜å®ç°äº†ä¸€ä¸ªå›è°ƒæœºåˆ¶ï¼Œå½“é…ç½®å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯ä»¥é€šçŸ¥æ‰€æœ‰ç›‘å¬è€…ã€‚ TypeConverter: ä¸€ç³»åˆ—æ¨¡æ¿ç±»åŠå…¶åç‰¹åŒ–ï¼Œç”¨äºåœ¨å„ç§C++ç±»å‹ï¼ˆåŒ…æ‹¬åŸºæœ¬ç±»å‹ã€STLå®¹å™¨å¦‚vector, list, map, setç­‰ï¼‰å’Œå­—ç¬¦ä¸²ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚è¯¥æ¨¡å—é»˜è®¤ä½¿ç”¨ boost::lexical_cast è¿›è¡ŒåŸºç¡€ç±»å‹è½¬æ¢ï¼Œå¹¶ä¸ºå¤æ‚å®¹å™¨ç±»å‹æä¾›äº†åŸºäº yaml-cpp çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®ç°ã€‚å¯¹äºè‡ªå®šä¹‰ç±»å‹ï¼Œåªéœ€å®Œæˆå¯¹åº”çš„åç‰¹åŒ–å³å¯è¿›è¡Œè½¬æ¢ã€‚ Config: ä¸€ä¸ªç®¡ç†ç±»ï¼Œå®ƒåŒ…å«ä¸€ä¸ªé™æ€çš„unordered_mapç”¨äºå­˜å‚¨æ‰€æœ‰çš„é…ç½®å˜é‡ã€‚å®ƒæä¾›äº†å…¨å±€çš„é™æ€æ–¹æ³•æ¥åˆ›å»ºã€è·å–å’ŒåŠ è½½é…ç½®é¡¹ï¼Œæ˜¯ä¸æœ¬æ¨¡å—äº¤äº’çš„ä¸»è¦å…¥å£ã€‚ æœ¬æ¨¡å—é€šè¿‡yaml-cppåº“è§£æYAMLæ–‡ä»¶ï¼Œå†å°†ä».ymlä¸­è§£æå‡ºæ¥çš„ç»“æ„åŒ–æ•°æ®æ›´æ–°åˆ°å¯¹åº”çš„ConfigVarå˜é‡ä¸­ã€‚ ","date":"2025-08-10","objectID":"/posts/325196d/:1:0","tags":["veloxæ¨¡å—"],"title":"Velox_æ§åˆ¶æ¨¡å—","uri":"/posts/325196d/"},{"categories":["Velox"],"content":"ä¸»è¦ç‰¹æ€§\rç±»å‹å®‰å…¨: æ¯ä¸ªé…ç½®é¡¹åœ¨å®šä¹‰æ—¶éƒ½å¼ºç»‘å®šä¸€ä¸ªç±»å‹ï¼Œåœ¨è·å–æ—¶ä¼šè¿›è¡ŒåŠ¨æ€ç±»å‹æ£€æŸ¥ï¼Œé˜²æ­¢äº†ç±»å‹ä¸åŒ¹é…å¯¼è‡´çš„è¿è¡Œæ—¶é”™è¯¯ã€‚ é›†ä¸­å¼ç®¡ç†: æ‰€æœ‰é…ç½®é¡¹éƒ½é€šè¿‡ä¸€ä¸ªå…¨å±€çš„Configç®¡ç†å™¨è¿›è¡Œæ³¨å†Œå’Œè®¿é—®ï¼Œä¾¿äºè¿½è¸ªå’Œç®¡ç†ã€‚ æ”¯æŒå¤æ‚æ•°æ®ç»“æ„: å†…ç½®äº†å¯¹ std::vector, std::list, std::set, std::unordered_set, std::map, std::unordered_map ç­‰å¸¸ç”¨STLå®¹å™¨çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ”¯æŒã€‚ åŸºäºYAML: ä½¿ç”¨å¹¿æ³›æµè¡Œçš„YAMLæ ¼å¼ä½œä¸ºé…ç½®æ–‡ä»¶ï¼Œè¯­æ³•æ¸…æ™°ï¼Œæ”¯æŒå¤æ‚æ•°æ®ç»“æ„ã€‚ åŠ¨æ€æ›´æ–°ä¸å›è°ƒ: æ”¯æŒåœ¨è¿è¡Œæ—¶é€šè¿‡åŠ è½½YAMLæ–‡ä»¶æ¥æ›´æ–°é…ç½®å€¼ã€‚å½“æŸä¸ªé…ç½®å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯ä»¥è§¦å‘é¢„å…ˆæ³¨å†Œçš„å›è°ƒå‡½æ•°ï¼Œä½¿åº”ç”¨ç¨‹åºèƒ½å¤ŸåŠ¨æ€åœ°å“åº”é…ç½®å˜åŒ–ã€‚ ","date":"2025-08-10","objectID":"/posts/325196d/:2:0","tags":["veloxæ¨¡å—"],"title":"Velox_æ§åˆ¶æ¨¡å—","uri":"/posts/325196d/"},{"categories":["Velox"],"content":"é‡è¦å‡½æ•°ä»‹ç»\r","date":"2025-08-10","objectID":"/posts/325196d/:3:0","tags":["veloxæ¨¡å—"],"title":"Velox_æ§åˆ¶æ¨¡å—","uri":"/posts/325196d/"},{"categories":["Velox"],"content":"Configç±»\rgetDatas() using ConfigVarMap = std::unordered_map\u003cstd::string, ConfigVarBase::ptr\u003e; /** * @brief è¿”å›æ‰€æœ‰çš„é…ç½®é¡¹ */ static ConfigVarMap\u0026 getDatas() { static ConfigVarMap s_datas; return s_datas; } è¿™é‡Œçš„æ•°æ®å­˜å‚¨çš„æ˜¯åŸºç±»æŒ‡é’ˆConfigVarBase::ptrï¼Œè¿™æ˜¯å…¸å‹çš„å¤šæ€è®¾è®¡ã€‚å› ä¸ºConfigVar\u003cT\u003e æ˜¯æ¨¡æ¿ç±»ï¼Œå¦‚æœç”¨çš„æ˜¯std::unordered_map\u003cstd::string, ConfigVar\u003cT\u003e::ptr\u003e;åˆ™åªèƒ½æ”¾ä¸€ç§ç±»å‹çš„é…ç½®å˜é‡ï¼ˆæ¯”å¦‚ intã€std::stringï¼‰ã€‚ getOrCreateConfigVarPtr(const std::string\u0026 name, const T\u0026 default_value, const std::string\u0026 description = \"\") /** * @brief è·å–/åˆ›å»ºå¯¹åº”å‚æ•°åçš„é…ç½®å‚æ•° * @param[in] name é…ç½®å‚æ•°åç§° * @param[in] default_value å‚æ•°é»˜è®¤å€¼ * @param[in] description å‚æ•°æè¿° * @details è·å–å‚æ•°åä¸ºnameçš„é…ç½®å‚æ•°,å¦‚æœå­˜åœ¨åˆ™ç›´æ¥è¿”å› * å¦‚æœä¸å­˜åœ¨, åˆ™æ ¹æ®å‚æ•°åˆ›å»ºå¯¹åº”çš„é…ç½®å‚æ•° * @return è¿”å›å¯¹åº”çš„é…ç½®å‚æ•°æŒ‡é’ˆ, å¦‚æœå‚æ•°åå­˜åœ¨ä½†æ˜¯ç±»å‹ä¸åŒ¹é…åˆ™è¿”å› nullptr * @exception å¦‚æœå‚æ•°åä¸ºç©ºæˆ–åŒ…å«éæ³•å­—ç¬¦[^0-9a-z_.] æŠ›å‡ºå¼‚å¸¸ std::invalid_argument */ template\u003cclass T\u003e static typename ConfigVar\u003cT\u003e::ptr getOrCreateConfigVarPtr(const std::string\u0026 name, const T\u0026 default_value, const std::string\u0026 description = \"\") { // getDatas() è¿”å›çš„æ˜¯å­˜å‚¨å…¨éƒ¨é…ç½®é¡¹çš„ unordered_map auto it = getDatas().find(name); if (it != getDatas().end()) { auto tmp = std::dynamic_pointer_cast\u003cConfigVar\u003cT\u003e\u003e(it-\u003esecond); if (tmp) { VELOX_INFO(\"ConfigVar [name:{}, valueType:{}] exists\", name, tmp-\u003egetTypeName()); return tmp; } // å­˜åœ¨ä½†ç±»å‹ä¸åŒ¹é… VELOX_ERROR( \"ConfigVar name {} exists but type not {}, real type is {}:{}\", name, velox::util::typeName\u003cT\u003e(), it-\u003esecond-\u003egetTypeName(), it-\u003esecond-\u003etoString()); return nullptr; } // åˆ›å»ºé…ç½®å‚æ•° if (!velox::util::isValidName(name)) { VELOX_ERROR(\"ConfigVar name invalid: {}\", name); throw std::invalid_argument(name); } auto var = std::make_shared\u003cConfigVar\u003cT\u003e\u003e(name, default_value, description); getDatas()[name] = var; return var; } loadFromYaml(const YAML::Node\u0026 root) /** * @brief ä½¿ç”¨ YAML::Node æ›´æ–°å¯¹åº”é…ç½®å‚æ•° * @details åªä¼šæ›´æ–°å·²ç»å­˜åœ¨çš„é…ç½®å‚æ•°, æœªå­˜åœ¨çš„é…ç½®å‚æ•°ä¸ä¼šåˆ›å»º, åªä¼šåœ¨æ—¥å¿—ä¸­ * è®°å½• * @param[in] root è¡¨ç¤ºå½“å‰è¦è§£æçš„ YAML::Node ç»“ç‚¹ */ void Config::loadFromYaml(const YAML::Node\u0026 root) { // all_nodes ç”¨äºå­˜å‚¨è§£æå‡ºæ¥çš„ YAML::Node std::vector\u003cstd::pair\u003cconst std::string, const YAML::Node\u003e\u003e all_nodes; /** * @brief é€’å½’åœ°å°†ä¸€ä¸ªYAMLèŠ‚ç‚¹æ‰å¹³åŒ–ä¸€ç³»åˆ—\"ç‚¹åˆ†è·¯å¾„\"é”®å’Œå¯¹åº”èŠ‚ç‚¹çš„é”®å€¼å¯¹ * @details é€’å½’éå†YAMLèŠ‚ç‚¹, æ„é€ ä»¥ç‚¹å·è¿æ¥çš„é”®è·¯å¾„, å¹¶å°†æ¯ä¸ªè·¯å¾„åŠå…¶å¯¹åº” * çš„ YAML::Node æ·»åŠ åˆ°è¾“å‡ºåˆ—è¡¨ä¸­, ä»è€Œå®ç°å°† YAML çš„å±‚çº§ç»“æ„æ‰å¹³åŒ–. * åªå¤„ç†ç»“ç‚¹ä¸º Map çš„æƒ…å†µ, ä¸ä¼šå¤„ç† Sequence (é¿å…è¿‡åº¦æ‰å¹³ä¸åˆ©äºç®¡ç†). * ç¬¬ä¸€ä¸ªå‚æ•°ä¸º å½“å‰é”®è·¯å¾„çš„å‰ç¼€ * ç¬¬äºŒä¸ªå‚æ•°ä¸º å½“å‰å¤„ç†çš„ YAML èŠ‚ç‚¹ * ç¬¬ä¸‰ä¸ªå‚æ•°ä¸º å­˜å‚¨æ‰å¹³åŒ–ç»“æœ */ listAllMembers(\"\", root, all_nodes); // ä¾æ¬¡å¤„ç†æ¯ä¸ª YAML::Node for (const auto\u0026 node_pair : all_nodes) { // è·å–è¯¥é…ç½®å˜é‡æŒ‡é’ˆ const std::string\u0026 key = node_pair.first; ConfigVarBase::ptr var_ptr = getConfigVarBasePtr(key); // åˆ¤æ–­è¯¥ key æ˜¯å¦å·²ç»æ³¨å†Œ, æ³¨å†Œåˆ™æ›´æ–°å…¶å€¼ if (var_ptr) { // ç»è¿‡å‰é¢çš„ listAllMembers å¤„ç†, è¿™é‡Œçš„ YAML::Node åªä¼šæ˜¯æ ‡é‡æˆ–åˆ—è¡¨ if (node_pair.second.IsScalar()) { var_ptr-\u003efromString(node_pair.second.Scalar()); } else { std::stringstream ss; ss \u003c\u003c node_pair.second; var_ptr-\u003efromString(ss.str()); } } else { // æ²¡æ³¨å†Œçš„é…ç½®, åˆ™å†™å…¥æ—¥å¿— VELOX_WARN(\"Unrecognized config key: {}\", key); } } } loadFromConfDir(const std::string\u0026 relative_dir_path, bool force = false) /** * @brief åŠ è½½æŒ‡å®šé¡¹ç›®å­ç›®å½•é‡Œé¢çš„é…ç½®æ–‡ä»¶ * @details æ ¹æ® force å‚æ•°æ¥åˆ¤æ–­æ˜¯å¦å¼ºåˆ¶åŠ è½½å…¨éƒ¨é…ç½®æ–‡ä»¶ * force == falseæ—¶, åªåŠ è½½æ›´æ–°è¿‡çš„é…ç½®æ–‡ä»¶ * force == trueæ—¶, åŠ è½½æŒ‡å®šç›®å½•ä¸‹çš„å…¨éƒ¨é…ç½®æ–‡ä»¶ */ void Config::loadFromConfDir(const std::string\u0026 relative_dir_path, bool force) { // è·å–é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ç›¸å¯¹ç›®å½•è·¯å¾„ä¸‹çš„æ‰©å±•ä¸º .yml çš„å…¨éƒ¨æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ // å‡è®¾é¡¹ç›®æ ¹è·¯å¾„ä¸º: /home/xxx/velox, relative_dir_path = config // é‚£ä¹ˆå°±ä¼šå» /home/xxx/velox/config è¿™ä¸ªç›®å½•ä¸‹æ‰¾åˆ°æ‰€æœ‰ .yml æ–‡ä»¶, å¹¶å°†å®ƒä»¬ // çš„ç»å¯¹è·¯å¾„ä¸€èµ·è¿”å›(ä»¥vectorçš„å½¢å¼è¿”å›). auto files = velox::util::listAllFilesByExt(relative_dir_path, \".yml\"); // ä¾æ¬¡å¤„ç†æ¯ä¸ªé…ç½®æ–‡ä»¶ for (const auto\u0026 file : files) { // è·å–è¯¥æ–‡ä»¶çš„æœ€æ–°å†™å…¥æ—¶é—´ std::error_code ec; auto last_write_time = fs::last_write_time(file, ec); if (ec) { VELOX_WARN(\"Skip config file '{}': failed to get last write time: {}\", file.string(), ec.message()); continue; } auto current_timestamp = velox::util::toUnixTimestamp(last_write_time); auto\u0026 cached_timestamp = getCachedTimestampForFile(file); // åœ¨ force == false ä¸”è¯¥æ–‡ä»¶åç»­æ²¡æœ‰è¢«ä¿®æ”¹æ—¶ è·³è¿‡è¯¥é…ç½®æ–‡ä»¶ if (!force \u0026\u0026 current_timestamp == cached_timestamp) { VELOX_INFO(\"Skip config file '{}': unchanged since last load.\", file.string()); continue; } try { cached_timestamp = current_timestamp; // å°†è¯¥æ–‡ä»¶æœ€æ–°å†™å…¥æ—¶é—´è¿›è¡Œç¼“å­˜ YAML::Node root = YAML::LoadFile(file); loadFro","date":"2025-08-10","objectID":"/posts/325196d/:3:1","tags":["veloxæ¨¡å—"],"title":"Velox_æ§åˆ¶æ¨¡å—","uri":"/posts/325196d/"},{"categories":["Velox"],"content":"ConfigVarç±»\rè¯¥ç±»ç”¨äºå®šä¹‰é…ç½®å‚æ•°ç»“æ„, é™¤äº†å®ç° ConfigVarBase çš„è™šå‡½æ•°å¤–, è¿˜æ–°å¢äº†ä¸€äº›å‡½æ•°, å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æœ‰: setValue(const T\u0026 value) /** * @brief è®¾ç½®å½“å‰å‚æ•°çš„å€¼ * @details å½“å‚æ•°çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ä¼šè°ƒç”¨è¯¥å˜é‡æ‰€å¯¹åº”çš„å˜æ›´å›è°ƒå‡½æ•° */ void setValue(const T\u0026 value) { // åˆ¤æ–­æ–°æ—§å€¼æ˜¯å¦ç›¸åŒ if (value == m_val) { return; } // æ›´æ–°å€¼ T old_val = m_val; m_val = value; // m_cbs æ˜¯ä¸€ä¸ª unordered_map, ç”¨äºå­˜å‚¨è¯¥é…ç½®å‚æ•°çš„å…¨éƒ¨å›è°ƒå‡½æ•° for (const auto\u0026 [id, cb] : m_cbs) { // è°ƒç”¨æ³¨å†Œè¿‡çš„å›è°ƒå‡½æ•° cb(old_val, m_val); } } ä½¿ç”¨å›è°ƒå‡½æ•°æœºåˆ¶å¯ä»¥åœ¨è¯¥é…ç½®å‚æ•°çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶è¿›è¡Œä¸€äº›å¤„ç†ï¼ˆæ¯”å¦‚æ›´æ–°logæ¨¡å—çš„å¯¹åº”å‚æ•°ç­‰ï¼‰ã€‚ addListener(on_change_cb cb) // using on_change_cb = std::function\u003cvoid(const T\u0026 old_val, const T\u0026 new_val)\u003e; // std::unordered_map\u003cuint64_t, on_change_cb\u003e m_cbs; /** * @brief æ·»åŠ å˜åŒ–å›è°ƒå‡½æ•° * @return è¿”å›è¯¥å›è°ƒå‡½æ•°å¯¹åº”çš„å”¯ä¸€ id, ç”¨äºåˆ é™¤å›è°ƒ */ uint64_t addListener(on_change_cb cb) { // è‡ªåŠ¨ç”Ÿæˆè¯¥å›è°ƒå‡½æ•°çš„ key static uint64_t s_fun_id = 0; ++s_fun_id; m_cbs[s_fun_id] = cb; return s_fun_id; } ","date":"2025-08-10","objectID":"/posts/325196d/:3:2","tags":["veloxæ¨¡å—"],"title":"Velox_æ§åˆ¶æ¨¡å—","uri":"/posts/325196d/"},{"categories":["Velox"],"content":"ä½¿ç”¨ç¤ºä¾‹\rConfigæ¨¡å—çš„ä½¿ç”¨éƒ½æ˜¯é€šè¿‡è°ƒç”¨Configç±»ä¸­çš„é™æ€æˆå‘˜å‡½æ•°æ¥å®ç°ã€‚ #include \"config.hpp\" #include \u003cvector\u003e // å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ struct ServerDefine { std::vector\u003cstd::string\u003e address; int keepalive = 0; // å¯é€‰, é»˜è®¤ 0 int timeout = 1000; std::string name; std::string accept_worker; std::string io_worker; std::string process_worker; std::string type; bool operator==(const ServerDefine\u0026 other) const { return address == other.address \u0026\u0026 keepalive == other.keepalive \u0026\u0026 timeout == other.timeout \u0026\u0026 name == other.name \u0026\u0026 accept_worker == other.accept_worker \u0026\u0026 io_worker == other.io_worker \u0026\u0026 process_worker == other.process_worker \u0026\u0026 type == other.type; } }; // å®ç°å¯¹åº”çš„åç‰¹åŒ–, ç”¨äº YAML:Node å’Œ ServerDefine ç±»å‹ä¹‹é—´çš„è½¬æ¢ namespace velox::config { // string -\u003e ServerDefine template\u003c\u003e class TypeConverter\u003cstd::string, ServerDefine\u003e { public: ServerDefine operator()(const std::string\u0026 v) { YAML::Node node = YAML::Load(v); ServerDefine def; if (node[\"address\"].IsDefined()) { def.address = node[\"address\"].as\u003cstd::vector\u003cstd::string\u003e\u003e(); } else { VELOX_ERROR(\"server address list is null\"); throw std::logic_error(\"server address list is null\"); } if (node[\"keepalive\"].IsDefined()) { def.keepalive = node[\"keepalive\"].as\u003cint\u003e(); } if (node[\"timeout\"].IsDefined()) { def.timeout = node[\"timeout\"].as\u003cint\u003e(); } if (node[\"name\"].IsDefined()) { def.name = node[\"name\"].as\u003cstd::string\u003e(); } else { VELOX_ERROR(\"server name is empty\"); throw std::logic_error(\"server name is empty\"); } if (node[\"accept_worker\"].IsDefined()) { def.accept_worker = node[\"accept_worker\"].as\u003cstd::string\u003e(); } else { VELOX_ERROR(\"server accept worker is empty\"); throw std::logic_error(\"server accept worker is empty\"); } if (node[\"io_worker\"].IsDefined()) { def.io_worker = node[\"io_worker\"].as\u003cstd::string\u003e(); } else { VELOX_ERROR(\"server io worker is empty\"); throw std::logic_error(\"server io worker is empty\"); } if (node[\"process_worker\"].IsDefined()) { def.process_worker = node[\"process_worker\"].as\u003cstd::string\u003e(); } else { VELOX_ERROR(\"server process worker is empty\"); throw std::logic_error(\"server process worker is empty\"); } if (node[\"type\"].IsDefined()) { def.type = node[\"type\"].as\u003cstd::string\u003e(); } else { VELOX_ERROR(\"server type is empty\"); throw std::logic_error(\"server type is empty\"); } return def; } }; // ServerConfig -\u003e string template\u003c\u003e class TypeConverter\u003cServerDefine, std::string\u003e { public: std::string operator()(const ServerDefine\u0026 def) { YAML::Node node; node[\"address\"] = def.address; if (def.keepalive != 0) { node[\"keepalive\"] = def.keepalive; } node[\"timeout\"] = def.timeout; node[\"name\"] = def.name; node[\"accept_worker\"] = def.accept_worker; node[\"io_worker\"] = def.io_worker; node[\"process_worker\"] = def.process_worker; node[\"type\"] = def.type; std::stringstream ss; ss \u003c\u003c node; return ss.str(); } }; } // namespace velox::config int main() { // å…ˆæ³¨å†Œé…ç½®å˜é‡ auto servers_config = Config::getOrCreateConfigVarPtr\u003cstd::vector\u003cvelox::test::ServerDefine\u003e\u003e( \"servers\", std::vector\u003cvelox::test::ServerDefine\u003e(), \"servers config\"); return 0; // æ·»åŠ ä¸€ä¸ªå›è°ƒå‡½æ•°(å¯é€‰) auto cb_id = servers_config-\u003eaddListener( [](const std::vector\u003cServerDefine\u003e\u0026 old_val, const std::vector\u003cServerDefine\u003e\u0026 new_val) { std::cout \u003c\u003c \"servers value change.\\n\"; }); // æ„é€  YAML å†…å®¹ std::string yaml_content = R\"( servers: - address: [\"0.0.0.0:8090\", \"127.0.0.1:8091\", \"/tmp/test.sock\"] keepalive: 1 timeout: 1000 name: sylar/1.1 accept_worker: accept io_worker: http_io process_worker: http_io type: http - address: [\"0.0.0.0:8062\", \"0.0.0.0:8061\"] timeout: 1000 name: sylar-rock/1.0 accept_worker: accept io_worker: io process_worker: io type: rock)\"; // è§£æ YAML YAML::Node root = YAML::Load(yaml_content); Config::loadFromYaml(root); // è¿™é‡Œservers_configçš„å€¼ä¼šå‘ç”Ÿå˜åŒ–, è§¦å‘å›è°ƒå‡½æ•° } æ›´å¤šä½¿ç”¨ç¤ºä¾‹ï¼Œå¯æŸ¥çœ‹test/config/config_test.cppæ–‡ä»¶ ","date":"2025-08-10","objectID":"/posts/325196d/:4:0","tags":["veloxæ¨¡å—"],"title":"Velox_æ§åˆ¶æ¨¡å—","uri":"/posts/325196d/"},{"categories":["Velox"],"content":"æ¦‚è¿°\ræ—¥å¿—æ¨¡å—é€šè¿‡å°è£… spdlog åº“æ¥å®ç°ï¼Œæ¨¡å—ä»¥ velox::log å‘½åç©ºé—´ç»„ç»‡ï¼Œä¸”æä¾›äº†å®å®šä¹‰æ–¹ä¾¿å¤–éƒ¨è°ƒç”¨ã€‚è¯¥æ¨¡å—æ”¯æŒå¼‚æ­¥æ—¥å¿—è¾“å‡ºã€å¤šç›®æ ‡æ—¥å¿—ï¼ˆæ§åˆ¶å°+æ–‡ä»¶ï¼‰ã€é…ç½®æ–‡ä»¶å®šä¹‰ï¼ˆé€šè¿‡é›†æˆconfigæ¨¡å—å®ç°ï¼‰ã€‚ è¿™æ„å‘³ç€æ•´ä¸ªæ—¥å¿—ç³»ç»Ÿçš„è¡Œä¸ºâ€”â€”åŒ…æ‹¬æœ‰å“ªäº›æ—¥å¿—è®°å½•å™¨ï¼ˆLoggerï¼‰ã€æ¯ä¸ªè®°å½•å™¨çš„æ—¥å¿—çº§åˆ«ã€è¾“å‡ºæ ¼å¼ä»¥åŠè¾“å‡ºç›®æ ‡ï¼ˆæ§åˆ¶å°ã€æ–‡ä»¶ç­‰ï¼‰â€”â€”éƒ½å¯ä»¥åœ¨ YAML é…ç½®æ–‡ä»¶ä¸­å®šä¹‰ã€‚æ›´è¿›ä¸€æ­¥ï¼Œå½“é…ç½®æ–‡ä»¶è¢«é‡æ–°åŠ è½½æ—¶ï¼Œæ—¥å¿—ç³»ç»Ÿèƒ½å¤ŸåŠ¨æ€åœ°ã€æ— éœ€é‡å¯åº”ç”¨å°±å®Œæˆæ–°å¢ã€åˆ é™¤æˆ–ä¿®æ”¹æ—¥å¿—è®°å½•å™¨çš„æ“ä½œï¼Œå®ç°äº†æ—¥å¿—ç³»ç»Ÿçš„çƒ­é‡è½½ã€‚ æ­¤å¤–ï¼Œè¯¥æ¨¡å—é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªåä¸º default çš„å…¨å±€å¼‚æ­¥æ—¥å¿—å™¨ï¼Œå¯åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ—¥å¿—æ–‡ä»¶ï¼Œæ–¹ä¾¿å¿«é€Ÿä½¿ç”¨ã€‚ ","date":"2025-08-10","objectID":"/posts/1235a2f/:1:0","tags":["veloxæ¨¡å—"],"title":"Velox_æ—¥å¿—æ¨¡å—","uri":"/posts/1235a2f/"},{"categories":["Velox"],"content":"ä¸»è¦ç‰¹æ€§\ré…ç½®é©±åŠ¨ï¼šæ•´ä¸ªæ—¥å¿—ç³»ç»Ÿçš„ç»“æ„å’Œè¡Œä¸ºç”± velox::config æ¨¡å—ä¸­çš„ logs é…ç½®é¡¹é©±åŠ¨ï¼Œå®ç°äº†ä»£ç ä¸é…ç½®çš„åˆ†ç¦» åŠ¨æ€çƒ­é‡è½½ï¼šé€šè¿‡ç›‘å¬é…ç½®é¡¹ logs çš„å˜æ›´äº‹ä»¶ï¼Œå¯ä»¥åŠ¨æ€åœ°åˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤æ—¥å¿—è®°å½•å™¨ï¼Œæå¤§æå‡äº†çµæ´»æ€§ å…¨å¼‚æ­¥æ—¥å¿—ï¼šé»˜è®¤åˆ›å»ºçš„æ‰€æœ‰æ—¥å¿—è®°å½•å™¨éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä½¿ç”¨å…¨å±€çº¿ç¨‹æ± å¤„ç† I/O æ“ä½œï¼Œæœ€å¤§é™åº¦åœ°é™ä½äº†å¯¹ä¸šåŠ¡çº¿ç¨‹æ€§èƒ½çš„å½±å“ ç®€æ´çš„å®æ¥å£ï¼šæä¾›äº†ä¸€ç³»åˆ— VELOX_... å®ï¼Œå¦‚ VELOX_INFO, VELOX_LOGGER_WARNï¼Œç®€åŒ–äº†æ—¥å¿—è°ƒç”¨ï¼Œå¹¶ä¸ spdlog çš„ä½¿ç”¨æ–¹å¼ä¿æŒä¸€è‡´ å¤šç›®æ ‡è¾“å‡ºï¼šæ¯ä¸ªæ—¥å¿—è®°å½•å™¨å¯ä»¥é…ç½®å¤šä¸ªè¾“å‡ºç›®æ ‡ï¼ˆç§°ä¸º Appenderï¼‰ï¼Œä¾‹å¦‚å¯ä»¥åŒæ—¶å‘æ§åˆ¶å°å’Œæ¯æ—¥è½®è½¬çš„æ—¥å¿—æ–‡ä»¶è¾“å‡º ç²¾ç»†åŒ–æ§åˆ¶ï¼šå¯ä»¥ä¸ºæ•´ä¸ªæ—¥å¿—è®°å½•å™¨åŠå…¶ä¸‹çš„æ¯ä¸ª Appender å•ç‹¬è®¾ç½®ä¸åŒçš„æ—¥å¿—çº§åˆ«å’Œè¾“å‡ºæ ¼å¼ ","date":"2025-08-10","objectID":"/posts/1235a2f/:2:0","tags":["veloxæ¨¡å—"],"title":"Velox_æ—¥å¿—æ¨¡å—","uri":"/posts/1235a2f/"},{"categories":["Velox"],"content":"é‡è¦å‡½æ•°ä»‹ç»\r","date":"2025-08-10","objectID":"/posts/1235a2f/:3:0","tags":["veloxæ¨¡å—"],"title":"Velox_æ—¥å¿—æ¨¡å—","uri":"/posts/1235a2f/"},{"categories":["Velox"],"content":"åˆå§‹åŒ–å‡½æ•°\r/** * @brief å¯¹ spdlog è¿›è¡Œåˆå§‹åŒ–, å¹¶åˆ›å»ºå’Œè®¾ç½®é…ç½®å‚æ•° logs * @param[in] queue_size ç”¨äºå¼‚æ­¥ logger çš„é˜Ÿåˆ—å¤§å° * @param[in] n_threads ç”¨äºå¼‚æ­¥ logger çš„çº¿ç¨‹æ•° * @return æˆåŠŸè¿”å› true */ bool initSpdlog(std::size_t queue_size, std::size_t n_threads) { try { /*------------- é…ç½®é»˜è®¤çš„æ—¥å¿—å™¨ -------------*/ spdlog::init_thread_pool(queue_size, n_threads); // æ ‡å‡†æ§åˆ¶å°è¾“å‡º auto stdout_sink = std::make_shared\u003cspdlog::sinks::stdout_color_sink_mt\u003e(); stdout_sink-\u003eset_level(spdlog::level::debug); // æ—¥å¿—æ–‡ä»¶è¾“å‡º, 0ç‚¹0åˆ†åˆ›å»ºæ–°æ—¥å¿— auto log_path = getLogPath(\"default\"); auto file_sink = std::make_shared\u003cspdlog::sinks::daily_file_sink_mt\u003e(log_path.string(), 0, 0); file_sink-\u003eset_level(spdlog::level::info); std::vector\u003cspdlog::sink_ptr\u003e sinks{ stdout_sink, file_sink }; // åˆ›å»ºä¸€ä¸ªå¼‚æ­¥æ—¥å¿—å™¨ auto logger = std::make_shared\u003cspdlog::async_logger\u003e( \"default\", sinks.begin(), sinks.end(), spdlog::thread_pool(), spdlog::async_overflow_policy::block); // è®¾ç½®è¾“å‡ºé˜ˆå€¼ logger-\u003eset_level(spdlog::level::trace); // è®¾ç½®è¾“å‡ºæ ¼å¼ logger-\u003eset_pattern(\"%^[%Y-%m-%d %T.%e][thread %t][%l][%n][%s:%#]: %v%$\"); // è®¾ç½®åˆ·æ–°é˜ˆå€¼, å½“å‡ºå‘ warn æˆ–æ›´ä¸¥é‡çš„é”™è¯¯æ—¶ç«‹åˆ»åˆ·æ–°æ—¥å¿—åˆ° disk logger-\u003eflush_on(spdlog::level::warn); // æ¯3ç§’è‡ªåŠ¨åˆ·æ–°ä¾æ¬¡ç¼“å†²åŒº spdlog::flush_every(std::chrono::seconds(3)); // å°†å…¶æ³¨å†Œä¸ºé»˜è®¤ logger spdlog::set_default_logger(logger); // è®¾ç½® spdlog å†…éƒ¨é”™è¯¯å¤„ç†å›è°ƒ spdlog::set_error_handler([](const std::string\u0026 msg) { spdlog::log(spdlog::level::critical, \"=== SPDLOG LOGGER ERROR ===: {}\", msg); }); /*------------- è®¾å®šæ—¥å¿—çš„é…ç½®å‚æ•° -------------*/ // è·å–æ—¥å¿—é…ç½®å‚æ•° logs çš„æŒ‡é’ˆ, è¯¥å‡½æ•°å†…éƒ¨ä½¿ç”¨é™æ€æˆå‘˜çš„æ–¹å¼å­˜å‚¨è¯¥æŒ‡é’ˆ auto log_defines = getLogDefinesConfigVar(); // æ·»åŠ å›è°ƒå‡½æ•°, åœ¨å€¼æ›´æ–°æ—¶è‡ªåŠ¨æ›´æ–°å¯¹åº”å‚æ•° // NOTE: æ–°æ—§å€¼çš„äº¤æ¢ setValue() å‡½æ•°å·²ç»å®Œæˆäº†, å›è°ƒå‡½æ•°æ— éœ€æ›´æ–°é…ç½®å‚æ•°å€¼ log_defines-\u003eaddListener( [](const std::set\u003cLogDefine\u003e\u0026 old_value, const std::set\u003cLogDefine\u003e\u0026 new_value) { spdlog::info(\"on_logger_conf_changed\"); // å°†æ—§å€¼å’Œæ–°å€¼è½¬ä¸º map, æ–¹ä¾¿ diff std::unordered_map\u003cstd::string, LogDefine\u003e old_map; std::unordered_map\u003cstd::string, LogDefine\u003e new_map; for (const auto\u0026 item : old_value) { old_map[item.name] = item; } for (const auto\u0026 item : new_value) { new_map[item.name] = item; } // å¤„ç†è¢«åˆ é™¤çš„æ—¥å¿—å™¨ for (const auto\u0026 [name, old_def] : old_map) { if (new_map.count(name) == 0) { spdlog::drop(name); // åˆ é™¤æŒ‡å®šæ—¥å¿—å™¨ spdlog::info(\"Logger [{}] dropped due to config removal\", name); } } // å¤„ç†æ–°å¢æˆ–æ›´æ–°çš„æ—¥å¿—å™¨ for (const auto\u0026 [name, new_def] : new_map) { auto old_it = old_map.find(name); if (old_it == old_map.end()) { // æ–°å¢ // è¯¥å‡½æ•°ä¼šæ ¹æ®å‚æ•° LogDefine åˆ›å»ºå¯¹åº”çš„æ—¥å¿—å™¨å¹¶è¿›è¡Œæ³¨å†Œ, // ä»¥ä¾¿èƒ½å¤Ÿé€šè¿‡ spdlog::get è·å– createLoggerFromDefine(new_def); spdlog::info(\"Logger [{}] created from new config\", name); } else { // æ›´æ–° spdlog::drop(name); // å¸è½½æ—§ logger createLoggerFromDefine(new_def); spdlog::info(\"Logger [{}] reloaded due to config change\", name); } } }); } catch (const spdlog::spdlog_ex\u0026 ex) { std::cerr \u003c\u003c \"spdlog initialization failed: \" \u003c\u003c ex.what() \u003c\u003c '\\n'; return false; } catch (...) { std::cerr \u003c\u003c \"spdlog initialization failed: unknown error\" \u003c\u003c '\\n'; return false; } return true; } ","date":"2025-08-10","objectID":"/posts/1235a2f/:3:1","tags":["veloxæ¨¡å—"],"title":"Velox_æ—¥å¿—æ¨¡å—","uri":"/posts/1235a2f/"},{"categories":["Velox"],"content":"åç‰¹åŒ–\rå› ä¸º LogDefine æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»å‹ï¼Œä¸ºäº†åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼ˆå³toStringå’ŒfromStringï¼‰å‡½æ•°èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦å®ç°å¯¹åº”çš„åç‰¹åŒ–ï¼š // ç›¸å…³ç»“æ„ä½“å®šä¹‰ namespace velox::log { // æ—¥å¿—è¾“å‡ºå™¨ç±»å‹(å¼ºç±»å‹æšä¸¾) enum class AppenderType { File = 1, Stdout, }; // æ—¥å¿—è¾“å‡ºå™¨å‚æ•° struct LogAppenderDefine { AppenderType type = AppenderType::File; std::string level; std::string formatter; std::string file; bool operator==(const LogAppenderDefine\u0026 oth) const { return type == oth.type \u0026\u0026 level == oth.level \u0026\u0026 formatter == oth.formatter \u0026\u0026 file == oth.file; } }; // æ—¥å¿—å™¨å‚æ•° struct LogDefine { std::string name; std::string level = \"DEBUG\"; std::string formatter = \"%^[%Y-%m-%d %T.%e][thread %t][%l][%n][%s:%#]: %v%$\"; std::vector\u003cLogAppenderDefine\u003e appenders; bool operator==(const LogDefine\u0026 oth) const { return name == oth.name \u0026\u0026 level == oth.level \u0026\u0026 formatter == oth.formatter \u0026\u0026 appenders == oth.appenders; } bool operator\u003c(const LogDefine\u0026 oth) const { return name \u003c oth.name; } }; } // namespace velox::log // å®ç° LogDefine çš„åç‰¹åŒ– namespace velox::config { // string -\u003e LogDefine template\u003c\u003e class TypeConverter\u003cstd::string, velox::log::LogDefine\u003e { public: velox::log::LogDefine operator()(const std::string\u0026 v) { YAML::Node node = YAML::Load(v); velox::log::LogDefine log_def; // åˆ¤æ–­è¯¥ key æ˜¯å¦å®šä¹‰ if (node[\"name\"].IsDefined()) { log_def.name = node[\"name\"].as\u003cstd::string\u003e(); } else { std::cout \u003c\u003c \"log config error: name is null\\n\"; throw std::logic_error(\"log config name is null\"); } // è¯¥keyæœ‰é»˜è®¤å€¼, æ‰€ä»¥æœªå®šä¹‰æ˜¯å…è®¸çš„ if (node[\"level\"].IsDefined()) { log_def.level = node[\"level\"].as\u003cstd::string\u003e(); } if (node[\"formatter\"].IsDefined()) { log_def.formatter = node[\"formatter\"].as\u003cstd::string\u003e(); } if (node[\"appenders\"].IsDefined()) { // ä¾æ¬¡å¤„ç†æ¯ä¸ªæ—¥å¿—è¾“å‡ºå™¨ for (size_t i = 0; i \u003c node[\"appenders\"].size(); ++i) { auto appender = node[\"appenders\"][i]; if (!appender[\"type\"].IsDefined()) { std::cout \u003c\u003c \"log config error: appender type is null, \" \u003c\u003c YAML::Dump(appender) \u003c\u003c std::endl; continue; } auto type = appender[\"type\"].as\u003cstd::string\u003e(); velox::log::LogAppenderDefine log_app_def; if (type == \"FileLogAppender\") { log_app_def.type = velox::log::AppenderType::File; if (!appender[\"file\"].IsDefined()) { std::cout \u003c\u003c \"log config error: fileappender file is null, \" \u003c\u003c YAML::Dump(appender) \u003c\u003c std::endl; continue; } log_app_def.file = appender[\"file\"].as\u003cstd::string\u003e(); } else if (type == \"StdoutLogAppender\") { log_app_def.type = velox::log::AppenderType::Stdout; } else { std::cout \u003c\u003c \"log config error: appender type is invalid, \" \u003c\u003c YAML::Dump(appender) \u003c\u003c std::endl; continue; } if (appender[\"level\"].IsDefined()) { log_app_def.level = appender[\"level\"].as\u003cstd::string\u003e(); } if (appender[\"formatter\"].IsDefined()) { log_app_def.formatter = appender[\"formatter\"].as\u003cstd::string\u003e(); } log_def.appenders.push_back(log_app_def); } } return log_def; } }; // LogDefine -\u003e string template\u003c\u003e class TypeConverter\u003cvelox::log::LogDefine, std::string\u003e { public: std::string operator()(const velox::log::LogDefine\u0026 ld) { YAML::Node node; node[\"name\"] = ld.name; node[\"level\"] = ld.level; node[\"formatter\"] = ld.formatter; for (const auto\u0026 app : ld.appenders) { YAML::Node app_node; if (app.type == velox::log::AppenderType::File) { app_node[\"type\"] = \"FileLogAppender\"; app_node[\"file\"] = app.file; } else { app_node[\"type\"] = \"StdoutLogAppender\"; } app_node[\"level\"] = app.level; app_node[\"formatter\"] = app.formatter; node[\"appenders\"].push_back(app_node); } std::stringstream ss; ss \u003c\u003c node; return ss.str(); } }; } // namespace velox::config ","date":"2025-08-10","objectID":"/posts/1235a2f/:3:2","tags":["veloxæ¨¡å—"],"title":"Velox_æ—¥å¿—æ¨¡å—","uri":"/posts/1235a2f/"},{"categories":["Velox"],"content":"ä½¿ç”¨ç¤ºä¾‹\r","date":"2025-08-10","objectID":"/posts/1235a2f/:4:0","tags":["veloxæ¨¡å—"],"title":"Velox_æ—¥å¿—æ¨¡å—","uri":"/posts/1235a2f/"},{"categories":["Velox"],"content":"ä½¿ç”¨é»˜è®¤æ—¥å¿—å™¨\rint main() { VELOX_LOG_INIT(); // åˆå§‹åŒ–, ä¹Ÿå¯ä»¥å¸¦å‚æ•° VELOX_LOG_INIT(queue_size, n_threads) // ä½¿ç”¨é»˜è®¤æ—¥å¿—å™¨, ä¼šåŒæ—¶å‘æ§åˆ¶å°å’Œæ–‡ä»¶è¿›è¡Œè¾“å‡º VELOX_WARN(\"Test warn message from default logger\"); VELOX_ERROR(\"Test {} message from default logger\", \"error\"); VELOX_CRITICAL(\"Test {} message from default logger\", \"critical\"); VELOX_LOG_SHUTDOWN(); // ä¼˜é›…çš„å…³é—­æ—¥å¿—ç³»ç»Ÿ return 0; } ","date":"2025-08-10","objectID":"/posts/1235a2f/:4:1","tags":["veloxæ¨¡å—"],"title":"Velox_æ—¥å¿—æ¨¡å—","uri":"/posts/1235a2f/"},{"categories":["Velox"],"content":"ä½¿ç”¨é…ç½®æ–‡ä»¶ç”Ÿæˆçš„æ—¥å¿—å™¨\rå‡è®¾ test/log/log.ymlå†…å®¹ä¸ºï¼š logs: # è®¾ç½®è¾“å‡ºæ ¼å¼, è¯¦ç»†å¯å‚è€ƒ https://github.com/gabime/spdlog/wiki/Custom-formatting#pattern-flags # é»˜è®¤æ ¼å¼ä¸º [2025-07-03 11:17:53.345][thread Id][fiber id][debug][Logger][main.cpp:37]: ...... # fileä¸ºç›¸å¯¹äºé¡¹ç›®æ ¹è·¯å¾„çš„è·¯å¾„ - name: test1 level: info appenders: - type: FileLogAppender file: logs/test1/test1.log - name: test2 level: info appenders: - type: FileLogAppender file: logs/test2/test2.log ä½¿ç”¨ä»£ç ï¼š int main() { VELOX_LOG_INIT(); // åŠ è½½æŒ‡å®šç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ velox::config::Config::loadFromConfDir(\"test/log\"); // è·å–æŒ‡å®šåç§°çš„æ—¥å¿—å™¨ auto logger = VELOX_GETLOG(\"test1\"); // ä½¿ç”¨æŒ‡å®šæ—¥å¿—å™¨è¿›è¡Œè¾“å‡º, åªä¼šå¾€æ–‡ä»¶è¿›è¡Œè¾“å‡º, ä¸”æ—¥å¿—ç­‰çº§ä¸º infoï¼Œ // æ‰€ä»¥TRACEå’ŒDEBUGæ—¥å¿—ä¸ä¼šè¾“å‡º VELOX_LOGGER_TRACE(logger, \"Test trace message from test1 logger\"); VELOX_LOGGER_DEBUG(logger, \"Test debug message from test1 logger\"); VELOX_LOGGER_INFO(logger, \"Test info message from test1 logger\"); VELOX_LOGGER_WARN(logger, \"Test warn message from {} logger\", \"test1\"); VELOX_LOGGER_ERROR(logger, \"Test error message from test1 logger\"); VELOX_LOGGER_CRITICAL(logger, \"Test critical message from test1 logger\"); VELOX_LOG_SHUTDOWN(); return 0; } æ›´å¤šç¤ºä¾‹å¯ä»¥æŸ¥çœ‹test/log/log_test.cppä¸­çš„å†…å®¹ã€‚ ","date":"2025-08-10","objectID":"/posts/1235a2f/:4:2","tags":["veloxæ¨¡å—"],"title":"Velox_æ—¥å¿—æ¨¡å—","uri":"/posts/1235a2f/"},{"categories":["Velox"],"content":"æ¦‚è¿°\råœ¨ç°ä»£å¼€å‘ä¸­ï¼Œå¤šçº¿ç¨‹å¯ä»¥æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡å’Œå“åº”é€Ÿåº¦ï¼Œå®ƒå·²ç»æˆä¸ºæé«˜åº”ç”¨ç¨‹åºæ€§èƒ½ã€å¤„ç†å¹¶å‘ä»»åŠ¡çš„é‡è¦æ‰‹æ®µã€‚ä½¿ç”¨å¤šçº¿ç¨‹éœ€è¦æ³¨æ„çº¿ç¨‹åŒæ­¥ã€èµ„æºæ¶ˆè€—ç­‰é—®é¢˜ï¼Œå½“ä½¿ç”¨çš„çº¿ç¨‹æ•°å¤šäº†æ—¶ï¼Œæ‰‹åŠ¨è¿›è¡Œç®¡ç†æ˜¯ååˆ†å›°éš¾çš„ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œçº¿ç¨‹æ± ä½œä¸ºä¸€ç§æœ‰æ•ˆçš„çº¿ç¨‹ç®¡ç†æœºåˆ¶åº”è¿è€Œç”Ÿã€‚ çº¿ç¨‹æ± ä¼šé¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„å·¥ä½œçº¿ç¨‹ï¼Œæˆ‘ä»¬åªéœ€å°†å¾…æ‰§è¡Œä»»åŠ¡æäº¤åˆ°çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± ä¼šè´Ÿè´£ä»»åŠ¡çš„åˆ†é…ä¸æ‰§è¡Œï¼Œä»è€Œç®€åŒ–çº¿ç¨‹ç®¡ç†ã€å‡å°‘ç³»ç»Ÿé¢‘ç¹åˆ›å»ºä¸é”€æ¯çº¿ç¨‹çš„å¼€é”€ã€æé«˜èµ„æºåˆ©ç”¨ç‡ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é¿å…é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:1:0","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"ä¸»è¦ç‰¹æ€§\rå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šçº¿ç¨‹æ± å…·æœ‰æ˜ç¡®çš„è¿è¡ŒçŠ¶æ€ï¼Œæ„æˆä¸€ä¸ªçŠ¶æ€æœºï¼Œç¡®ä¿åœ¨ä»»ä½•æ—¶åˆ»éƒ½å¤„äºå¯é¢„æœŸçš„çŠ¶æ€ã€‚ æ”¯æŒæš‚åœå’Œæ¢å¤ï¼šåœ¨æš‚åœçŠ¶æ€ä¸‹ï¼Œçº¿ç¨‹æ± ä¼šç»§ç»­æ¥æ”¶æ–°ä»»åŠ¡ï¼Œä½†æ‰€æœ‰å·¥ä½œçº¿ç¨‹å°†æš‚åœæ‰§è¡Œï¼Œç›´åˆ°çº¿ç¨‹æ± è¢«æ¢å¤ã€‚ æ”¯æŒä¼˜é›…å…³é—­ï¼šææ„å‡½æ•°ä¼šè‡ªåŠ¨è°ƒç”¨ shutdownå‡½æ•°ï¼Œå®‰å…¨çš„é”€æ¯çº¿ç¨‹æ± ï¼Œç¬¦åˆ RAII (Resource Acquisition Is Initialization) åŸåˆ™ã€‚ æ”¯æŒè°ƒæ•´å·¥ä½œçº¿ç¨‹æ•°é‡ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶é€šè¿‡ increaseThreadCount å’Œ decreaseThreadCount æ–¹æ³•åŠ¨æ€åœ°å¢åŠ æˆ–å‡å°‘å·¥ä½œçº¿ç¨‹çš„æ•°é‡ï¼Œä»¥é€‚åº”ä¸åŒçš„è´Ÿè½½éœ€æ±‚ã€‚ æ”¯æŒè‡ªåŠ¨è°ƒæ•´å·¥ä½œçº¿ç¨‹æ•°é‡ï¼šå¼•å…¥æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ä¸¤ä¸ªæ¦‚å¿µï¼Œä½¿å¾—çº¿ç¨‹æ± èƒ½åœ¨å·¥ä½œè´Ÿè½½å˜åŒ–æ—¶è‡ªåŠ¨è°ƒæ•´çº¿ç¨‹æ•°é‡ã€‚æ ¸å¿ƒçº¿ç¨‹å§‹ç»ˆä¿ç•™åœ¨æ± ä¸­ï¼Œè€Œæœ€å¤§çº¿ç¨‹æ•°åˆ™é™å®šçº¿ç¨‹æ± å¯åŠ¨æ€æ‰©å±•çš„ä¸Šé™ã€‚ æ”¯æŒé…ç½®æ–‡ä»¶ï¼šå¯ä»¥é€šè¿‡threadpool.ymlé…ç½®æ–‡ä»¶ä¿®æ”¹çº¿ç¨‹æ± çš„ç›¸å…³å‚æ•°ï¼ˆå¦‚æ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°ç­‰ï¼‰ï¼Œæ— éœ€é‡å¤ç¼–è¯‘ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:2:0","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"åŸºç¡€çŸ¥è¯†\råœ¨æ­£å¼ä»‹ç»çº¿ç¨‹æ± æ¨¡å—çš„ç›¸å…³ä»£ç å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€äº›å¿…è¦çš„ç°ä»£C++ç¼–ç¨‹åŸºç¡€çŸ¥è¯†ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:0","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"std::atomic\rstd::atomic æ˜¯ C++11 å¼•å…¥çš„æ¨¡æ¿ç±»ï¼Œç”¨äºå®ç°å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„åŸå­æ“ä½œï¼Œä»è€Œé¿å…æ•°æ®ç«äº‰ã€‚åŸå­æ“ä½œæ˜¯æŒ‡ä¸€ä¸ªä¸å¯è¢«ä¸­æ–­çš„æ“ä½œï¼Œè¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šè¢«å…¶ä»–çº¿ç¨‹çš„è°ƒåº¦æ‰“æ–­ã€‚std::atomicç®€ä»‹ ä½œç”¨\ræ›¿ä»£äº’æ–¥é”ï¼šå¯¹äºç®€å•çš„è®¡æ•°å™¨ã€æ ‡å¿—ä½ç­‰å…±äº«çŠ¶æ€ï¼Œä½¿ç”¨ std::atomic æ¯”ä½¿ç”¨äº’æ–¥é”ï¼ˆstd::mutexï¼‰çš„å¼€é”€æ›´å°ï¼Œæ€§èƒ½æ›´é«˜ã€‚é”é€šå¸¸ä¼šå¼•èµ·çº¿ç¨‹é˜»å¡å’Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè€Œ ã€ŒåŸå­æ“ä½œé€šå¸¸ç”±ç‰¹æ®Šçš„ CPU æŒ‡ä»¤å®ç°ï¼Œå±äºæ— é”ï¼ˆLock-Freeï¼‰ç¼–ç¨‹çš„èŒƒç•´ã€ã€‚ ç”¨æ³•\r#include \u003catomic\u003e #include \u003ciostream\u003e #include \u003cthread\u003e #include \u003cvector\u003e // ä½¿ç”¨ std::atomic\u003cint\u003e ä½œä¸ºçº¿ç¨‹å®‰å…¨çš„è®¡æ•°å™¨ std::atomic\u003cint\u003e counter(0); void increment() { for (int i = 0; i \u003c 10000; ++i) { // åŸå­åœ°å¢åŠ è®¡æ•°å™¨ï¼Œç­‰ä»·äº counter = counter + 1 // è¿™ä¸ªæ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨çš„ counter.fetch_add(1, std::memory_order_relaxed); } } int main() { std::vector\u003cstd::thread\u003e threads; for (int i = 0; i \u003c 10; ++i) { threads.emplace_back(increment); } for (auto\u0026 t : threads) { t.join(); } // counter.load() åŸå­åœ°è¯»å–å½“å‰å€¼ std::cout \u003c\u003c \"Final counter value: \" \u003c\u003c counter.load() \u003c\u003c std::endl; // è¾“å‡º 100000 return 0; } å¸¸ç”¨æ“ä½œ\rload(): åŸå­åœ°è¯»å–å€¼ã€‚ store(value): åŸå­åœ°å†™å…¥å€¼ã€‚ exchange(value): åŸå­åœ°æ›¿æ¢ä¸ºæ–°å€¼ï¼Œå¹¶è¿”å›æ—§å€¼ã€‚ fetch_add(arg) / fetch_sub(arg): åŸå­åœ°åŠ ä¸Š/å‡å»ä¸€ä¸ªå€¼ï¼Œå¹¶è¿”å›æ—§å€¼ã€‚ï¼ˆ+= å’Œ -= çš„é‡è½½æ˜¯ç­‰æ•ˆçš„ï¼Œä½†è¿”å›æ–°å€¼ï¼‰ã€‚ compare_exchange_weak(expected, desired) / compare_exchange_strong(expected, desired): æ¯”è¾ƒå¹¶äº¤æ¢ï¼ˆCASï¼‰æ“ä½œã€‚è¿™æ˜¯åŸå­æ“ä½œçš„æ ¸å¿ƒï¼Œå®ƒå°†å½“å‰å€¼ä¸ expected æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™æ›¿æ¢ä¸º desired å¹¶è¿”å› trueï¼›å¦åˆ™ï¼Œå°† expected æ›´æ–°ä¸ºå½“å‰å€¼å¹¶è¿”å› false æ³¨æ„äº‹é¡¹\rå†…å­˜åºï¼ˆMemory Orderï¼‰ï¼šstd::atomic çš„æ“ä½œå¯ä»¥æ¥å—ä¸€ä¸ª std::memory_order å‚æ•°ï¼Œç”¨æ¥æ§åˆ¶å½“å‰æ“ä½œå¦‚ä½•ä¸å…¶ä»–çº¿ç¨‹çš„å†…å­˜æ“ä½œåŒæ­¥ã€‚è¿™æ˜¯ std::atomic ä¸­æœ€å¤æ‚ä¹Ÿæœ€å…³é”®çš„éƒ¨åˆ†ï¼Œå…¶æ§åˆ¶ç€åŸå­æ“ä½œåœ¨å¤šçº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§å’Œæ‰§è¡Œé¡ºåºã€‚ memory_order_relaxed: æœ€å®½æ¾çš„é¡ºåºï¼Œåªä¿è¯æ“ä½œæœ¬èº«çš„åŸå­æ€§ï¼Œä¸æä¾›ä»»ä½•è·¨çº¿ç¨‹çš„é¡ºåºä¿è¯ã€‚ memory_order_acquire: è·å–è¯­ä¹‰ã€‚åœ¨æœ¬çº¿ç¨‹ä¸­ï¼Œæ‰€æœ‰åç»­çš„è¯»å†™æ“ä½œéƒ½ä¸èƒ½é‡æ’åˆ°æ­¤æ“ä½œä¹‹å‰ã€‚ memory_order_release: é‡Šæ”¾è¯­ä¹‰ã€‚åœ¨æœ¬çº¿ç¨‹ä¸­ï¼Œæ‰€æœ‰ä¹‹å‰çš„è¯»å†™æ“ä½œéƒ½ä¸èƒ½é‡æ’åˆ°æ­¤æ“ä½œä¹‹åã€‚ memory_order_acq_rel: åŒæ—¶å…·å¤‡è·å–å’Œé‡Šæ”¾è¯­ä¹‰ã€‚ memory_order_seq_cst: é¡ºåºä¸€è‡´æ€§ï¼Œæœ€å¼ºçš„å†…å­˜åºï¼Œä¿è¯æ‰€æœ‰çº¿ç¨‹çœ‹åˆ°çš„æ‰€æœ‰åŸå­æ“ä½œéƒ½æœ‰ä¸€ä¸ªå…¨å±€ä¸€è‡´çš„é¡ºåºã€‚è¿™æ˜¯æ‰€æœ‰åŸå­æ“ä½œçš„é»˜è®¤å€¼ã€‚ ä¸æ˜¯ä¸‡èƒ½çš„ï¼šstd::atomic é€‚ç”¨äºå•ä¸ªå˜é‡çš„åŸå­æ“ä½œã€‚å¦‚æœéœ€è¦ä¿æŠ¤å¤šä¸ªå˜é‡ï¼Œæˆ–è€…éœ€è¦è¿›è¡Œä¸€ç³»åˆ—å¤æ‚çš„æ“ä½œï¼Œé‚£ä¹ˆè¿˜æ˜¯åº”è¯¥ä½¿ç”¨ std::mutexã€‚ å¯å¹³å‡¡å¤åˆ¶ï¼šstd::atomic\u003cT\u003e è¦æ±‚ç±»å‹ T æ˜¯å¯å¹³å‡¡å¤åˆ¶çš„ï¼ˆTrivially Copyableï¼‰ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥ç”¨ memcpy åœ¨å†…å­˜ä¸­å®‰å…¨åœ°å¤åˆ¶ã€‚ çœ‹äº†ä¸Šé¢çš„æ³¨æ„äº‹é¡¹ï¼Œä½ å¯èƒ½è¿˜åœ¨æƒ³ â€œå†…å­˜åºâ€ æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿæœ‰å•¥ç”¨ï¼Ÿé‚£æˆ‘ä»¬å°±é€šè¿‡ä¸‹é¢å†…å®¹æ¥äº†è§£ä¸€ä¸‹ï¼š 1. ä¸ºä»€ä¹ˆéœ€è¦å†…å­˜åºï¼Ÿ ç¼–è¯‘å™¨å’Œ CPU çš„ä¼˜åŒ– ç°ä»£ç¼–è¯‘å™¨å’Œ CPU ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šå¯¹ä»£ç æ‰§è¡Œé¡ºåºè¿›è¡Œè°ƒæ•´ï¼ˆé‡æ’åºï¼‰ï¼Œåªè¦ä¸æ”¹å˜å•çº¿ç¨‹ç¨‹åºçš„è¯­ä¹‰ã€‚ä¾‹å¦‚ï¼š x = 1; // è¯­å¥ A y = 2; // è¯­å¥ B åœ¨å•çº¿ç¨‹ä¸­ï¼Œç¼–è¯‘å™¨ / CPU å¯èƒ½ä¼šäº¤æ¢è¯­å¥ A å’Œ B çš„æ‰§è¡Œé¡ºåºï¼Œå› ä¸ºå®ƒä»¬ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ã€‚ä½†åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œè¿™ç§é‡æ’åºå¯èƒ½ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹çœ‹åˆ°ä¸ä¸€è‡´çš„å†…å­˜çŠ¶æ€ã€‚ å¤šå¤„ç†å™¨ç³»ç»Ÿçš„ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ åœ¨å¤šæ ¸ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ª CPU æ ¸å¿ƒæœ‰è‡ªå·±çš„ç¼“å­˜ã€‚å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹å˜é‡æ—¶ï¼Œè¿™ä¸ªä¿®æ”¹å¯èƒ½å…ˆåœ¨ç¼“å­˜ä¸­ç”Ÿæ•ˆï¼Œè€Œå…¶ä»–æ ¸å¿ƒçš„ç¼“å­˜å°šæœªæ›´æ–°ã€‚å¦‚æœæ²¡æœ‰é€‚å½“çš„åŒæ­¥æœºåˆ¶ï¼Œå…¶ä»–çº¿ç¨‹å¯èƒ½è¯»å–åˆ°æ—§å€¼ã€‚ æ€§èƒ½ä¸æ­£ç¡®æ€§çš„æƒè¡¡ å¦‚æœæ‰€æœ‰æ“ä½œéƒ½å¼ºåˆ¶æŒ‰é¡ºåºæ‰§è¡Œå¹¶ä¿è¯å…¨å±€å¯è§æ€§ï¼Œè™½ç„¶ç®€å•ä½†ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚å†…å­˜åºå…è®¸å¼€å‘è€…æ ¹æ®å®é™…éœ€æ±‚æ”¾å®½çº¦æŸï¼Œæé«˜æ€§èƒ½ã€‚ 2. å†…å­˜åºå¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜ï¼Ÿ C++ æä¾›äº† 6 ç§å†…å­˜åºï¼ˆå®é™…å¸¸ç”¨ 4 ç§ï¼‰ï¼Œé€šè¿‡æ§åˆ¶Â å†…å­˜å¯è§æ€§Â å’ŒÂ æŒ‡ä»¤é‡æ’åºÂ æ¥å¹³è¡¡æ€§èƒ½å’Œæ­£ç¡®æ€§ï¼š ï¼ˆ1ï¼‰ std::memory_order_relaxed è¯¥å†…å­˜åºåªä¿è¯æ“ä½œæœ¬èº«çš„åŸå­æ€§ï¼Œä¸æä¾›ä»»ä½•è·¨çº¿ç¨‹çš„é¡ºåºä¿è¯ï¼Œä¾‹å¦‚ï¼š std::atomic\u003cint\u003e counter(0); // çº¿ç¨‹ 1 counter.fetch_add(1, std::memory_order_relaxed); // ä»…ä¿è¯åŸå­æ€§ // çº¿ç¨‹ 2 int value = counter.load(std::memory_order_relaxed); // å¯èƒ½ä¼šè¯»åˆ° 0, ä¹Ÿå¯èƒ½ä¼šè¯»åˆ°1 å› ä¸ºrelaxedä¸æä¾›ä»»ä½•è·¨çº¿ç¨‹çš„é¡ºåºä¿è¯ï¼Œæ‰€ä»¥çº¿ç¨‹2çš„è¯»å–åˆ°counterå€¼å¯èƒ½ä¸º0ï¼ˆåœ¨åŠ æ“ä½œå‰è¯»å–ï¼‰ï¼Œä¹Ÿå¯èƒ½ä¸º1ï¼ˆåœ¨åŠ æ“ä½œåè¯»å–ï¼‰ã€‚è¯¥å†…å­˜åºåªé€‚ç”¨äºè®¡æ•°å™¨è‡ªå¢ç­‰æ— éœ€åŒæ­¥çš„æ“ä½œã€‚ ï¼ˆ2ï¼‰std::memory_order_releaseÂ å’ŒÂ std::memory_order_acquire åœ¨åŒä¸€çº¿ç¨‹ä¸­releaseå¼ºåˆ¶è¦æ±‚æ­¤æ“ä½œä¹‹å‰çš„è¯»å†™æ“ä½œéƒ½ä¸èƒ½é‡æ’åˆ°æ­¤æ“ä½œåï¼›åœ¨åŒä¸€çº¿ç¨‹ä¸­acquireå¼ºåˆ¶è¦æ±‚æ­¤æ“ä½œä¹‹åçš„è¯»å†™æ“ä½œéƒ½ä¸èƒ½é‡æ’åˆ°æ­¤æ“ä½œä¹‹å‰ã€‚ä¸¤è€…é…åˆä½¿ç”¨å¯ä»¥å®ç°åŒæ­¥åŸè¯­ï¼Œæ˜¯ä¸€ç§è½»é‡çº§çš„åŒæ­¥æœºåˆ¶ã€‚ç›´æ¥çœ‹ç¤ºä¾‹ï¼š std::atomic\u003cbool\u003e ready{false}; int data = 0; // çº¿ç¨‹1ï¼ˆç”Ÿäº§è€…ï¼‰ data = 42; // éåŸå­æ“ä½œ ready.store(true, std::memory_order_release); // å‘å¸ƒæ•°æ® // çº¿ç¨‹2ï¼ˆæ¶ˆè´¹è€…ï¼‰ while (!ready.load(std::memory_order_acquire)); // ç­‰å¾…æ•°æ® assert(data == 42); // å¿…å®šæˆåŠŸ memory_order_release ä¿è¯ data=42 ä¸ä¼šé‡æ’åˆ° ready=true ä¹‹å memory_order_acquire ä¿è¯ assert ä¸ä¼šé‡æ’åˆ° while ä¹‹å‰ ï¼ˆ3ï¼‰std::memory_order_seq_cstï¼ˆé»˜è®¤ï¼‰ è¿™æ˜¯åŸå­æ“ä½œä¸­æœ€å®‰å…¨çš„å†…å­˜åºï¼Œä»£ä»·ä¸ºæ€§èƒ½è¾ƒä½ï¼Œå®ƒä¿è¯äº†ï¼šæ‰€æœ‰çº¿ç¨‹çœ‹åˆ°çš„æ‰€æœ‰åŸå­æ“ä½œï¼Œå…·æœ‰å…¨å±€ç»Ÿä¸€çš„æ‰§è¡Œé¡ºåºï¼ˆå› ä¸ºä¼šæ›´æ–°å…¨éƒ¨æ ¸çš„ç¼“å­˜ï¼‰ï¼Œä¸”åŒä¸€çº¿ç¨‹å†…çš„æ‰§è¡Œé¡ºåºä¸ä»£ç ä¸­å†™çš„é¡ºåºä¸€è‡´ã€‚ç›´æ¥çœ‹ç¤ºä¾‹ï¼š std::atomic\u003cint\u003e x{0}; std::atomic\u003cint\u003e y{0}; int r1, r2; // çº¿ç¨‹1 void thread1() { x.store(1, std::memory_order_seq_cst); // A r1 = y.load(std::memory_order_seq_cst); // B } //çº¿ç¨‹2 void thread2() { y.store(1, std::memory_order_seq_cst); // C r2 = x.load(std::memory_order_seq_cst); // D } int main() { ...... std::cout \u003c\u003c \"r1: \" \u003c\u003c r1 \u003c\u003c \", r2: \" \u003c\u003c r2 \u003c\u003c std::endl; return 0; } åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåˆæ³•çš„æ‰§è¡Œé¡ºåºåªå¯èƒ½ä¸ºä¸‹é¢çš„6ç§ï¼š A B C D A C B D A C D B C D A B C A D B C A B D seq_cstè§„å®šäº†Aå¿…é¡»åœ¨Bå‰é¢ï¼ŒCå¿…é¡»åœ¨Då‰é¢ï¼ˆæ‰§è¡Œé¡ºåºä¸ä»£ç ä¸­å†™çš„é¡ºåºä¸€è‡´ï¼‰ï¼Œä¸”å½“æŸä¸ªåŸå­æ“ä½œæ‰§è¡Œå®Œæˆåï¼Œå…¶ä»–çº¿ç¨‹ä¹Ÿèƒ½é©¬ä¸Šçœ‹åˆ°è¯¥æ“ä½œã€‚æ‰€ä»¥ï¼Œä¸å­˜åœ¨è¾“å‡ºr1: 0, r2: 0 çš„æƒ…å†µï¼Œå› ä¸º r1 ä¸º 0 è¯´æ˜Aå·²ç»æ‰§è¡Œï¼ˆçº¿ç¨‹2èƒ½é©¬ä¸Šçœ‹åˆ°Aæ“ä½œçš„ç»“æœï¼Œå³xçš„å€¼è¢«ä¿®æ”¹ä¸ºäº†1ï¼‰ï¼Œr2ä¸å¯èƒ½ä¸º0ï¼›åŒç† r2 ä¸º 0 è¯´æ˜Cå·²ç»æ‰§è¡Œï¼Œr1ä¸å¯èƒ½ä¸º0ã€‚ ==æ³¨æ„ï¼š==å†…å­˜åºååˆ†é‡è¦å’Œå¤æ‚ï¼Œåˆšå¼€å§‹ä½¿ç”¨æ—¶æ¨èæ‹·æ‰“AIè€å¸ˆï¼ˆå»ºè®®åŒæ—¶æ‹·æ‰“3ä¸ªï¼‰ï¼Œé€æ­¥ç§¯ç´¯ä½¿ç”¨ç»éªŒã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:1","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"std::async\rstd::async æ˜¯ä¸€ä¸ª C++11 å¼•å…¥çš„å‡½æ•°æ¨¡æ¿ï¼Œå®ƒä»¥ä¸€ç§ç®€å•ç›´æ¥çš„æ–¹å¼å¼‚æ­¥åœ°è¿è¡Œä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼ˆå¦‚å‡½æ•°ã€lambda è¡¨è¾¾å¼ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ª std::futureï¼Œè¯¥ std::future å°†åœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»æŒæœ‰è¯¥å¼‚æ­¥ä»»åŠ¡çš„è®¡ç®—ç»“æœã€‚ ä½œç”¨\rç®€åŒ–å¼‚æ­¥ç¼–ç¨‹ï¼šstd::async æ˜¯å¯åŠ¨å¼‚æ­¥ä»»åŠ¡æœ€ç®€å•çš„æ–¹æ³•ä¹‹ä¸€ã€‚å®ƒå°è£…äº†çº¿ç¨‹çš„åˆ›å»ºå’Œç®¡ç†ï¼Œè®©å¼€å‘è€…å¯ä»¥åƒè°ƒç”¨æ™®é€šå‡½æ•°ä¸€æ ·å¯åŠ¨ä¸€ä¸ªå¹¶å‘ä»»åŠ¡ï¼Œè€Œæ— éœ€æ‰‹åŠ¨åˆ›å»º std::thread å¯¹è±¡ã€‚ è·å–è¿”å›å€¼å’Œå¼‚å¸¸ï¼šå®ƒè‡ªåŠ¨å°†ä»»åŠ¡çš„è¿”å›å€¼æˆ–æŠ›å‡ºçš„å¼‚å¸¸æ•è·å¹¶å­˜å…¥è¿”å›çš„ std::future å¯¹è±¡ä¸­ï¼Œä½¿å¾—åœ¨ä¸»çº¿ç¨‹ä¸­è·å–ç»“æœå’Œå¤„ç†å¼‚å¸¸å˜å¾—éå¸¸æ–¹ä¾¿ã€‚ æŠ½è±¡åŒ–çº¿ç¨‹ç®¡ç†ï¼šå®ƒå…è®¸è¿è¡Œæ—¶åº“ï¼ˆRuntime Libraryï¼‰æ ¹æ®ç³»ç»Ÿè´Ÿè½½å’Œå¯ç”¨èµ„æºæ¥å†³å®šä»»åŠ¡çš„æ‰§è¡Œæ–¹å¼ï¼Œä¾‹å¦‚æ˜¯åœ¨æ–°çº¿ç¨‹ä¸­è¿è¡Œè¿˜æ˜¯å»¶è¿Ÿæ‰§è¡Œï¼Œä»è€Œå¯èƒ½å®ç°æ›´å¥½çš„æ€§èƒ½å’Œèµ„æºåˆ©ç”¨ã€‚ ç”¨æ³•\rstd::async çš„åŸºæœ¬ç”¨æ³•æ˜¯ä¼ å…¥ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡å’Œå…¶æ‰€éœ€çš„å‚æ•°ã€‚ #include \u003ciostream\u003e #include \u003cfuture\u003e #include \u003cstring\u003e #include \u003cchrono\u003e #include \u003cthread\u003e // ä¸€ä¸ªè€—æ—¶çš„ä»»åŠ¡ï¼Œæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°å¹¶è¿”å›å…¶é•¿åº¦ size_t string_length_task(const std::string\u0026 s) { std::cout \u003c\u003c \"Task running in thread: \" \u003c\u003c std::this_thread::get_id() \u003c\u003c std::endl; std::this_thread::sleep_for(std::chrono::seconds(2)); return s.length(); } int main() { std::string my_string = \"Hello, C++ Concurrency!\"; std::cout \u003c\u003c \"Main thread: \" \u003c\u003c std::this_thread::get_id() \u003c\u003c std::endl; // å¯åŠ¨å¼‚æ­¥ä»»åŠ¡ã€‚my_string è¢«å¤åˆ¶æˆ–ç§»åŠ¨åˆ°ä»»åŠ¡ä¸­ã€‚ // ä½¿ç”¨ std::launch::async ç­–ç•¥ç¡®ä¿ä»»åŠ¡åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œã€‚ std::future\u003csize_t\u003e fut = std::async(std::launch::async, string_length_task, my_string); std::cout \u003c\u003c \"Task launched. Main thread continues working...\" \u003c\u003c std::endl; // ... ä¸»çº¿ç¨‹å¯ä»¥æ‰§è¡Œå…¶ä»–å·¥ä½œ ... std::cout \u003c\u003c \"Waiting for result from async task...\" \u003c\u003c std::endl; // è°ƒç”¨ fut.get() ä¼šé˜»å¡ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆå¹¶è¿”å›ç»“æœ size_t length = fut.get(); std::cout \u003c\u003c \"The length of the string is: \" \u003c\u003c length \u003c\u003c std::endl; return 0; } å¸¸ç”¨æ“ä½œ\rstd::async æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶æ“ä½œå°±æ˜¯è°ƒç”¨å®ƒã€‚å…³é”®åœ¨äºå¦‚ä½•é…ç½®å®ƒçš„è¡Œä¸ºï¼Œè¿™é€šè¿‡å¯åŠ¨ç­–ç•¥ï¼ˆlaunch policyï¼‰å‚æ•°æ¥æ§åˆ¶ï¼š std::async(std::launch::async, f, args...): è¡Œä¸º: ä¿è¯å¯è°ƒç”¨å¯¹è±¡ f åœ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸Šå¼‚æ­¥æ‰§è¡Œï¼Œç±»ä¼¼äºåˆ›å»ºäº†ä¸€ä¸ª std::threadã€‚ æ•ˆæœ: ä»»åŠ¡ä¼šç«‹å³å¼€å§‹ï¼ˆæˆ–å°½å¿«ç”±æ“ä½œç³»ç»Ÿè°ƒåº¦ï¼‰ï¼Œä¸è°ƒç”¨è€…å¹¶å‘æ‰§è¡Œã€‚ std::async(std::launch::deferred, f, args...): è¡Œä¸º: ä»»åŠ¡è¢«å»¶è¿Ÿæ‰§è¡Œã€‚å®ƒä¸ä¼šç«‹å³å¯åŠ¨ï¼Œè€Œæ˜¯åœ¨è¿”å›çš„ std::future ä¸Šé¦–æ¬¡è°ƒç”¨ get() æˆ– wait() æ—¶ï¼Œæ‰ä¼šåœ¨è°ƒç”¨ get() æˆ– wait() çš„é‚£ä¸ªçº¿ç¨‹ä¸ŠåŒæ­¥æ‰§è¡Œã€‚ æ•ˆæœ: æ²¡æœ‰å¹¶å‘ï¼Œåªæ˜¯å°†å‡½æ•°çš„æ‰§è¡Œæ¨è¿Ÿäº†ã€‚ std::async(f, args...) (ä¸æŒ‡å®šç­–ç•¥ï¼Œä½¿ç”¨é»˜è®¤å€¼): è¡Œä¸º: è¿™æ˜¯é»˜è®¤ç­–ç•¥ï¼Œç­‰ä»·äº std::launch::async | std::launch::deferredã€‚å®ç°å¯ä»¥è‡ªç”±é€‰æ‹©æ˜¯åœ¨æ–°çº¿ç¨‹ä¸­ç«‹å³æ‰§è¡Œï¼Œè¿˜æ˜¯å»¶è¿Ÿæ‰§è¡Œã€‚ æ•ˆæœ: è¡Œä¸ºä¸ç¡®å®šï¼Œå–å†³äºå…·ä½“çš„æ ‡å‡†åº“å®ç°å’Œå½“æ—¶çš„ç³»ç»ŸçŠ¶æ€ã€‚è¿™å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜æˆ–æ„å¤–çš„é˜»å¡ã€‚ æ³¨æ„äº‹é¡¹\ræ˜¾å¼æŒ‡å®šå¯åŠ¨ç­–ç•¥ï¼šç”±äºé»˜è®¤ç­–ç•¥çš„è¡Œä¸ºä¸ç¡®å®šï¼Œå¼ºçƒˆå»ºè®®æ€»æ˜¯æ˜¾å¼æŒ‡å®š std::launch::async æˆ– std::launch::deferredã€‚std::launch::async æ˜¯æœ€å¸¸ç”¨çš„ï¼Œå› ä¸ºå®ƒèƒ½ä¿è¯çœŸæ­£çš„å¹¶å‘ã€‚ future çš„ææ„å‡½æ•°è¡Œä¸ºï¼šå¦‚æœç”± std::async è¿”å›çš„ std::future åœ¨å…¶å…³è”çš„ä»»åŠ¡å°šæœªå®Œæˆæ—¶è¢«é”€æ¯ï¼Œè¯¥ future çš„ææ„å‡½æ•°ä¼šé˜»å¡ï¼Œç›´åˆ°ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ã€‚è¿™æ˜¯ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œé˜²æ­¢ç¨‹åºåœ¨åå°çº¿ç¨‹ä»åœ¨è¿è¡Œæ—¶æ„å¤–é€€å‡ºï¼Œä½†ä¹Ÿå¯èƒ½å¯¼è‡´éé¢„æœŸçš„ç­‰å¾…ã€‚ void might_block() { // fut æ˜¯å±€éƒ¨å˜é‡ï¼Œåœ¨å‡½æ•°è¿”å›æ—¶ä¼šè¢«é”€æ¯ // å¦‚æœä»»åŠ¡è¿˜åœ¨è¿è¡Œï¼Œææ„å‡½æ•°ä¼šé˜»å¡åœ¨æ­¤å¤„ std::future\u003cvoid\u003e fut = std::async(std::launch::async, []{ std::this_thread::sleep_for(std::chrono::seconds(5)); }); } // \u003c- æ­¤å¤„å¯èƒ½é˜»å¡ å‚æ•°ä¼ é€’ï¼šä¼ é€’ç»™ std::async çš„å‚æ•°ä¼šè¢«å¤åˆ¶æˆ–ç§»åŠ¨åˆ°ä»»åŠ¡çš„å†…éƒ¨å­˜å‚¨ä¸­ã€‚å¦‚æœæƒ³é€šè¿‡å¼•ç”¨ä¼ é€’å‚æ•°ä»¥é¿å…æ‹·è´ï¼Œå¹¶å¸Œæœ›åœ¨ä»»åŠ¡ä¸­ä¿®æ”¹åŸå§‹å€¼ï¼Œéœ€è¦ä½¿ç”¨ std::ref æˆ– std::cref è¿›è¡ŒåŒ…è£…ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:2","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"std::packaged_task\rstd::packaged_task æ˜¯ä¸€ä¸ª C++11 å¼•å…¥çš„æ¨¡æ¿ç±»ï¼Œå®ƒå°†ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼ˆå‡½æ•°ã€lambda ç­‰ï¼‰åŒ…è£…èµ·æ¥ï¼Œä½¿å…¶å¯ä»¥è¢«å¼‚æ­¥è°ƒç”¨ã€‚å®ƒçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å°†ä»»åŠ¡çš„å®šä¹‰ä¸ä»»åŠ¡çš„æ‰§è¡Œä»¥åŠå…¶æœªæ¥ç»“æœåˆ†ç¦»å¼€æ¥ã€‚ ä½œç”¨\rè§£è€¦ä»»åŠ¡ä¸çº¿ç¨‹ï¼šstd::packaged_task å…è®¸ä½ åˆ›å»ºä¸€ä¸ªâ€œä»»åŠ¡åŒ…â€ï¼Œè¿™ä¸ªåŒ…å†…å«ä¸€ä¸ªè¦æ‰§è¡Œçš„æ“ä½œã€‚ä½ å¯ä»¥ç¨åå†³å®šè¿™ä¸ªä»»åŠ¡åœ¨å“ªä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œç”šè‡³å¯ä»¥å°†å…¶å­˜å‚¨åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œç”±ä¸€ä¸ªçº¿ç¨‹æ± æ¥å¤„ç†ã€‚ è¿æ¥å¯è°ƒç”¨å¯¹è±¡ä¸ std::futureï¼šå®ƒåƒä¸€ä¸ªæ¡¥æ¢ï¼Œä¸€ç«¯è¿æ¥ç€ä½ çš„å‡½æ•°ä»£ç ï¼Œå¦ä¸€ç«¯é€šè¿‡ get_future() æ–¹æ³•æä¾›ä¸€ä¸ª std::future å¯¹è±¡ã€‚å½“è¿™ä¸ªä»»åŠ¡åŒ…è¢«æ‰§è¡Œæ—¶ï¼Œå…¶è¿”å›å€¼æˆ–å¼‚å¸¸ä¼šè‡ªåŠ¨è¢«å­˜å…¥å…³è”çš„ std::future ä¸­ã€‚ æ„å»ºçº¿ç¨‹æ± å’Œä»»åŠ¡é˜Ÿåˆ—ï¼šå®ƒæ˜¯å®ç°çº¿ç¨‹æ± ã€ä»»åŠ¡è°ƒåº¦å™¨ç­‰é«˜çº§å¹¶å‘æ¨¡å¼çš„å…³é”®ç»„ä»¶ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€å † packaged_taskï¼ŒæŠŠå®ƒä»¬æ”¾å…¥ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åè®©å·¥ä½œçº¿ç¨‹ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡å¹¶æ‰§è¡Œã€‚ ç”¨æ³•\råŸºæœ¬æµç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼šåŒ…è£…ä»»åŠ¡ã€è·å– futureã€æ‰§è¡Œä»»åŠ¡ã€‚ #include \u003ciostream\u003e #include \u003cfuture\u003e #include \u003cthread\u003e #include \u003cvector\u003e #include \u003cfunctional\u003e // for std::packaged_task // ä»»åŠ¡ï¼šè®¡ç®—ä¸¤ä¸ªæ•´æ•°çš„å’Œ int sum(int a, int b) { std::this_thread::sleep_for(std::chrono::seconds(1)); return a + b; } int main() { // 1. åŒ…è£…ä»»åŠ¡ï¼šåˆ›å»ºä¸€ä¸ª packaged_taskï¼Œå…¶ç­¾åä¸º int(int, int) std::packaged_task\u003cint(int, int)\u003e task(sum); // 2. è·å– futureï¼šåœ¨ä»»åŠ¡æ‰§è¡Œå‰ï¼Œè·å–ä¸ä¹‹å…³è”çš„ future std::future\u003cint\u003e result_future = task.get_future(); // 3. æ‰§è¡Œä»»åŠ¡ï¼šå†³å®šåœ¨ä½•å¤„ã€ä½•æ—¶æ‰§è¡Œä»»åŠ¡ // è¿™é‡Œæˆ‘ä»¬æŠŠå®ƒç§»åŠ¨åˆ°ä¸€ä¸ªæ–°çº¿ç¨‹ä¸­æ‰§è¡Œ // packaged_task æ˜¯ä¸å¯å¤åˆ¶çš„ï¼Œåªèƒ½ç§»åŠ¨ std::thread task_thread(std::move(task), 5, 10); std::cout \u003c\u003c \"Task has been sent to a thread. Waiting for the result...\" \u003c\u003c std::endl; // ä» future ä¸­è·å–ç»“æœï¼ˆä¼šé˜»å¡ç›´åˆ°ä»»åŠ¡å®Œæˆï¼‰ int result = result_future.get(); std::cout \u003c\u003c \"The result is: \" \u003c\u003c result \u003c\u003c std::endl; task_thread.join(); // ç­‰å¾…çº¿ç¨‹æ‰§è¡Œå®Œæ¯• return 0; } å¸¸ç”¨æ“ä½œ\ræ„é€ å‡½æ•° std::packaged_task\u003cSignature\u003e(callable): ç”¨ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ callable æ¥åˆ›å»ºä¸€ä¸ªä»»åŠ¡åŒ…ã€‚Signature æ˜¯å‡½æ•°çš„ç­¾åï¼Œä¾‹å¦‚ int(int, double)ã€‚ get_future(): è¿”å›ä¸€ä¸ªä¸è¯¥ä»»åŠ¡å…³è”çš„ std::future å¯¹è±¡ã€‚æ³¨æ„ï¼šget_future() åªèƒ½è°ƒç”¨ä¸€æ¬¡ã€‚ operator(): æ‰§è¡Œè¢«åŒ…è£…çš„ä»»åŠ¡ã€‚è°ƒç”¨ task(args...) å°±ä¼šæ‰§è¡Œå†…éƒ¨çš„å¯è°ƒç”¨å¯¹è±¡ã€‚ä»»åŠ¡çš„è¿”å›å€¼ï¼ˆæˆ–å¼‚å¸¸ï¼‰ä¼šè¢«è‡ªåŠ¨å­˜å…¥ futureã€‚ make_ready_at_thread_exit(): åœ¨ä»»åŠ¡æ‰§è¡Œåï¼Œè°ƒç”¨æ­¤æ–¹æ³•å¯ä»¥ä½¿ä»»åŠ¡çš„å…±äº«çŠ¶æ€åœ¨çº¿ç¨‹é€€å‡ºæ—¶æ‰å˜ä¸º readyã€‚è¿™åœ¨å¤„ç†çº¿ç¨‹å±€éƒ¨å˜é‡ï¼ˆthread-local variablesï¼‰æ—¶éå¸¸æœ‰ç”¨ã€‚ reset(): é‡ç½® packaged_task çš„çŠ¶æ€ï¼Œä½¿å…¶å¯ä»¥è¢«å†æ¬¡æ‰§è¡Œã€‚å®ƒä¼šé‡Šæ”¾ä¹‹å‰çš„ç»“æœï¼Œå¹¶é‡æ–°ä¸ä¸€ä¸ªæ–°çš„ std::future å…³è”ï¼ˆéœ€è¦å†æ¬¡è°ƒç”¨ get_future()ï¼‰ã€‚ æ³¨æ„äº‹é¡¹\rç§»åŠ¨è¯­ä¹‰ï¼ˆMove-Onlyï¼‰ï¼šstd::packaged_task æ˜¯ä¸€ä¸ªåªç§»ç±»å‹ï¼ˆMove-Onlyï¼‰ï¼Œå®ƒä¸å¯å¤åˆ¶ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½å°†å…¶æ‹·è´åˆ°å¤šä¸ªåœ°æ–¹ï¼Œåªèƒ½é€šè¿‡ std::move æ¥è½¬ç§»å…¶æ‰€æœ‰æƒï¼Œä¾‹å¦‚å°†å…¶å­˜å…¥å®¹å™¨æˆ–ä¼ é€’ç»™çº¿ç¨‹ã€‚ ä¸€æ¬¡æ€§çš„ get_future()ï¼šä¸ std::promise ç±»ä¼¼ï¼Œä¸€ä¸ª packaged_task å®ä¾‹çš„ get_future() æ–¹æ³•åªèƒ½è¢«æˆåŠŸè°ƒç”¨ä¸€æ¬¡ã€‚å†æ¬¡è°ƒç”¨ä¼šæŠ›å‡º std::future_errorã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:3","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"std::future\rstd::future æä¾›äº†ä¸€ç§è®¿é—®å¼‚æ­¥æ“ä½œç»“æœçš„æœºåˆ¶ã€‚å½“ä½ å¯åŠ¨ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡æ—¶ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ std::asyncï¼Œstd::packaged_task æˆ– std::promiseï¼‰ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª std::future å¯¹è±¡ã€‚è¿™ä¸ª future å¯¹è±¡åœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»ä¼šæŒæœ‰è¯¥å¼‚æ­¥ä»»åŠ¡çš„è®¡ç®—ç»“æœæˆ–æŠ›å‡ºçš„å¼‚å¸¸ã€‚ ä½œç”¨\rè·å–å¼‚æ­¥ç»“æœï¼šä¸»çº¿ç¨‹å¯ä»¥éšæ—¶é€šè¿‡ future å¯¹è±¡æŸ¥è¯¢å¼‚æ­¥ä»»åŠ¡æ˜¯å¦å®Œæˆï¼Œå¹¶è·å–å…¶è¿”å›å€¼ï¼Œè€Œæ— éœ€è‡ªå·±æ‰‹åŠ¨ç®¡ç†çº¿ç¨‹å’Œå…±äº«çŠ¶æ€ã€‚ çº¿ç¨‹åŒæ­¥ï¼šfuture çš„ .get() æˆ– .wait() æ–¹æ³•ä¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¼‚æ­¥ä»»åŠ¡å®Œæˆã€‚è¿™æ˜¯ä¸€ç§ç®€å•çš„çº¿ç¨‹åŒæ­¥æ–¹å¼ã€‚ å¼‚å¸¸ä¼ é€’ï¼šå¦‚æœå¼‚æ­¥ä»»åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œè¯¥å¼‚å¸¸ä¼šè¢«æ•è·å¹¶å­˜å‚¨åœ¨ future å¯¹è±¡ä¸­ã€‚å½“ä¸»çº¿ç¨‹è°ƒç”¨ .get() æ—¶ï¼Œè¯¥å¼‚å¸¸ä¼šè¢«é‡æ–°æŠ›å‡ºã€‚ ç”¨æ³•\ræœ€å¸¸è§çš„ç”¨æ³•æ˜¯ä¸ std::async é…åˆä½¿ç”¨ï¼š #include \u003ciostream\u003e #include \u003cfuture\u003e #include \u003cthread\u003e #include \u003cchrono\u003e // ä¸€ä¸ªå¯èƒ½è€—æ—¶è¾ƒé•¿çš„è®¡ç®—ä»»åŠ¡ int calculate_something() { std::this_thread::sleep_for(std::chrono::seconds(2)); if (/* some error condition */ false) { throw std::runtime_error(\"Calculation failed!\"); } return 123; } int main() { // ä½¿ç”¨ std::async å¯åŠ¨ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡ // std::launch::async ç­–ç•¥ä¿è¯ä»»åŠ¡åœ¨ä¸€ä¸ªæ–°çº¿ç¨‹ä¸Šè¿è¡Œ std::future\u003cint\u003e fut = std::async(std::launch::async, calculate_something); std::cout \u003c\u003c \"Doing other work in main thread...\" \u003c\u003c std::endl; // ... åœ¨ä¸»çº¿ç¨‹ä¸­å¯ä»¥åšå…¶ä»–äº‹æƒ… ... std::cout \u003c\u003c \"Waiting for the result...\" \u003c\u003c std::endl; try { // è°ƒç”¨ .get() æ¥è·å–ç»“æœ // å¦‚æœä»»åŠ¡å°šæœªå®Œæˆï¼Œæ­¤è°ƒç”¨ä¼šé˜»å¡å½“å‰çº¿ç¨‹ int result = fut.get(); std::cout \u003c\u003c \"The result is: \" \u003c\u003c result \u003c\u003c std::endl; } catch (const std::exception\u0026 e) { std::cout \u003c\u003c \"Exception from async task: \" \u003c\u003c e.what() \u003c\u003c std::endl; } return 0; } å¸¸ç”¨æ“ä½œ\rget(): ç­‰å¾…å¼‚æ­¥ä»»åŠ¡å®Œæˆå¹¶è¿”å›å…¶ç»“æœã€‚å¦‚æœä»»åŠ¡æŠ›å‡ºå¼‚å¸¸ï¼Œget() ä¼šé‡æ–°æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚æ³¨æ„ï¼šget() åªèƒ½è°ƒç”¨ä¸€æ¬¡ã€‚ wait(): ç­‰å¾…å¼‚æ­¥ä»»åŠ¡å®Œæˆï¼Œä½†ä¸è·å–ç»“æœã€‚ wait_for() / wait_until(): ç­‰å¾…ä¸€æ®µæ—¶é—´æˆ–ç›´åˆ°æŸä¸ªæ—¶é—´ç‚¹ã€‚ valid(): æ£€æŸ¥ future å¯¹è±¡æ˜¯å¦ä¸ä¸€ä¸ªå…±äº«çŠ¶æ€å…³è”ã€‚è°ƒç”¨ get() åï¼Œfuture ä¼šå˜ä¸º invalidã€‚ æ³¨æ„äº‹é¡¹\rget() çš„ä¸€æ¬¡æ€§ï¼šstd::future çš„ get() æˆå‘˜å‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ã€‚å› ä¸ºç»“æœï¼ˆæˆ–å¼‚å¸¸ï¼‰å¯èƒ½ä¼šè¢«ç§»åŠ¨å‡ºæ¥ï¼Œè€Œä¸æ˜¯å¤åˆ¶ã€‚å†æ¬¡è°ƒç”¨ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å¦‚æœéœ€è¦å¤šæ¬¡è®¿é—®ç»“æœï¼Œåº”è¯¥ä½¿ç”¨ std::shared_futureã€‚ std::async çš„ææ„è¡Œä¸ºï¼šå¦‚æœä¸€ä¸ªç”± std::async è¿”å›çš„ std::future å¯¹è±¡åœ¨ææ„æ—¶ï¼Œå…¶å…³è”çš„å¼‚æ­¥ä»»åŠ¡è¿˜æœªå®Œæˆï¼Œé‚£ä¹ˆè¿™ä¸ªææ„å‡½æ•°ä¼šé˜»å¡ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆã€‚è¿™è¢«ç§°ä¸ºâ€œå»¶è¿Ÿé”€æ¯â€ï¼Œæœ‰æ—¶ä¼šé€ æˆæ„æƒ³ä¸åˆ°çš„é˜»å¡ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:4","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"std::invoke_result_t\rstd::invoke_result_t æ˜¯ C++17 ä¸­å¼•å…¥çš„ç±»å‹åˆ«åï¼Œç”¨äºåœ¨ç¼–è¯‘æœŸæ¨æ–­ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼ˆå‡½æ•°ã€å‡½æ•°æŒ‡é’ˆã€lambda è¡¨è¾¾å¼ã€æˆå‘˜å‡½æ•°æŒ‡é’ˆã€å‡½æ•°å¯¹è±¡ç­‰ï¼‰åœ¨ä»¥ç‰¹å®šå‚æ•°è°ƒç”¨æ—¶ï¼Œå…¶è¿”å›å€¼çš„ç±»å‹ã€‚å®ƒæ˜¯ std::invoke_result\u003cF, Args...\u003e::type çš„ç®€å†™å½¢å¼ã€‚ ä½œç”¨\rç¼–è¯‘æœŸç±»å‹æ¨å¯¼ï¼šå®ƒå…è®¸ä½ åœ¨ç¼–å†™æ¨¡æ¿æˆ–æ³›å‹ä»£ç æ—¶ï¼Œèƒ½å¤Ÿæå‰çŸ¥é“ä¸€ä¸ªå‡½æ•°è°ƒç”¨å°†è¿”å›ä»€ä¹ˆç±»å‹ï¼Œè€Œæ— éœ€å®é™…æ‰§è¡Œè¯¥è°ƒç”¨ã€‚ SFINAE å’Œå…ƒç¼–ç¨‹ï¼šåœ¨æ¨¡æ¿å…ƒç¼–ç¨‹ä¸­ï¼Œå®ƒå¯ä»¥ç”¨äºæ ¹æ®å‡½æ•°è¿”å›ç±»å‹è¿›è¡Œ SFINAEï¼ˆSubstitution Failure Is Not An Errorï¼Œæ›¿æ¢å¤±è´¥å¹¶éé”™è¯¯ï¼‰åˆ¤æ–­ï¼Œæˆ–è€…å®šä¹‰ä¾èµ–äºå‡½æ•°è¿”å›ç±»å‹çš„å˜é‡å’Œæ•°æ®ç»“æ„ã€‚ ç”¨æ³•\r#include \u003ciostream\u003e #include \u003ctype_traits\u003e #include \u003cvector\u003e #include \u003cstring\u003e int add(int a, int b) { return a + b; } struct Foo { double bar(float) { return 1.0; } }; int main() { // æ¨æ–­æ™®é€šå‡½æ•°è°ƒç”¨çš„è¿”å›ç±»å‹ using Result1 = std::invoke_result_t\u003cdecltype(add), int, int\u003e; static_assert(std::is_same_v\u003cResult1, int\u003e); // æ¨æ–­ lambda è¡¨è¾¾å¼çš„è¿”å›ç±»å‹ auto lambda = [](const std::string\u0026 s) -\u003e std::vector\u003cchar\u003e { return {s.begin(), s.end()}; }; using Result2 = std::invoke_result_t\u003cdecltype(lambda), std::string\u003e; static_assert(std::is_same_v\u003cResult2, std::vector\u003cchar\u003e\u003e); // æ¨æ–­æˆå‘˜å‡½æ•°æŒ‡é’ˆçš„è¿”å›ç±»å‹ // æ³¨æ„ï¼šæ¨å¯¼æˆå‘˜å‡½æ•°æŒ‡é’ˆè¿”å›ç±»å‹æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°åº”ä¸ºèƒ½ç»‘å®šè¯¥æˆå‘˜å‡½æ•°çš„å¯¹è±¡ç±»å‹ï¼Œ // å¦‚ T\u0026, T*, æˆ– std::reference_wrapper\u003cT\u003e using Result3 = std::invoke_result_t\u003cdecltype(\u0026Foo::bar), Foo\u0026, float\u003e; static_assert(std::is_same_v\u003cResult3, double\u003e); std::cout \u003c\u003c \"All types deduced correctly.\" \u003c\u003c std::endl; return 0; } æ³¨æ„äº‹é¡¹\réé™æ€æˆå‘˜å‡½æ•°ï¼šå¯¹äºéé™æ€çš„æˆå‘˜å‡½æ•°ï¼Œinvoke_result_tåªèƒ½ä½¿ç”¨å…¶å‡½æ•°æŒ‡é’ˆæ‰èƒ½è¿›è¡Œè¿”å›å€¼ç±»å‹æ¨å¯¼ï¼Œå› ä¸ºç±»å::æˆå‘˜å‡½æ•°åä¸æ˜¯å®Œæ•´çš„æˆå‘˜é™å®šè¡¨è¾¾å¼ï¼Œåªæœ‰åŠ äº†\u0026æˆä¸ºæˆå‘˜å‡½æ•°æŒ‡é’ˆï¼Œæ‰èƒ½è„±ç¦»ç±»å®šä¹‰è¢«ä½¿ç”¨ã€‚ C++17æ ‡å‡†ï¼šstd::invoke_result_t æ˜¯ C++17 çš„ç‰¹æ€§ï¼Œå®ƒåœ¨å¤„ç†æŸäº›å¤æ‚æƒ…å†µï¼ˆå¦‚æˆå‘˜å‡½æ•°æŒ‡é’ˆï¼‰æ—¶ä¸å¦‚ std::invoke_result å¼ºå¤§ä¸”å·²è¢« C++20 åºŸå¼ƒã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:5","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"std::move\rstd::move æ˜¯ä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å£°æ˜ä¸€ä¸ªå¯¹è±¡å¯ä»¥è¢«â€œç§»åŠ¨â€ï¼Œå³å…¶èµ„æºå¯ä»¥è¢«çªƒå–ã€‚å®ƒæœ¬èº«å¹¶ä¸æ‰§è¡Œä»»ä½•ç§»åŠ¨æ“ä½œï¼ŒçœŸæ­£çš„ç§»åŠ¨æ“ä½œæ˜¯ç”±ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦å®Œæˆçš„ã€‚ ä½œç”¨\rå¯ç”¨ç§»åŠ¨è¯­ä¹‰ï¼šå°†å·¦å€¼ï¼ˆæœ‰åå­—ã€å¯ä»¥å–åœ°å€çš„å¯¹è±¡ï¼‰è½¬æ¢ä¸ºå³å€¼ï¼Œä»è€Œä½¿å¾—å¯ä»¥è°ƒç”¨å¯¹è±¡çš„ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œé¿å…ä¸å¿…è¦çš„æ·±æ‹·è´ï¼Œæå‡æ€§èƒ½ã€‚ è½¬ç§»æ‰€æœ‰æƒï¼šå¯¹äºåƒ std::unique_ptrã€std::thread è¿™ç§åªç§»ç±»å‹ï¼ˆMove-Only Typeï¼‰ï¼Œstd::move æ˜¯è½¬ç§»å…¶æ‰€æœ‰æƒçš„å”¯ä¸€æ–¹å¼ã€‚ ç”¨æ³•\r#include \u003ciostream\u003e #include \u003cstring\u003e #include \u003cvector\u003e #include \u003cutility\u003e // for std::move int main() { std::string str1 = \"hello\"; std::string str2 = \"world\"; std::cout \u003c\u003c \"Before move:\" \u003c\u003c std::endl; std::cout \u003c\u003c \"str1: \" \u003c\u003c str1 \u003c\u003c std::endl; std::cout \u003c\u003c \"str2: \" \u003c\u003c str2 \u003c\u003c std::endl; // è¿™é‡Œï¼Œstd::move(str1) å°†å·¦å€¼ str1 è½¬æ¢ä¸ºå³å€¼å¼•ç”¨ // è¿™ä½¿å¾— std::string çš„ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦è¢«è°ƒç”¨ str2 = std::move(str1); std::cout \u003c\u003c \"\\nAfter move:\" \u003c\u003c std::endl; std::cout \u003c\u003c \"str1: \" \u003c\u003c str1 \u003c\u003c std::endl; // str1 å¤„äºæœ‰æ•ˆçš„ã€ä½†æœªæŒ‡å®šçš„çŠ¶æ€ std::cout \u003c\u003c \"str2: \" \u003c\u003c str2 \u003c\u003c std::endl; // str2 è·å¾—äº† str1 çš„èµ„æº std::vector\u003cint\u003e vec1 = {1, 2, 3, 4, 5}; // è°ƒç”¨ vector çš„ç§»åŠ¨æ„é€ å‡½æ•° std::vector\u003cint\u003e vec2 = std::move(vec1); std::cout \u003c\u003c \"\\nVector size after move:\" \u003c\u003c std::endl; std::cout \u003c\u003c \"vec1 size: \" \u003c\u003c vec1.size() \u003c\u003c std::endl; // é€šå¸¸ä¸ºç©º std::cout \u003c\u003c \"vec2 size: \" \u003c\u003c vec2.size() \u003c\u003c std::endl; // 5 return 0; } æ³¨æ„äº‹é¡¹\rè¢«ç§»åŠ¨åçš„å¯¹è±¡çŠ¶æ€ï¼šä½¿ç”¨ std::move åï¼ŒåŸå¯¹è±¡å¤„äºâ€œæœ‰æ•ˆçš„ã€ä½†æœªæŒ‡å®šçš„çŠ¶æ€â€ï¼ˆvalid but unspecified stateï¼‰ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½å¯¹å…¶çŠ¶æ€åšä»»ä½•å‡è®¾ï¼ˆä¾‹å¦‚ï¼Œå®ƒå¯èƒ½ä¸ºç©ºï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ï¼‰ï¼Œä½†ä½ å¯ä»¥å®‰å…¨åœ°å¯¹å…¶è¿›è¡Œé”€æ¯æˆ–é‡æ–°èµ‹å€¼ã€‚åœ¨å¯¹å…¶é‡æ–°èµ‹å€¼ä¹‹å‰ï¼Œä¸åº”å†ä½¿ç”¨å®ƒã€‚ ä¸è¦å¯¹ const å¯¹è±¡ä½¿ç”¨ std::moveï¼šå¯¹ const å¯¹è±¡ std::move ä¼šå¾—åˆ°ä¸€ä¸ª const ç±»å‹çš„å³å€¼å¼•ç”¨ï¼Œè¿™é€šå¸¸ä¼šé€€åŒ–ä¸ºä¸€æ¬¡æ‹·è´æ“ä½œï¼Œå› ä¸º const å¯¹è±¡æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œå…¶èµ„æºæ— æ³•è¢«ç§»åŠ¨ã€‚ ä»…åœ¨éœ€è¦è½¬ç§»æ‰€æœ‰æƒæ—¶ä½¿ç”¨ï¼šstd::move çš„åå­—æœ‰ä¸€å®šè¯¯å¯¼æ€§ï¼Œå®ƒæ›´åƒæ˜¯ä¸€ä¸ªâ€œè½¬æ¢â€æˆ–â€œå…è®¸ç§»åŠ¨â€çš„è¯·æ±‚ã€‚åªæœ‰å½“ä½ ç¡®å®šä¸å†éœ€è¦åŸå¯¹è±¡ï¼Œå¹¶å¸Œæœ›å°†å…¶èµ„æºè½¬ç§»ç»™æ–°å¯¹è±¡æ—¶ï¼Œæ‰åº”è¯¥ä½¿ç”¨å®ƒã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:6","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"std::forward\rstd::forward æ˜¯ä¸€ä¸ªæ¡ä»¶è½¬æ¢å‡½æ•°ï¼Œä¸»è¦ç”¨äºæ¨¡æ¿ç¼–ç¨‹ä¸­çš„â€œå®Œç¾è½¬å‘â€ï¼ˆPerfect Forwardingï¼‰ã€‚å®ƒæ ¹æ®æ¨¡æ¿å‚æ•°çš„ç±»å‹ï¼ˆå·¦å€¼å¼•ç”¨æˆ–å³å€¼å¼•ç”¨ï¼‰ï¼Œå°†å‡½æ•°å‚æ•°ä»¥åŸå§‹çš„å€¼ç±»åˆ«ï¼ˆå·¦å€¼æˆ–å³å€¼ï¼‰è½¬å‘ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚ ä½œç”¨\rä¿æŒå€¼ç±»åˆ«ï¼šåœ¨æ¨¡æ¿å‡½æ•°ä¸­ï¼Œå‡½æ•°å‚æ•°ä¼šä¸¢å¤±å…¶åŸå§‹çš„å€¼ç±»åˆ«ä¿¡æ¯ï¼ˆéƒ½å˜æˆäº†å·¦å€¼ï¼‰ã€‚std::forward çš„ä½œç”¨æ˜¯æ¢å¤è¿™ä¸ªä¿¡æ¯ï¼Œå¦‚æœåŸå§‹ä¼ å…¥çš„æ˜¯å³å€¼ï¼Œå°±è½¬å‘ä¸ºå³å€¼ï¼›å¦‚æœåŸå§‹ä¼ å…¥çš„æ˜¯å·¦å€¼ï¼Œå°±è½¬å‘ä¸ºå·¦å€¼ã€‚ å®ç°å®Œç¾è½¬å‘ï¼šè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªæ¨¡æ¿å‡½æ•°ä½œä¸ºâ€œä¸­è½¬ç«™â€ï¼Œå®ƒèƒ½æ¥æ”¶ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œå¹¶å°†å…¶æ— æŸåœ°ï¼ˆä¸æ”¹å˜å€¼ç±»åˆ«ï¼Œä¸äº§ç”Ÿé¢å¤–æ‹·è´ï¼‰ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå‡½æ•°ã€‚ ç”¨æ³•\rå®ƒé€šå¸¸ç”¨åœ¨æ¥å—è½¬å‘å¼•ç”¨ï¼ˆForwarding Referenceï¼Œä¹Ÿå«ä¸‡èƒ½å¼•ç”¨ Universal Referenceï¼‰çš„æ¨¡æ¿å‡½æ•°ä¸­ã€‚è½¬å‘å¼•ç”¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¨¡æ¿å‚æ•°å½¢å¼ T\u0026\u0026ï¼Œå…¶ä¸­ T æ˜¯ä¸€ä¸ªéœ€è¦æ¨å¯¼çš„ç±»å‹ã€‚ #include \u003ciostream\u003e #include \u003cutility\u003e // for std::forward // ç›®æ ‡å‡½æ•°ï¼Œæœ‰é’ˆå¯¹å·¦å€¼å¼•ç”¨å’Œå³å€¼å¼•ç”¨çš„é‡è½½ void overloaded_func(int\u0026 x) { std::cout \u003c\u003c \"Called with lvalue reference\" \u003c\u003c std::endl; } void overloaded_func(int\u0026\u0026 x) { std::cout \u003c\u003c \"Called with rvalue reference\" \u003c\u003c std::endl; } // ä¸€ä¸ªâ€œè½¬å‘â€æˆ–â€œåŒ…è£…â€çš„æ¨¡æ¿å‡½æ•° template\u003ctypename T\u003e void wrapper(T\u0026\u0026 arg) { // åœ¨è¿™é‡Œï¼Œä¸ç®¡ arg åŸå§‹æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼ï¼Œå®ƒæœ¬èº«éƒ½æ˜¯ä¸€ä¸ªæœ‰åå­—çš„å·¦å€¼ // å¦‚æœç›´æ¥è°ƒç”¨ overloaded_func(arg)ï¼Œæ°¸è¿œéƒ½ä¼šè°ƒç”¨å·¦å€¼ç‰ˆæœ¬ // ä½¿ç”¨ std::forward æ¥ä¿æŒåŸå§‹çš„å€¼ç±»åˆ« overloaded_func(std::forward\u003cT\u003e(arg)); } int main() { int i = 42; wrapper(i); // i æ˜¯å·¦å€¼ï¼ŒT è¢«æ¨å¯¼ä¸º int\u0026ï¼Œwrapper è½¬å‘ä¸€ä¸ªå·¦å€¼ wrapper(100); // 100 æ˜¯å³å€¼ï¼ŒT è¢«æ¨å¯¼ä¸º intï¼Œwrapper è½¬å‘ä¸€ä¸ªå³å€¼ wrapper(std::move(i)); // std::move(i) æ˜¯å³å€¼ï¼ŒT è¢«æ¨å¯¼ä¸º intï¼Œwrapper è½¬å‘ä¸€ä¸ªå³å€¼ return 0; } ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼ŒTçš„ç±»å‹è¢«æ¨å¯¼å‡ºæ¥åï¼Œwrapperå‡½æ•°çš„å‚æ•°å°±ä¸º æ¨å¯¼çš„ç±»å‹ + \u0026\u0026ï¼Œè¿™æ—¶ä¼šå‘ç”Ÿå¼•ç”¨åç¼©ï¼Œå‚æ•°ç±»å‹ä¼šå˜ä¸ºæ­£ç¡®çš„ç±»å‹ã€‚ æ³¨æ„äº‹é¡¹\rå¿…é¡»ä¸è½¬å‘å¼•ç”¨é…åˆï¼šstd::forward åªåº”åœ¨æ¥å—è½¬å‘å¼•ç”¨ï¼ˆT\u0026\u0026ï¼‰çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ã€‚å¦‚æœç”¨åœ¨æ™®é€šçš„å€¼ä¼ é€’æˆ–éè½¬å‘å¼•ç”¨çš„å‚æ•°ä¸Šï¼Œè¡Œä¸ºå¯èƒ½ä¸ç¬¦åˆé¢„æœŸã€‚ æ¨¡æ¿å‚æ•° T æ˜¯å…³é”®ï¼šstd::forward\u003cT\u003e çš„æ¨¡æ¿å‚æ•° T å¿…é¡»æ˜¯å‡½æ•°æ¨¡æ¿æ¨å¯¼å‡ºçš„ç±»å‹ï¼Œå®ƒåŒ…å«äº†åŸå§‹å‚æ•°æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼çš„ä¿¡æ¯ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:7","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"std::apply\rstd::apply æ˜¯ C++17 å¼•å…¥çš„å‡½æ•°ï¼Œå®ƒå…è®¸ä½ ä½¿ç”¨ä¸€ä¸ªå…ƒç»„ï¼ˆstd::tupleï¼‰æˆ–ç±»ä¼¼å…ƒç»„çš„å¯¹è±¡ï¼ˆå¦‚ std::pair, std::arrayï¼‰çš„å…ƒç´ ä½œä¸ºå‚æ•°æ¥è°ƒç”¨ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ã€‚ ä½œç”¨\rè§£åŒ…å…ƒç»„ï¼šå°†ä¸€ä¸ªå…ƒç»„ä¸­çš„å…ƒç´ â€œè§£å¼€â€ï¼Œå¹¶æŒ‰é¡ºåºä½œä¸ºç‹¬ç«‹çš„å‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ã€‚è¿™åœ¨æ³›å‹ç¼–ç¨‹å’Œå¤„ç†å¯å˜å‚æ•°æ¨¡æ¿æ—¶éå¸¸æœ‰ç”¨ã€‚ ç®€åŒ–å‡½æ•°è°ƒç”¨ï¼šå½“ä½ éœ€è¦è°ƒç”¨çš„å‡½æ•°çš„å‚æ•°è¢«å­˜å‚¨åœ¨ä¸€ä¸ªå…ƒç»„ä¸­æ—¶ï¼Œstd::apply æä¾›äº†ä¸€ç§ç®€æ´ã€ä¼˜é›…çš„æ–¹å¼æ¥æ‰§è¡Œè°ƒç”¨ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç´¢å¼•å…ƒç»„çš„æ¯ä¸ªå…ƒç´ ã€‚ ç”¨æ³•\r#include \u003ciostream\u003e #include \u003ctuple\u003e #include \u003cfunctional\u003e // for std::apply void print_sum(int a, int b, int c) { std::cout \u003c\u003c a \u003c\u003c \" + \" \u003c\u003c b \u003c\u003c \" + \" \u003c\u003c c \u003c\u003c \" = \" \u003c\u003c a + b + c \u003c\u003c std::endl; } struct MyStruct { void process(const std::string\u0026 name, int id) { std::cout \u003c\u003c \"Processing \" \u003c\u003c name \u003c\u003c \" with ID \" \u003c\u003c id \u003c\u003c std::endl; } }; int main() { // 1. è°ƒç”¨æ™®é€šå‡½æ•° std::tuple\u003cint, int, int\u003e args = {10, 20, 30}; std::apply(print_sum, args); // ç­‰ä»·äº print_sum(10, 20, 30) // 2. è°ƒç”¨ lambda è¡¨è¾¾å¼ auto lambda = [](double x, double y) { std::cout \u003c\u003c \"Product: \" \u003c\u003c x * y \u003c\u003c std::endl; }; std::apply(lambda, std::make_pair(3.0, 4.0)); // ä½¿ç”¨ std::pair // 3. è°ƒç”¨æˆå‘˜å‡½æ•° MyStruct obj; std::tuple\u003cstd::string, int\u003e member_args = {\"Widget\", 123}; std::apply([\u0026obj](const auto\u0026... params){ obj.process(params...); }, member_args); // æˆ–è€…æ›´ç›´æ¥çš„æ–¹å¼ï¼ˆéœ€è¦ C++17 çš„æ‰©å±•ï¼‰ // std::apply(\u0026MyStruct::process, std::tuple_cat(std::make_tuple(\u0026obj), member_args)); return 0; } æ³¨æ„äº‹é¡¹\rC++17 æ ‡å‡†ï¼šstd::apply æ˜¯ C++17 çš„ç‰¹æ€§ã€‚åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–å†™å¤æ‚çš„æ¨¡æ¿å…ƒç¼–ç¨‹ä»£ç ï¼ˆé€šå¸¸æ¶‰åŠç´¢å¼•åºåˆ— std::index_sequenceï¼‰æ¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ã€‚ å‚æ•°é¡ºåºï¼šå…ƒç»„ä¸­çš„å…ƒç´ ä¼šä¸¥æ ¼æŒ‰ç…§ä» 0 å¼€å§‹çš„ç´¢å¼•é¡ºåºï¼Œä¾æ¬¡æ˜ å°„åˆ°å‡½æ•°çš„ç¬¬ä¸€ä¸ªã€ç¬¬äºŒä¸ªã€ç¬¬ä¸‰ä¸ªâ€¦å‚æ•°ã€‚ å…¼å®¹æ€§ï¼šä»»ä½•æ”¯æŒ std::get å’Œ std::tuple_size çš„ç±»ï¼ˆTuple-like-objectï¼‰éƒ½å¯ä»¥ä¸ std::apply ä¸€èµ·ä½¿ç”¨ã€‚è¿™åŒ…æ‹¬ std::tuple, std::pair å’Œ std::arrayã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:8","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"äº’æ–¥é‡ä¸é”åŒ…è£…å™¨\råœ¨C++17æ ‡å‡†ä¸‹ï¼Œå¸¸ç”¨çš„äº’æ–¥é‡å¦‚ä¸‹æ‰€ç¤ºï¼š äº’æ–¥é”ç±»å‹ ç®€ä»‹ ä½¿ç”¨åœºæ™¯ std::mutex æœ€åŸºæœ¬çš„äº’æ–¥é”ï¼Œä¸èƒ½é€’å½’é”å®šï¼Œä¸€ä¸ªçº¿ç¨‹åŠ é”åï¼Œå…¶ä»–ä»»ä½•çº¿ç¨‹ï¼ˆåŒ…æ‹¬è‡ªå·±ï¼‰éƒ½ä¸èƒ½å†æ¬¡åŠ é” é€šç”¨äº’æ–¥é”ï¼Œä¿æŠ¤ç»å¤§å¤šæ•°å¸¸è§„çš„ä¸´ç•ŒåŒº std::recursive_mutex å…è®¸åŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡åŠ é”çš„äº’æ–¥é”ï¼Œéœ€æ‰‹åŠ¨è§£é”ç›¸åŒæ¬¡æ•°åï¼Œå…¶ä»–çº¿ç¨‹æ‰èƒ½è·å– éœ€è¦åœ¨é€’å½’å‡½æ•°æˆ–åŒä¸€çº¿ç¨‹ä¸­å¤šæ¬¡åŠ é”çš„åœºæ™¯ std::timed_mutex å¸¦è®¡æ—¶çš„äº’æ–¥é”ï¼Œè¶…æ—¶è‡ªåŠ¨è§£é” å½“ä½ ä¸å¸Œæœ›çº¿ç¨‹æ— é™æœŸåœ°ç­‰å¾…ä¸€ä¸ªé”æ—¶ï¼Œå¦‚çº¿ç¨‹æ± ä»»åŠ¡è°ƒåº¦ã€å®šæ—¶ä»»åŠ¡ç­‰ std::recursive_timed_mutex ç»“åˆé€’å½’é”å’Œè¶…æ—¶é”çš„ç‰¹æ€§çš„äº’æ–¥é” æ—¢éœ€è¦é€’å½’é”å®šåˆè¦æ±‚æ”¯æŒè¶…æ—¶çš„åœºæ™¯ï¼Œå¦‚å¤æ‚åµŒå¥—é€»è¾‘ä¸‹çš„ä»»åŠ¡æ§åˆ¶ std::shared_mutex è¯»å†™é”ï¼Œå¤šä¸ªçº¿ç¨‹å¯å…±äº«è¯»ï¼Œå†™äº’æ–¥ è¯»å¤šå†™å°‘åœºæ™¯ï¼Œå¦‚ç¼“å­˜ã€é…ç½®ã€æ•°æ®åº“è¯»æ¥å£ç­‰ ç›´æ¥è°ƒç”¨é”çš„lock() å’Œ unlock() å‡½æ•°æ˜¯å±é™©çš„ï¼Œå› ä¸ºå¼‚å¸¸æˆ–å¤æ‚çš„é€»è¾‘åˆ†æ”¯å¯èƒ½å¯¼è‡´ unlock() è¢«è·³è¿‡ã€‚å› æ­¤ï¼Œæ¨èä½¿ç”¨é”åŒ…è£…å™¨æ¥ç®¡ç†é”ï¼Œé”åŒ…è£…å™¨é‡‡ç”¨RAIIæœºåˆ¶ï¼Œèƒ½å¤Ÿç¡®ä¿å®‰å…¨çš„ä½¿ç”¨é”ã€‚å¸¸ç”¨çš„é”åŒ…è£…å™¨æœ‰ä»¥ä¸‹å‡ ç§ï¼š std::lock_guard\ræœ€ç®€å•ã€é«˜æ•ˆçš„é”åŒ…è£…å™¨ã€‚ å·¥ä½œæ–¹å¼: åœ¨æ„é€ æ—¶ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªäº’æ–¥é‡ï¼ˆC++17 å¼€å§‹æ”¯æŒå¤šä¸ªï¼‰å¹¶ç«‹å³å¯¹å®ƒä»¬åŠ é”ã€‚åœ¨ææ„æ—¶ï¼ˆç¦»å¼€ä½œç”¨åŸŸï¼‰ï¼Œå®ƒä¼šè‡ªåŠ¨è§£é”ã€‚ ç‰¹ç‚¹: ç®€å•ç²—æš´: ä¸€æ—¦åˆ›å»ºå°±åŠ é”ï¼Œæ²¡æœ‰å…¶ä»–å¤šä½™æ“ä½œã€‚ ä¸å¯ç§»åŠ¨ï¼Œä¸å¯å¤åˆ¶: å®ƒçš„æ‰€æœ‰æƒä¸ä½œç”¨åŸŸç»‘å®šã€‚ æ— é¢å¤–å¼€é”€: é€šå¸¸ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–æ‰ï¼Œæ€§èƒ½ä¸æ‰‹åŠ¨ lock/unlock å‡ ä¹æ— å¼‚ï¼Œä½†æ›´å®‰å…¨ã€‚ ç‹¬å è®¿é—®: å¯ä»¥ç¡®ä¿æŸä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®è¢«ä¿æŠ¤çš„å…±äº«èµ„æºã€‚ é€‚ç”¨åœºæ™¯: å½“ä½ éœ€è¦åœ¨ä¸€ä¸ªå®Œæ•´çš„ä½œç”¨åŸŸå†…é”å®šä¸€ä¸ªæˆ–å¤šä¸ªäº’æ–¥é‡ï¼Œä¸”ä¸éœ€è¦ä»»ä½•é«˜çº§çš„é”æ“ä½œæ—¶ã€‚è¿™æ˜¯æœ€å¸¸ç”¨çš„é€‰æ‹©ã€‚ #include \u003cmutex\u003e std::mutex mtx; void some_function() { // æ„é€ æ—¶åŠ é”ï¼Œå‡½æ•°è¿”å›æ—¶ï¼ˆlockææ„ï¼‰è‡ªåŠ¨è§£é” std::lock_guard\u003cstd::mutex\u003e lock(mtx); // ... å®‰å…¨åœ°è®¿é—®å…±äº«èµ„æº ... // ä¸éœ€è¦æ‰‹åŠ¨ unlock } std::unique_lock\ræœ€çµæ´»çš„é”åŒ…è£…å™¨ï¼Œç›¸æ¯”ä¸std::lock_guardæä¾›äº†æ›´å¤šçš„çµæ´»æ€§ï¼Œä½†ä¹Ÿæ˜¯ç‹¬å è®¿é—®ã€‚ å·¥ä½œæ–¹å¼: æä¾›äº†å¯¹äº’æ–¥é‡æ‰€æœ‰æƒçš„å®Œå…¨æ§åˆ¶ã€‚ ç‰¹ç‚¹: æ‰€æœ‰æƒç®¡ç†: std::unique_lock å¯¹è±¡æ‹¥æœ‰å…¶ç®¡ç†çš„äº’æ–¥é‡çš„é”ã€‚è¿™ä¸ªæ‰€æœ‰æƒå¯ä»¥è¢«è½¬ç§»ï¼ˆé€šè¿‡ç§»åŠ¨æ„é€ æˆ–ç§»åŠ¨èµ‹å€¼ï¼‰ï¼Œä¹Ÿå¯ä»¥è¢«ä¸´æ—¶é‡Šæ”¾å’Œé‡æ–°è·å–ã€‚ å¯ç§»åŠ¨ï¼Œä¸å¯å¤åˆ¶: å¯ä»¥ä½œä¸ºå‡½æ•°è¿”å›å€¼ï¼Œæˆ–å­˜å…¥å®¹å™¨ä¸­ã€‚ æ”¯æŒå»¶è¿ŸåŠ é”: å¯ä»¥åœ¨æ„é€ æ—¶ä¸åŠ é”ï¼ˆä½¿ç”¨ std::defer_lockï¼‰ï¼Œç¨åæ‰‹åŠ¨è°ƒç”¨ lock()ã€‚ æ”¯æŒå°è¯•åŠ é”: å¯ä»¥ä½¿ç”¨ try_lock()ã€try_lock_for()ã€try_lock_until()ã€‚ æ”¯æŒæ‰€æœ‰æƒè½¬ç§»: release() æ–¹æ³•ä¼šè¿”å›åº•å±‚äº’æ–¥é‡çš„æŒ‡é’ˆå¹¶æ”¾å¼ƒæ‰€æœ‰æƒï¼Œä½†ä¸ä¼šè§£é”ã€‚std::move å¯ä»¥å°†æ‰€æœ‰æƒè½¬ç§»ç»™å¦ä¸€ä¸ª unique_lockã€‚ é€‚ç”¨åœºæ™¯: ä¸æ¡ä»¶å˜é‡ï¼ˆstd::condition_variableï¼‰é…åˆä½¿ç”¨ï¼šè¿™æ˜¯ unique_lock æœ€æ ¸å¿ƒçš„ç”¨é€”ã€‚æ¡ä»¶å˜é‡çš„ wait ç³»åˆ—å‡½æ•°å¿…é¡»æ¥æ”¶ä¸€ä¸ª std::unique_lockã€‚ éœ€è¦æå‰è§£é”: åœ¨ä¸´ç•ŒåŒºç»“æŸå‰ï¼Œå¦‚æœæŸäº›æ“ä½œä¸å†éœ€è¦é”çš„ä¿æŠ¤ï¼Œå¯ä»¥è°ƒç”¨ unlock() æå‰é‡Šæ”¾é”ã€‚ é”çš„ä½œç”¨åŸŸä¸å›ºå®š: å½“é”çš„ç”Ÿå‘½å‘¨æœŸéœ€è¦è·¨è¶Šå¤šä¸ªä½œç”¨åŸŸæˆ–åœ¨å‡½æ•°é—´ä¼ é€’æ—¶ã€‚ #include \u003cmutex\u003e #include \u003ccondition_variable\u003e std::mutex mtx; std::condition_variable cv; bool ready = false; void worker_thread() { // æ„é€ æ—¶åŠ é” std::unique_lock\u003cstd::mutex\u003e lock(mtx); // cv.wait ä¼šåŸå­åœ°ï¼š1. è§£é” a. 2. é˜»å¡çº¿ç¨‹ 3. è¢«å”¤é†’åï¼Œé‡æ–°åŠ é” cv.wait(lock, []{ return ready; }); // ... å½“ wait è¿”å›æ—¶ï¼Œé”å·²è¢«é‡æ–°è·å– ... // å¯ä»¥åœ¨è¿™é‡Œæå‰è§£é” lock.unlock(); // ... æ‰§è¡Œä¸€äº›ä¸éœ€è¦é”çš„æ“ä½œ ... } std::shared_lock\rstd::shared_mutex çš„å…±äº«æ¨¡å¼ï¼ˆè¯»æ¨¡å¼ï¼‰é”åŒ…è£…å™¨ã€‚ å·¥ä½œæ–¹å¼: ç±»ä¼¼äº unique_lockï¼Œä½†å®ƒåœ¨æ„é€ æ—¶è·å–çš„æ˜¯å…±äº«é”ã€‚ ç‰¹ç‚¹: ä¸ unique_lock ç±»ä¼¼ï¼Œå®ƒä¹Ÿæ˜¯å¯ç§»åŠ¨ã€å¯å»¶è¿ŸåŠ é”ã€å¯å°è¯•åŠ é”çš„ã€‚ ä¸ std::unique_lock\u003cstd::shared_mutex\u003e (å†™é”) é…åˆä½¿ç”¨ã€‚ é€‚ç”¨åœºæ™¯: ç”¨äº std::shared_mutex çš„è¯»é”å®šã€‚ #include \u003cshared_mutex\u003e #include \u003cvector\u003e class ThreadSafeData { private: mutable std::shared_mutex mutex_; // mutable å…è®¸åœ¨ const æˆå‘˜å‡½æ•°ä¸­åŠ é” std::vector\u003cint\u003e data_; public: int read_data(size_t index) const { // è·å–å…±äº«é”ï¼ˆè¯»é”ï¼‰ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¿›å…¥è¿™é‡Œ std::shared_lock\u003cstd::shared_mutex\u003e lock(mutex_); return data_[index]; } void write_data(int value) { // è·å–ç‹¬å é”ï¼ˆå†™é”ï¼‰ï¼Œå½“æ­¤é”è¢«æŒæœ‰æ—¶ï¼Œä»»ä½•å…¶ä»–è¯»/å†™æ“ä½œéƒ½ä¼šè¢«é˜»å¡ std::unique_lock\u003cstd::shared_mutex\u003e lock(mutex_); data_.push_back(value); } }; std::scoped_lock\rstd::lock_guard çš„ç»ˆæè¿›åŒ–ç‰ˆï¼Œä¹Ÿæ˜¯ C++17 ä¸­å¤„ç†å¤šäº’æ–¥é‡é”å®šçš„æœ€ä½³å®è·µã€‚ å·¥ä½œæ–¹å¼: è¿™æ˜¯ä¸€ä¸ªå¯å˜å‚æ•°æ¨¡æ¿ï¼Œå¯ä»¥åŒæ—¶æ¥æ”¶ä»»æ„æ•°é‡çš„äº’æ–¥é‡ï¼Œå¹¶ä»¥é¿å…æ­»é”çš„æ–¹å¼å°†å®ƒä»¬å…¨éƒ¨é”å®šã€‚ ç‰¹ç‚¹: æ­»é”é¿å…ç®—æ³•: å®ƒå†…éƒ¨ä½¿ç”¨äº†ä¸€ç§æ­»é”é¿å…ç®—æ³•ï¼ˆå¦‚ std::lock å‡½æ•°ï¼‰ï¼Œç¡®ä¿åœ¨é”å®šå¤šä¸ªäº’æ–¥é‡æ—¶ä¸ä¼šå› ä¸ºåŠ é”é¡ºåºä¸åŒè€Œå¯¼è‡´æ­»é”ã€‚ RAII å°è£…: ä¸ lock_guard ä¸€æ ·ï¼Œå®ƒåœ¨æ„é€ æ—¶åŠ é”ï¼Œææ„æ—¶æŒ‰åŠ é”ç›¸åçš„é¡ºåºè§£é”ã€‚ è¯­æ³•ç®€æ´: æ˜¯ C++17 ä¸­é”å®šå¤šä¸ªäº’æ–¥é‡çš„é¦–é€‰æ–¹å¼ã€‚ é€‚ç”¨åœºæ™¯: å½“ä½ éœ€è¦åŒæ—¶é”å®šä¸¤ä¸ªæˆ–æ›´å¤šäº’æ–¥é‡æ—¶ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:9","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"æ¡ä»¶å˜é‡\räº’æ–¥é‡è§£å†³äº†â€œè®¿é—®â€çš„äº’æ–¥é—®é¢˜ï¼Œç¡®ä¿åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è¿›å…¥ä¸´ç•ŒåŒºã€‚ä½†å®ƒæ— æ³•è§£å†³â€œç­‰å¾…â€çš„åŒæ­¥é—®é¢˜ï¼Œä¾‹å¦‚ï¼š ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ï¼šå½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæ¶ˆè´¹è€…çº¿ç¨‹å¦‚ä½•é«˜æ•ˆåœ°ç­‰å¾…ç”Ÿäº§è€…æ”¾å…¥æ•°æ®ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¸€ä¸ª while(true) å¾ªç¯ä¸åœåœ°æ£€æŸ¥é˜Ÿåˆ—ï¼ˆè¿™è¢«ç§°ä¸ºâ€œå¿™ç­‰å¾…â€ï¼Œä¼šæµªè´¹å¤§é‡ CPU èµ„æºï¼‰ï¼Ÿ ä»»åŠ¡å®Œæˆé€šçŸ¥ï¼šä¸€ä¸ªä¸»çº¿ç¨‹å¦‚ä½•ç­‰å¾…å¤šä¸ªå·¥ä½œçº¿ç¨‹å…¨éƒ¨å®Œæˆå…¶åˆå§‹åŒ–å·¥ä½œåï¼Œå†ç»§ç»­æ‰§è¡Œï¼Ÿ æ¡ä»¶å˜é‡æ­£æ˜¯ä¸ºäº†è§£å†³è¿™ç±»é—®é¢˜è€Œç”Ÿçš„ã€‚ æ ¸å¿ƒä½œç”¨\rçº¿ç¨‹é˜»å¡ä¸å”¤é†’: å…è®¸çº¿ç¨‹åœ¨æŸä¸ªæ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼ŒåŸå­åœ°é‡Šæ”¾äº’æ–¥é”å¹¶è¿›å…¥é˜»å¡ï¼ˆç¡çœ ï¼‰çŠ¶æ€ï¼Œä»è€Œé¿å…äº†â€œå¿™ç­‰å¾…â€ã€‚å½“å…¶ä»–çº¿ç¨‹æ”¹å˜äº†è¯¥æ¡ä»¶åï¼Œå¯ä»¥å‘é€é€šçŸ¥æ¥å”¤é†’ç­‰å¾…çš„çº¿ç¨‹ã€‚ çº¿ç¨‹é—´çš„åŒæ­¥ä¿¡ä»¤: ä½œä¸ºä¸€ç§çº¿ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼Œç”¨äºåŒæ­¥æ‰§è¡Œæµç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹ç­‰å¾…ï¼ˆwaitï¼‰ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹é€šçŸ¥ï¼ˆnotifyï¼‰ã€‚ C++ æ ‡å‡†åº“æä¾›äº†ä¸¤ç§æ¡ä»¶å˜é‡ï¼š std::condition_variable: æœ€é«˜æ•ˆï¼Œä½†å®ƒå¿…é¡»ä¸ std::unique_lock\u003cstd::mutex\u003e é…åˆä½¿ç”¨ã€‚è¿™æ˜¯æœ€å¸¸ç”¨çš„æ¡ä»¶å˜é‡ã€‚ std::condition_variable_any: æ›´é€šç”¨ï¼Œå¯ä»¥ä¸ä»»ä½•æ»¡è¶³ BasicLockable è¦æ±‚çš„é”ç±»å‹é…åˆï¼ˆä¾‹å¦‚ std::shared_lockï¼‰ï¼Œä½†å¯èƒ½ä¼šæœ‰é¢å¤–çš„æ€§èƒ½å¼€é”€ã€‚é™¤éæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå¦åˆ™åº”ä¼˜å…ˆä½¿ç”¨ std::condition_variableã€‚ å·¥ä½œæµç¨‹\ræ¡ä»¶å˜é‡çš„å…¸å‹å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼Œä»¥ä¸€ä¸ªç­‰å¾…çº¿ç¨‹ï¼ˆæ¶ˆè´¹è€…ï¼‰å’Œä¸€ä¸ªé€šçŸ¥çº¿ç¨‹ï¼ˆç”Ÿäº§è€…ï¼‰ä¸ºä¾‹ï¼š ç­‰å¾…çº¿ç¨‹ (Waiting Thread): è·å– std::mutex çš„ std::unique_lockã€‚ æ£€æŸ¥æ¡ä»¶ã€‚é€šå¸¸åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ï¼ˆwhile æˆ– ifï¼‰æ£€æŸ¥æŸä¸ªå…±äº«çŠ¶æ€ï¼ˆå¦‚ queue.empty()ï¼‰ã€‚ å¦‚æœæ¡ä»¶ä¸æ»¡è¶³ï¼š a. è°ƒç”¨ cv.wait(lock)ã€‚è¿™ä¸ªè°ƒç”¨ä¼šåŸå­åœ°åšä¸‰ä»¶äº‹ï¼š i. è§£é”äº’æ–¥é‡ lockã€‚ ii. é˜»å¡å½“å‰çº¿ç¨‹ï¼Œä½¿å…¶è¿›å…¥ç¡çœ çŠ¶æ€ã€‚ iii. ï¼ˆå½“è¢«å”¤é†’åï¼‰é‡æ–°åŠ é”äº’æ–¥é‡ lockï¼Œç„¶å wait å‡½æ•°è¿”å›ã€‚ b. wait è¿”å›åï¼Œå¾ªç¯ä¼šå†æ¬¡æ£€æŸ¥æ¡ä»¶ã€‚ å¦‚æœæ¡ä»¶æ»¡è¶³ï¼šçº¿ç¨‹è·³å‡ºå¾ªç¯ï¼Œç»§ç»­æŒæœ‰é”å¹¶æ‰§è¡Œåç»­æ“ä½œï¼ˆå¦‚ä»é˜Ÿåˆ—ä¸­å–æ•°æ®ï¼‰ã€‚ åœ¨ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œunique_lock çš„ææ„å‡½æ•°ä¼šè‡ªåŠ¨è§£é”äº’æ–¥é‡ã€‚ é€šçŸ¥çº¿ç¨‹ (Notifying Thread): è·å–ä¸ç­‰å¾…çº¿ç¨‹ç›¸åŒçš„ std::mutex çš„ std::lock_guard æˆ– std::unique_lockã€‚ ä¿®æ”¹å…±äº«çŠ¶æ€ï¼Œä½¿å¾—ç­‰å¾…çº¿ç¨‹çš„æ¡ä»¶å¾—ä»¥æ»¡è¶³ï¼ˆå¦‚å‘é˜Ÿåˆ—ä¸­æ·»åŠ æ•°æ®ï¼‰ã€‚ ï¼ˆå¯é€‰ä½†æ¨èï¼‰åœ¨ä¿®æ”¹å®Œå…±äº«çŠ¶æ€åï¼Œå¹¶ä¸”åœ¨è§£é”äº’æ–¥é‡ä¹‹å‰ï¼Œè°ƒç”¨ cv.notify_one() æˆ– cv.notify_all() æ¥å”¤é†’ä¸€ä¸ªæˆ–æ‰€æœ‰æ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹ã€‚ ç¦»å¼€ä½œç”¨åŸŸï¼Œé”è¢«é‡Šæ”¾ã€‚ std::condition_variable ä¸»è¦æˆå‘˜å‡½æ•°\rwait(std::unique_lock\u003cstd::mutex\u003e\u0026 lock): ä½¿å½“å‰çº¿ç¨‹é˜»å¡ï¼Œç›´åˆ°è¢« notifyã€‚å¦‚ä¸Šæ‰€è¿°ï¼Œå®ƒä¼šè‡ªåŠ¨é‡Šæ”¾é”å¹¶åœ¨æ­¤åé‡æ–°è·å–ã€‚ wait(std::unique_lock\u003cstd::mutex\u003e\u0026 lock, Predicate pred): è¿™æ˜¯ä¸€ä¸ªé‡è½½ç‰ˆæœ¬ï¼Œæ˜¯å¼ºçƒˆæ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…è™šå‡å”¤é†’ã€‚predä¸€ä¸ªå¯ä»¥è°ƒç”¨çš„å¯¹è±¡æˆ–è€…å‡½æ•°ï¼Œå‡½æ•°æˆ–è€…å¯¹è±¡æ²¡æœ‰å‚æ•°å¹¶ä¸”éœ€è¦è¿”å›ä¸€ä¸ªboolç±»å‹çš„å€¼ï¼Œçº¿ç¨‹å°†ä¼šä¸åœçš„è°ƒç”¨waitå‡½æ•°ç›´åˆ°è¯¥è¿”å›å€¼ä¸ºtrueã€‚è¯¥ç‰ˆæœ¬çš„è¡Œä¸ºåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š åˆæ¬¡è¿›å…¥ wait() æ—¶ï¼š è‡ªåŠ¨è°ƒç”¨ predicate()ï¼› è‹¥è¿”å› trueï¼Œç›´æ¥è·³å‡ºï¼Œä¸é˜»å¡ï¼› è‹¥è¿”å› falseï¼Œé‡Šæ”¾é”å¹¶é˜»å¡çº¿ç¨‹ï¼ˆè®©å‡º CPUï¼‰ã€‚ çº¿ç¨‹è¢«å”¤é†’åï¼ˆæ”¶åˆ° notifyï¼‰ï¼š å…ˆé‡æ–°è·å¾—é”ï¼› ç„¶åå†æ¬¡è°ƒç”¨ predicate() åˆ¤æ–­ï¼› å¦‚æœä¸º trueï¼šç»§ç»­æ‰§è¡Œï¼› å¦‚æœä¸º falseï¼šç»§ç»­é˜»å¡ï¼ˆé¿å…è™šå‡å”¤é†’ï¼‰ï¼› std::mutex mtx; std::condition_variable cv; bool isReady; // ä¸‹é¢ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ //å†™æ³•ä¸€ while(true) { sleep(1); std::unique_lock\u003cstd::mutext\u003e lk(mtx); while (!isReady) { cv.wait(lk); } } //å†™æ³•äºŒ while (true) { sleep(1); std::unique_lock\u003cstd::mutext\u003e lk(mtx); cv.wait(lk, []{return isReady;}); } wait_for(lock, duration) / wait_for(lock, duration, pred): å¸¦è¶…æ—¶çš„ç­‰å¾…ã€‚å¦‚æœåœ¨æŒ‡å®šçš„ duration æ—¶é—´æ®µå†…æ²¡æœ‰è¢«å”¤é†’ï¼ˆæˆ– pred æœªæ»¡è¶³ï¼‰ï¼Œwait ä¹Ÿä¼šè¿”å›ã€‚å¯ä»¥é€šè¿‡å…¶è¿”å›å€¼åˆ¤æ–­æ˜¯æ­£å¸¸å”¤é†’è¿˜æ˜¯è¶…æ—¶è¿”å›ã€‚ wait_until(lock, time_point) / wait_until(lock, time_point, pred): ä¸ wait_for ç±»ä¼¼ï¼Œä½†ç­‰å¾…ç›´åˆ°ä¸€ä¸ªæŒ‡å®šçš„æ—¶é—´ç‚¹ time_pointã€‚ notify_one(): å”¤é†’ä¸€ä¸ªæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹ã€‚å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…ï¼Œæ“ä½œç³»ç»Ÿä¼šé€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ¥å”¤é†’ã€‚å¦‚æœæ²¡æœ‰çº¿ç¨‹åœ¨ç­‰å¾…ï¼Œæ­¤è°ƒç”¨æ— æ•ˆã€‚ notify_all(): å”¤é†’æ‰€æœ‰æ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹ã€‚è¿™äº›è¢«å”¤é†’çš„çº¿ç¨‹ä¼šç«äº‰åŒä¸€ä¸ªäº’æ–¥é”ï¼Œæœ€ç»ˆåªæœ‰ä¸€ä¸ªèƒ½ç«‹å³æ‰§è¡Œï¼Œå…¶ä»–çº¿ç¨‹ä¼šç»§ç»­é˜»å¡åœ¨é”ä¸Šã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:3:10","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"è®¾è®¡æ¦‚è§ˆ\rclassDiagram\rnamespace çº¿ç¨‹æ± æ¨¡å— {\rclass ThreadPool {\r-string m_name\r-atomic~Status~ m_status\r-mutex m_status_mutex\r-queue~Task~ m_task_queue\r-mutex m_task_queue_mutex\r-condition_variable m_task_queue_cv\r-list~WorkerThread~ m_worker_list\r-list~WorkerThread~ m_zombie_workers\r-thread m_monitor_thread\r+explicit ThreadPool(const ThreadPoolConfig\u0026 config)\r+~ThreadPool()\r+pause()\r+resume()\r+shutdown()\r+increaseThreadCount(size_t count)\r+decreaseThreadCount(size_t count)\r+setMaxTaskCount(size_t count)\r+getThreadCount() : size_t\r+getStatus() : string\r+getThreadPoolConfig() : ThreadPoolConfig\r+submit(Task) : future~Result~\r-monitorLoop()\r-adjustThreadCount()\r}\rclass WorkerThread {\r-ThreadPool* m_pool_ptr\r-atomic~Status~ m_status\r-BinarySemaphore m_pause_sem\r-thread m_thread\r-atomic~time_point~ m_last_active_time\r+explicit WorkerThread(ThreadPool* pool_ptr)\r+~WorkerThread()\r+terminate()\r+pause()\r+resume()\r+getLastActiveTime() : time_point\r-isWake() : bool\r-run()\r}\rclass ThreadPoolConfig {\r+size_t max_task_count\r+size_t core_thread_count\r+size_t max_thread_count\r+milliseconds keep_alive_time\r+milliseconds monitor_interval\r+bool enable_dynamic_scaling\r+operator_equals(const ThreadPoolConfig\u0026 oth) : bool\r}\rclass BinarySemaphore {\r-mutex m_mutex\r-condition_variable m_cv\r-bool m_flag\r+explicit BinarySemaphore(bool initially_available)\r+acquire()\r+release()\r}\r}\rThreadPool \"1\" *-- \"N\" WorkerThread : contains\rThreadPool ..\u003e ThreadPoolConfig : uses\rWorkerThread ..\u003e ThreadPool : uses\rWorkerThread \"1\" *-- \"1\" BinarySemaphore : contains\rclassDiagram\rnamespace çº¿ç¨‹æ± æ¨¡å— {\rclass ThreadPool {\r-string m_name\r-atomic~Status~ m_status\r-mutex m_status_mutex\r-queue~Task~ m_task_queue\r-mutex m_task_queue_mutex\r-condition_variable m_task_queue_cv\r-list~WorkerThread~ m_worker_list\r-list~WorkerThread~ m_zombie_workers\r-thread m_monitor_thread\r+explicit ThreadPool(const ThreadPoolConfig\u0026 config)\r+~ThreadPool()\r+pause()\r+resume()\r+shutdown()\r+increaseThreadCount(size_t count)\r+decreaseThreadCount(size_t count)\r+setMaxTaskCount(size_t count)\r+getThreadCount() : size_t\r+getStatus() : string\r+getThreadPoolConfig() : ThreadPoolConfig\r+submit(Task) : future~Result~\r-monitorLoop()\r-adjustThreadCount()\r}\rclass WorkerThread {\r-ThreadPool* m_pool_ptr\r-atomic~Status~ m_status\r-BinarySemaphore m_pause_sem\r-thread m_thread\r-atomic~time_point~ m_last_active_time\r+explicit WorkerThread(ThreadPool* pool_ptr)\r+~WorkerThread()\r+terminate()\r+pause()\r+resume()\r+getLastActiveTime() : time_point\r-isWake() : bool\r-run()\r}\rclass ThreadPoolConfig {\r+size_t max_task_count\r+size_t core_thread_count\r+size_t max_thread_count\r+milliseconds keep_alive_time\r+milliseconds monitor_interval\r+bool enable_dynamic_scaling\r+operator_equals(const ThreadPoolConfig\u0026 oth) : bool\r}\rclass BinarySemaphore {\r-mutex m_mutex\r-condition_variable m_cv\r-bool m_flag\r+explicit BinarySemaphore(bool initially_available)\r+acquire()\r+release()\r}\r}\rThreadPool \"1\" *-- \"N\" WorkerThread : contains\rThreadPool ..\u003e ThreadPoolConfig : uses\rWorkerThread ..\u003e ThreadPool : uses\rWorkerThread \"1\" *-- \"1\" BinarySemaphore : contains","date":"2025-08-10","objectID":"/posts/e87181a/:4:0","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"åº“æ¶æ„\rçº¿ç¨‹æ± é‡‡ç”¨äº†æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦ç”±ä¸‹é¢ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶æ„æˆï¼š ThreadPoolÂ ç±»ï¼šä½œä¸ºç”¨æˆ·ç›´æ¥äº¤äº’çš„æ¥å£ï¼Œè´Ÿè´£ä»»åŠ¡è°ƒåº¦ã€çº¿ç¨‹ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚ç”¨æˆ·é€šè¿‡åˆ›å»ºÂ ThreadPoolÂ å®ä¾‹æ¥æäº¤ä»»åŠ¡ã€æ§åˆ¶çº¿ç¨‹æ± çŠ¶æ€ã€å¹¶è·å–çº¿ç¨‹æ± ç›¸å…³ä¿¡æ¯ã€‚ ThreadPool::WorkerThreadÂ ç±»ï¼šä½œä¸ºçº¿ç¨‹æ± å†…éƒ¨çš„å·¥ä½œå•å…ƒï¼Œæ¯ä¸ªÂ ThreadPool::WorkerThreadÂ å¯¹è±¡ä»£è¡¨ä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œçº¿ç¨‹ï¼Œè´Ÿè´£ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡å¹¶æ‰§è¡Œã€‚ è¾…åŠ©å·¥å…·ï¼šåŒ…æ‹¬åŒæ­¥åŸè¯­ï¼ˆå¦‚äº’æ–¥é”ã€æ¡ä»¶å˜é‡ã€ä¿¡å·é‡ç­‰ï¼‰ä»¥åŠçŠ¶æ€ç®¡ç†æœºåˆ¶ï¼Œå®ƒä»¬ä¸ºçº¿ç¨‹æ± å’Œå·¥ä½œçº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ã€ä»»åŠ¡åŒæ­¥ã€çŠ¶æ€å˜æ›´ç­‰æ“ä½œæä¾›äº†å¿…è¦çš„æ”¯æ’‘ã€‚ å„ç»„ä»¶é—´çš„å…³ç³»å¦‚ä¸‹ï¼š ThreadPoolÂ ç±»ç»´æŠ¤ä¸€ä¸ªå·¥ä½œçº¿ç¨‹åˆ—è¡¨Â std::list\u003cWorkerThread\u003eï¼Œå¹¶é€šè¿‡åŒæ­¥åŸè¯­æ§åˆ¶ä»»åŠ¡é˜Ÿåˆ—çš„è®¿é—®ä¸çŠ¶æ€å˜æ›´ã€‚å¹¶é€šè¿‡ThreadPool::WorkerThreadæä¾›çš„æ¥å£ï¼Œå¯¹å·¥ä½œçº¿ç¨‹å‘å‡ºå„ç§æŒ‡ä»¤ï¼ˆå¦‚æš‚åœã€æ¢å¤ã€ç»ˆæ­¢ç­‰ï¼‰ã€‚ ThreadPool::WorkerThreadÂ ç±»å®šä¹‰ä¸€ç³»åˆ—æ¥å£ä¾›Â ThreadPoolÂ ç±»ä½¿ç”¨ï¼Œä»è€Œèƒ½å¤Ÿè·å–å¾…æ‰§è¡Œä»»åŠ¡ã€æ›´æ–°è‡ªèº«çŠ¶æ€ã€‚ è¾…åŠ©å·¥å…·è´¯ç©¿äºæ•´ä¸ªåº“çš„è®¾è®¡ä¸å®ç°ä¸­ï¼Œç¡®ä¿å¹¶å‘ç¯å¢ƒä¸‹çš„æ•°æ®ä¸€è‡´æ€§ä¸æ“ä½œå®‰å…¨æ€§ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:4:1","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"çŠ¶æ€è½¬æ¢\rçº¿ç¨‹æ± çš„çŠ¶æ€è½¬æ¢å¦‚ä¸‹æ‰€ç¤ºï¼š stateDiagram-v2\rdirection LR\r[*] --\u003e RUNNING: åˆå§‹åŒ–\rRUNNING --\u003e PAUSED: è°ƒç”¨ pause()\rPAUSED --\u003e RUNNING: è°ƒç”¨ resume()\rRUNNING --\u003e SHUTDOWN: è°ƒç”¨ shutdown()\rPAUSED --\u003e RUNNING: (1)shutdown()å†…éƒ¨å…ˆè°ƒç”¨resumeWithoutStatusLock()\rRUNNING --\u003e SHUTDOWN: (2)å†è‡ªåŠ¨è¿›å…¥\rSHUTDOWN --\u003e TERMINATING: ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º\rTERMINATING --\u003e TERMINATED: å…¨éƒ¨å·¥ä½œçº¿ç¨‹ join\rTERMINATED --\u003e [*]\rstateDiagram-v2\rdirection LR\r[*] --\u003e RUNNING: åˆå§‹åŒ–\rRUNNING --\u003e PAUSED: è°ƒç”¨ pause()\rPAUSED --\u003e RUNNING: è°ƒç”¨ resume()\rRUNNING --\u003e SHUTDOWN: è°ƒç”¨ shutdown()\rPAUSED --\u003e RUNNING: (1)shutdown()å†…éƒ¨å…ˆè°ƒç”¨resumeWithoutStatusLock()\rRUNNING --\u003e SHUTDOWN: (2)å†è‡ªåŠ¨è¿›å…¥\rSHUTDOWN --\u003e TERMINATING: ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©º\rTERMINATING --\u003e TERMINATED: å…¨éƒ¨å·¥ä½œçº¿ç¨‹ join\rTERMINATED --\u003e [*]å·¥ä½œçº¿ç¨‹çš„çŠ¶æ€è½¬æ¢å¦‚ä¸‹æ‰€ç¤ºï¼š stateDiagram-v2\rdirection LR\r[*] --\u003e RUNNING: åˆå§‹åŒ–\rRUNNING --\u003e PAUSED: è°ƒç”¨ pause()\rPAUSED --\u003e RUNNING: è°ƒç”¨ resume()\rRUNNING --\u003e TERMINATING: è°ƒç”¨ terminate()\rPAUSED --\u003e TERMINATING: è°ƒç”¨ terminate()\rTERMINATING --\u003e TERMINATED: run() å¾ªç¯ç»“æŸ\rTERMINATED --\u003e [*]\rstateDiagram-v2\rdirection LR\r[*] --\u003e RUNNING: åˆå§‹åŒ–\rRUNNING --\u003e PAUSED: è°ƒç”¨ pause()\rPAUSED --\u003e RUNNING: è°ƒç”¨ resume()\rRUNNING --\u003e TERMINATING: è°ƒç”¨ terminate()\rPAUSED --\u003e TERMINATING: è°ƒç”¨ terminate()\rTERMINATING --\u003e TERMINATED: run() å¾ªç¯ç»“æŸ\rTERMINATED --\u003e [*]","date":"2025-08-10","objectID":"/posts/e87181a/:4:2","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"çº¿ç¨‹æ•°é‡å¢å‡\ræœ¬çº¿ç¨‹æ± å®ç°äº†ä¸¤ç§æ–¹å¼çš„çº¿ç¨‹æ± æ•°é‡å¢å‡ï¼Œç¬¬ä¸€ç§ä¸ºç”¨æˆ·æ‰‹åŠ¨è°ƒç”¨increaseThreadCountå’ŒdecreaseThreadCountå‡½æ•°æ¥è¿›è¡Œçº¿ç¨‹æ•°é‡çš„å¢å‡ï¼š sequenceDiagram\ractor User as ç”¨æˆ·\rparticipant TP as ThreadPool\rparticipant WT as WorkerThread\rUser-\u003e\u003eTP: increaseThreadCount(N)\ractivate TP\rTP-\u003e\u003eTP: 1. é”å®šçŠ¶æ€é” (m_status_mutex)\rTP-\u003e\u003eTP: 2. æ£€æŸ¥çŠ¶æ€æ˜¯å¦ä¸º RUNNING/PAUSED\rloop N æ¬¡\rTP-\u003e\u003eWT: 3. new WorkerThread(this)\ractivate WT\rnote right of WT: æ„é€ å‡½æ•°å¯åŠ¨ std::thread, çº¿ç¨‹è¿›å…¥ RUNNING çŠ¶æ€\rWT--\u003e\u003eTP: æ„é€ å®Œæˆ\rdeactivate WT\rend\rTP-\u003e\u003eTP: 4. è§£é™¤çŠ¶æ€é”\rdeactivate TP\rUser-\u003e\u003eTP: decreaseThreadCount(N)\ractivate TP\rTP-\u003e\u003eTP: 1. é”å®šçŠ¶æ€é” (m_status_mutex)\rTP-\u003e\u003eTP: 2. æ£€æŸ¥çŠ¶æ€æ˜¯å¦ä¸º RUNNING/PAUSED\rloop N æ¬¡\rTP-\u003e\u003eWT: 3. worker.terminate()\ractivate WT\rnote right of WT: çŠ¶æ€å˜ä¸º TERMINATING, å¹¶å”¤é†’è‡ªå·±å‡†å¤‡é€€å‡º\rWT--\u003e\u003eTP: terminate() è¿”å›\rdeactivate WT\rTP-\u003e\u003eTP: 4. å°† WorkerThread ç§»å…¥åƒµå°¸åˆ—è¡¨\rend\rTP-\u003e\u003eTP: 5. è§£é™¤çŠ¶æ€é”\rdeactivate TP\rsequenceDiagram\ractor User as ç”¨æˆ·\rparticipant TP as ThreadPool\rparticipant WT as WorkerThread\rUser-\u003e\u003eTP: increaseThreadCount(N)\ractivate TP\rTP-\u003e\u003eTP: 1. é”å®šçŠ¶æ€é” (m_status_mutex)\rTP-\u003e\u003eTP: 2. æ£€æŸ¥çŠ¶æ€æ˜¯å¦ä¸º RUNNING/PAUSED\rloop N æ¬¡\rTP-\u003e\u003eWT: 3. new WorkerThread(this)\ractivate WT\rnote right of WT: æ„é€ å‡½æ•°å¯åŠ¨ std::thread, çº¿ç¨‹è¿›å…¥ RUNNING çŠ¶æ€\rWT--\u003e\u003eTP: æ„é€ å®Œæˆ\rdeactivate WT\rend\rTP-\u003e\u003eTP: 4. è§£é™¤çŠ¶æ€é”\rdeactivate TP\rUser-\u003e\u003eTP: decreaseThreadCount(N)\ractivate TP\rTP-\u003e\u003eTP: 1. é”å®šçŠ¶æ€é” (m_status_mutex)\rTP-\u003e\u003eTP: 2. æ£€æŸ¥çŠ¶æ€æ˜¯å¦ä¸º RUNNING/PAUSED\rloop N æ¬¡\rTP-\u003e\u003eWT: 3. worker.terminate()\ractivate WT\rnote right of WT: çŠ¶æ€å˜ä¸º TERMINATING, å¹¶å”¤é†’è‡ªå·±å‡†å¤‡é€€å‡º\rWT--\u003e\u003eTP: terminate() è¿”å›\rdeactivate WT\rTP-\u003e\u003eTP: 4. å°† WorkerThread ç§»å…¥åƒµå°¸åˆ—è¡¨\rend\rTP-\u003e\u003eTP: 5. è§£é™¤çŠ¶æ€é”\rdeactivate TPç¬¬äºŒç§ä¸ºå¯ç”¨ç›‘æ§çº¿ç¨‹ï¼ˆéœ€è¦åœ¨åˆå§‹åŒ–çº¿ç¨‹æ± æ—¶æŒ‡å®šå‚æ•°enable_dynamic_scalingå‚æ•°ä¸ºtrueï¼‰ï¼Œç›‘æ§çº¿ç¨‹å°†ä¼šæ ¹æ®çº¿ç¨‹æ± çš„è´Ÿè½½è‡ªåŠ¨å¢å‡å·¥ä½œçº¿ç¨‹ï¼š graph TD\rsubgraph MonitorThread [ç›‘æ§çº¿ç¨‹: monitorLoop]\rA(å¯åŠ¨ç›‘æ§çº¿ç¨‹) --\u003e B(å¾ªç¯å¼€å§‹);\rB --\u003e C{\"m_terminating_flagä¸ºtrue?\"};\rC -- æ˜¯ --\u003e Z([çº¿ç¨‹ç»ˆæ­¢]);\rC -- å¦ --\u003e D[ç­‰å¾…monitor_intervalæ—¶é—´æˆ–è¢«å”¤é†’];\rD --\u003e F{\"should_terminateä¸ºtrue?\"};\rF -- æ˜¯ --\u003e Z;\rF -- å¦ --\u003e I[\"è°ƒç”¨adjustThreadCount()\"];\rI --\u003e B;\rend\rsubgraph adjustThreadCount [è°ƒæ•´çº¿ç¨‹æ•°é€»è¾‘]\rI --\u003e J[è·å–çº¿ç¨‹æ± çŠ¶æ€é”];\rJ --\u003e K{\"å½“å‰çŠ¶æ€æ˜¯RUNNINGæˆ–PAUSED?\"};\rK -- å¦ --\u003e L[é‡Šæ”¾status_locké”];\rL --\u003e M(è°ƒæ•´ç»“æŸ);\rK -- æ˜¯ --\u003e N[è·å–ç›¸å…³ä¿¡æ¯];\rN --\u003e O{\"æ»¡è¶³æ‰©å®¹æ¡ä»¶?\"};\rO -- æ˜¯ --\u003e P[\"è°ƒç”¨increaseThreadCountWithoutStatusLock(1)\"];\rP --\u003e L;\rO -- å¦ --\u003e Q{\"æ»¡è¶³ç¼©å®¹æ¡ä»¶?\"};\rQ -- å¦ --\u003e L;\rQ -- æ˜¯ --\u003e R[è®¡ç®—è¶…æ—¶ç©ºé—²çº¿ç¨‹æ•°];\rR --\u003e W{\"è¶…æ—¶ç©ºé—²çº¿ç¨‹æ•° \u003e 0?\"};\rW -- æ˜¯ --\u003e X[\"è°ƒç”¨decreaseThreadCountWithoutStatusLock(N)\"];\rX --\u003e L;\rW -- å¦ --\u003e L;\rend\rgraph TD\rsubgraph MonitorThread [ç›‘æ§çº¿ç¨‹: monitorLoop]\rA(å¯åŠ¨ç›‘æ§çº¿ç¨‹) --\u003e B(å¾ªç¯å¼€å§‹);\rB --\u003e C{\"m_terminating_flagä¸ºtrue?\"};\rC -- æ˜¯ --\u003e Z([çº¿ç¨‹ç»ˆæ­¢]);\rC -- å¦ --\u003e D[ç­‰å¾…monitor_intervalæ—¶é—´æˆ–è¢«å”¤é†’];\rD --\u003e F{\"should_terminateä¸ºtrue?\"};\rF -- æ˜¯ --\u003e Z;\rF -- å¦ --\u003e I[\"è°ƒç”¨adjustThreadCount()\"];\rI --\u003e B;\rend\rsubgraph adjustThreadCount [è°ƒæ•´çº¿ç¨‹æ•°é€»è¾‘]\rI --\u003e J[è·å–çº¿ç¨‹æ± çŠ¶æ€é”];\rJ --\u003e K{\"å½“å‰çŠ¶æ€æ˜¯RUNNINGæˆ–PAUSED?\"};\rK -- å¦ --\u003e L[é‡Šæ”¾status_locké”];\rL --\u003e M(è°ƒæ•´ç»“æŸ);\rK -- æ˜¯ --\u003e N[è·å–ç›¸å…³ä¿¡æ¯];\rN --\u003e O{\"æ»¡è¶³æ‰©å®¹æ¡ä»¶?\"};\rO -- æ˜¯ --\u003e P[\"è°ƒç”¨increaseThreadCountWithoutStatusLock(1)\"];\rP --\u003e L;\rO -- å¦ --\u003e Q{\"æ»¡è¶³ç¼©å®¹æ¡ä»¶?\"};\rQ -- å¦ --\u003e L;\rQ -- æ˜¯ --\u003e R[è®¡ç®—è¶…æ—¶ç©ºé—²çº¿ç¨‹æ•°];\rR --\u003e W{\"è¶…æ—¶ç©ºé—²çº¿ç¨‹æ•° \u003e 0?\"};\rW -- æ˜¯ --\u003e X[\"è°ƒç”¨decreaseThreadCountWithoutStatusLock(N)\"];\rX --\u003e L;\rW -- å¦ --\u003e L;\rend","date":"2025-08-10","objectID":"/posts/e87181a/:4:3","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"ä»»åŠ¡è°ƒåº¦ä¸æ‰§è¡Œ\rå®Œæ•´çš„ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹æ‰€ç¤ºï¼š sequenceDiagram\ractor Client as \"ä»»åŠ¡æäº¤è€…\"\rparticipant TP as \"ThreadPool\"\rparticipant TQ as \"ä»»åŠ¡é˜Ÿåˆ—\"\rparticipant Future as \"std::future\"\rparticipant WT as \"WorkerThread (ç©ºé—²)\"\rClient-\u003e\u003eTP: submit(function, args...)\ractivate TP\rTP-\u003e\u003eTP: 1. å°è£…ä¸º packaged_task\rTP-\u003e\u003eFuture: 2. task.get_future()\ractivate Future\rFuture--\u003e\u003eTP: future å¯¹è±¡\rdeactivate Future\rTP-\u003e\u003eTP: 3. å†æ¬¡å°è£…ä¸º std::function\u003cvoid()\u003e\rTP-\u003e\u003eTQ: 4. å°†ä»»åŠ¡åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—\rdeactivate TP\rTP-\u003e\u003eWT: 5. m_task_queue_cv.notify_one()\rTP--\u003e\u003eClient: 6. è¿”å› future å¯¹è±¡\ractivate WT\rWT-\u003e\u003eTQ: 7. lock(), task = task_queue.front()\ractivate TQ\rTQ--\u003e\u003eWT: task\rWT-\u003e\u003eTQ: 8. task_queue.pop(), unlock()\rdeactivate TQ\rWT-\u003e\u003eWT: 9. æ‰§è¡Œä»»åŠ¡\rnote over WT, Future: ä»»åŠ¡ç»“æœ/å¼‚å¸¸è¢«å­˜å…¥ä¸ future å…³è”çš„å…±äº«çŠ¶æ€ä¸­\rdeactivate WT\rClient-\u003e\u003eFuture: get() [é˜»å¡ç­‰å¾…ç»“æœ]\ractivate Future\rFuture--\u003e\u003eClient: è¿”å›ä»»åŠ¡ç»“æœæˆ–æŠ›å‡ºå¼‚å¸¸\rdeactivate Future\rsequenceDiagram\ractor Client as \"ä»»åŠ¡æäº¤è€…\"\rparticipant TP as \"ThreadPool\"\rparticipant TQ as \"ä»»åŠ¡é˜Ÿåˆ—\"\rparticipant Future as \"std::future\"\rparticipant WT as \"WorkerThread (ç©ºé—²)\"\rClient-\u003e\u003eTP: submit(function, args...)\ractivate TP\rTP-\u003e\u003eTP: 1. å°è£…ä¸º packaged_task\rTP-\u003e\u003eFuture: 2. task.get_future()\ractivate Future\rFuture--\u003e\u003eTP: future å¯¹è±¡\rdeactivate Future\rTP-\u003e\u003eTP: 3. å†æ¬¡å°è£…ä¸º std::function\u003cvoid()\u003e\rTP-\u003e\u003eTQ: 4. å°†ä»»åŠ¡åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—\rdeactivate TP\rTP-\u003e\u003eWT: 5. m_task_queue_cv.notify_one()\rTP--\u003e\u003eClient: 6. è¿”å› future å¯¹è±¡\ractivate WT\rWT-\u003e\u003eTQ: 7. lock(), task = task_queue.front()\ractivate TQ\rTQ--\u003e\u003eWT: task\rWT-\u003e\u003eTQ: 8. task_queue.pop(), unlock()\rdeactivate TQ\rWT-\u003e\u003eWT: 9. æ‰§è¡Œä»»åŠ¡\rnote over WT, Future: ä»»åŠ¡ç»“æœ/å¼‚å¸¸è¢«å­˜å…¥ä¸ future å…³è”çš„å…±äº«çŠ¶æ€ä¸­\rdeactivate WT\rClient-\u003e\u003eFuture: get() [é˜»å¡ç­‰å¾…ç»“æœ]\ractivate Future\rFuture--\u003e\u003eClient: è¿”å›ä»»åŠ¡ç»“æœæˆ–æŠ›å‡ºå¼‚å¸¸\rdeactivate Future","date":"2025-08-10","objectID":"/posts/e87181a/:4:4","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"ä¸»è¦å®ç°\r","date":"2025-08-10","objectID":"/posts/e87181a/:5:0","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"submitå‡½æ•°\rçº¿ç¨‹æ± è®¾è®¡çš„åŸºæœ¬ç†å¿µå°±æ˜¯ï¼šä»»åŠ¡å…¥é˜Ÿæ—¶å°±åº”è¯¥å·²ç»å…·å¤‡æ‰€æœ‰æ‰§è¡Œä¿¡æ¯ï¼ˆå‡½æ•°ä½“ + å‚æ•°ï¼‰ï¼Œå·¥ä½œçº¿ç¨‹åªè´Ÿè´£è°ƒç”¨ã€‚ /** * @brief æäº¤ä»»åŠ¡åˆ°ä»»åŠ¡é˜Ÿåˆ—, å¹¶è¿”å›ä¸€ä¸ª future å¯¹è±¡ä»¥è·å–æ‰§è¡Œç»“æœ * @details æ”¯æŒä»»æ„å‡½æ•°ç­¾ååŠå‚æ•°ç»„åˆ. å†…éƒ¨å°†ä»»åŠ¡å°è£…ä¸ºæ— å‚çš„ `std::function\u003cvoid()\u003e` * å½¢å¼, ç»Ÿä¸€å·¥ä½œçº¿ç¨‹çš„ä»»åŠ¡è°ƒåº¦æ ¼å¼. ä»»åŠ¡å°†åœ¨åå°çº¿ç¨‹å¼‚æ­¥æ‰§è¡Œ. * æš‚åœæ€ä¹Ÿå¯ä»¥æäº¤ä»»åŠ¡, ä½†ä¸ä¼šæ‰§è¡Œæ–°ä»»åŠ¡ * * @note å¦‚æœæŸä¸ªå‚æ•°æ˜¯å¼•ç”¨ç±»å‹, åˆ™åœ¨æäº¤ä»»åŠ¡æ—¶è¦ç”¨ std::ref(data) çš„å½¢å¼æ¥æ˜ç¡®å‘ŠçŸ¥submitå‡½æ•°ä¼ å¼•ç”¨ * * @tparam F å¯è°ƒç”¨å¯¹è±¡çš„ç±»å‹(å‡½æ•°æŒ‡é’ˆ, lambda, std::functionç­‰) * @tparam Args å¯è°ƒç”¨å¯¹è±¡ f æ‰€éœ€çš„å‚æ•°ç±»å‹ * * @param[in] f è¦æ‰§è¡Œçš„å‡½æ•°å¯¹è±¡ * @param[in] args è¦ä¼ é€’ç»™å‡½æ•° f çš„å‚æ•°(å¯å˜å‚æ•°åŒ…) * @return è¿”å›ä¸€ä¸ª future å¯¹è±¡ */ template\u003ctypename F, typename... Args\u003e std::future\u003cstd::invoke_result_t\u003cF, Args...\u003e\u003e submit(F\u0026\u0026 f, Args\u0026\u0026... args) { // åŠ é”, é˜²æ­¢åœ¨æäº¤ä»»åŠ¡è¿‡ç¨‹ä¸­çº¿ç¨‹æ± çŠ¶æ€å‘ç”Ÿå˜åŒ– std::lock_guard\u003cstd::mutex\u003e status_lock(m_status_mutex); const Status current_status = m_status.load(std::memory_order_acquire); // æ£€æŸ¥å½“å‰çº¿ç¨‹æ± çŠ¶æ€ if (current_status != Status::RUNNING \u0026\u0026 current_status != Status::PAUSED) { VELOX_ERROR(\"[submit error]: ThreadPool is in a state where it cannot submit tasks\"); throw std::runtime_error(\"[submit error]: ThreadPool is in a state where it cannot submit tasks\"); } // åˆ¤æ–­ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ if (isTaskQueueFull()) { VELOX_ERROR(\"[submit error]: task queue is full\"); throw std::runtime_error(\"[submit error]: task queue is full\"); } using return_type = std::invoke_result_t\u003cF, Args...\u003e; auto args_tuple = std::make_tuple(std::forward\u003cArgs\u003e(args)...); // å°†æäº¤çš„ä»»åŠ¡è¿›è¡ŒåŒé‡åŒ…è£…: // 1. å†…å±‚ lambda å°† f å’Œå…¶å‚æ•°å°è£…æˆä¸€ä¸ªæ— å‚å¯è°ƒç”¨çš„å¯¹è±¡. ç»Ÿä¸€äº†å·¥ä½œçº¿ç¨‹ç»Ÿæ‰§è¡Œä»»åŠ¡çš„æ–¹å¼(é€šè¿‡()æ¥æ‰§è¡Œ) // 2. å¤–å±‚ std::packaged_task å°è£…è¯¥ lambda. è¿™æ ·åšèƒ½å¤Ÿè·å– future, ä»¥ä¾¿ä»»åŠ¡æäº¤è€…èƒ½å¤Ÿè·å–æ‰§è¡Œç»“æœ auto task_ptr = std::make_shared\u003cstd::packaged_task\u003creturn_type()\u003e\u003e( [f = std::forward\u003cF\u003e(f), tuple = std::move(args_tuple)]() mutable -\u003e return_type { return std::apply(f, tuple); }); // è·å–è¯¥ä»»åŠ¡çš„ future, é€šè¿‡è¯¥å˜é‡è·å–ä»»åŠ¡æ‰§è¡Œç»“æœ std::future\u003creturn_type\u003e future = task_ptr-\u003eget_future(); // å°†ä»»åŠ¡æäº¤åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ { std::lock_guard\u003cstd::mutex\u003e lock(m_task_queue_mutex); // è¿›è¡Œç±»å‹æ“¦é™¤, å°† packaged_task å°è£…ä¸º void() ç±»å‹çš„ lambda å¹¶åŠ å…¥ä»»åŠ¡é˜Ÿåˆ— // ä½¿å¾—ä»»åŠ¡é˜Ÿåˆ—èƒ½å¤Ÿå­˜å‚¨ä¸åŒè¿”å›ç±»å‹çš„å‡½æ•°, æé«˜äº†é€šç”¨æ€§ m_task_queue.emplace([task_ptr]() { (*task_ptr)(); }); } m_task_queue_cv.notify_one(); return future; } ä»£ç ä¸­çš„æ³¨é‡Šå·²ç»è¯¦ç»†çš„è¯´æ˜äº†æ¯ä¸€è¡Œä»£ç çš„ä½œç”¨ï¼Œé‚£ä¹ˆä¸‹é¢æˆ‘ä»¬å°†è¯¦ç»†è¯´æ˜ä¸€ä¸‹è¿™ä¸ªå‡½æ•°çš„è®¾è®¡æ€è·¯ï¼š å¦‚ä½•è®¾è®¡ä»»åŠ¡é˜Ÿåˆ—ï¼Ÿ é¦–å…ˆï¼Œçº¿ç¨‹æ± çš„ä»»åŠ¡é˜Ÿåˆ—å¿…é¡»èƒ½å¤Ÿå­˜å‚¨å„ç§å„æ ·çš„ä»»åŠ¡ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€æˆ‘ä»¬åªèƒ½å¾€é‡Œé¢å¡ void() ç±»å‹çš„ä»»åŠ¡å¯¹è±¡ï¼Œæ¢å¥è¯è¯´ï¼Œæ‰€æœ‰ä»»åŠ¡éƒ½å¿…é¡» â€œç±»å‹æ“¦é™¤â€ ä¸ºä¸€ä¸ª void() å¯è°ƒç”¨å¯¹è±¡ã€‚å› æ­¤ï¼Œä»»åŠ¡é˜Ÿåˆ—å­˜å‚¨çš„ç±»å‹å°±åº”è¯¥ä¸ºstd::function\u003cvoid()\u003eï¼Œè¿™æ ·å°±èƒ½å¤Ÿå­˜å‚¨ä»»ä½•ä»»åŠ¡äº†ï¼Œä¸”å·¥ä½œçº¿ç¨‹ä¹Ÿåªç®¡æ‰§è¡Œä»»åŠ¡ï¼Œæ— éœ€å…³å¿ƒä»»åŠ¡çš„å‚æ•°å’Œè¿”å›å€¼ã€‚ å¦‚ä½•å°†åŸå§‹å‡½æ•°å°è£…æˆstd::function\u003cvoid()\u003e å‘¢ï¼Ÿ ä»»åŠ¡æäº¤è€…è‚¯å®šéƒ½æ˜¯æƒ³è¦çŸ¥é“ä»»åŠ¡æ‰§è¡Œç»“æœçš„ï¼Œè€Œå·¥ä½œçº¿ç¨‹æ‰§è¡Œçš„æ˜¯void()ï¼Œæœ‰ä»€ä¹ˆä¼˜é›…çš„æ–¹å¼èƒ½å¤Ÿè·å–æ‰§è¡Œç»“æœå‘¢ï¼Ÿé‚£å°±æ˜¯ä½¿ç”¨std::packaged_taskæ¥è¿›è¡Œå°è£…! å› ä¸ºè¯¥ç±»çš„get_future() æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª std::future å¯¹è±¡ï¼Œå¯ä»¥è·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨ä¸€ä¸ª lambda å°†åŸå§‹ä»»åŠ¡å°è£…æˆä¸€ä¸ªæ— å‚ä»»åŠ¡ï¼Œå†ä½¿ç”¨ std::packaged_task å¯¹æ— å‚ä»»åŠ¡è¿›è¡Œå°è£…ï¼Œæœ€ååœ¨å…¥é˜Ÿæ—¶å°†å…¶å°è£…æˆä¸€ä¸ªvoid()å¯¹è±¡ã€‚ è¿™é‡Œæœ‰ä¸‰ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š 1. ä¸ºä»€ä¹ˆstd::packaged_task ä¸ç›´æ¥å°†æ— å‚ä»»åŠ¡å°è£…æˆvoid()? å› ä¸ºå½“ä»»åŠ¡æœ‰è¿”å›å€¼æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦èƒ½å¤Ÿè·å–è¿”å›å€¼ã€‚ç”¨ packaged_task\u003cvoid()\u003e é‚£ä¹ˆè¿”å›çš„ futureç±»å‹å°±æ˜¯std::future\u003cvoid\u003eï¼Œä»»åŠ¡æäº¤è€…å°±æ— æ³•è·å–ä»»åŠ¡æ‰§è¡Œç»“æœäº†ã€‚ 2. ä¸ºä»€ä¹ˆè¦ç”¨ lambda å°†åŸå§‹ä»»åŠ¡å°è£…æˆä¸€ä¸ªæ— å‚ä»»åŠ¡å†ç”±std::packaged_taskå°è£…ï¼Ÿ å› ä¸ºï¼Œè¿™ç§åšæ³•æ˜¯æ ‡å‡†åšæ³•ï¼Œå…¶æä¾›äº†æ›´ç›´æ¥çš„å‚æ•°ç»‘å®šï¼Œå¯ä»¥ä¿æŒä»»åŠ¡ç­¾åä¸€è‡´æ€§ (void())ï¼Œä»£ç ç»“æ„æ›´åŠ æ¸…æ™°å¥å£®ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨std::packaged_taskå°è£…åŸå§‹å‡½æ•°ï¼Œåœ¨åç»­å†æŠŠtaskå°è£…æˆvoid()ï¼Œä½†æ˜¯ä¸æ¨èè¿™æ ·åšã€‚ 3. ä¸ºä»€ä¹ˆä½¿ç”¨ shared_ptrÂ ç®¡ç†Â packaged_taskï¼Ÿ æœ€ä¸»è¦çš„åŸå› æ˜¯ packaged_task å¯¹è±¡å¿…é¡»åœ¨ submit å‡½æ•°è¿”å›åç»§ç»­å­˜æ´»ï¼Œç›´åˆ°æŸä¸ªå·¥ä½œçº¿ç¨‹æœ€ç»ˆæ‰§è¡Œå®ƒã€‚ å¦‚æœä½¿ç”¨å±€éƒ¨å˜é‡ auto task = ...ï¼Œè¿™ä¸ª task å¯¹è±¡ä¼šåœ¨ submit å‡½æ•°ç»“æŸæ—¶è¢«é”€æ¯ï¼Œå½“å·¥ä½œçº¿ç¨‹è°ƒç”¨ task() æ—¶ï¼Œå®ƒè®¿é—®çš„æ˜¯ä¸€ä¸ªå·²ç»è¢«é”€æ¯çš„å¯¹è±¡ã€‚è¿™æ˜¯å…¸å‹çš„æ‚¬æŒ‚æŒ‡é’ˆ/å¼•ç”¨é—®é¢˜ï¼Œä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼Œç¨‹åºå¾ˆå¯èƒ½ä¼šç«‹å³å´©æºƒã€‚ æ­¤å¤–ï¼Œstd::function è¦æ±‚å…¶å†…éƒ¨å­˜å‚¨çš„å¯è°ƒç”¨å¯¹è±¡æ˜¯å¯æ‹·è´çš„ï¼Œè€Œä¸€ä¸ªæ•è·äº† std::unique_ptr çš„ lambda è‡ªèº«æ˜¯ä¸å¯æ‹·è´çš„ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨std::unique_ptrã€‚ æ³¨æ„ï¼š å¦‚æœæäº¤çš„ä»»åŠ¡æœ‰å¼•ç”¨å‚æ•°çš„è¯ï¼Œè¦ä½¿ç”¨ std::ref(data) çš„å½¢å¼æ¥ä¼ ï¼Œå› ä¸ºArgs\u0026\u0026... args æ˜¯å€¼ä¼ é€’ï¼Œå®å‚ä¼šè¢« æŒ‰å€¼ ä¼ é€’è¿›ä»»åŠ¡ä¸­ï¼ˆå³å¤åˆ¶ï¼‰ï¼Œé™¤éä½ æ˜ç¡®å‘Šè¯‰å®ƒä¼ â€œå¼•ç”¨â€ã€‚ ","date":"2025-08-10","objectID":"/posts/e87181a/:5:1","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"å·¥ä½œçº¿ç¨‹æ‰§è¡Œé€»è¾‘\rå·¥ä½œçº¿ç¨‹å°±æ˜¯ä¸æ–­æ‰§è¡Œå®šä¹‰çš„å¾ªç¯é€»è¾‘ï¼Œç›´åˆ°è¢«çº¿ç¨‹æ± ç»ˆæ­¢ã€‚ void ThreadPool::WorkerThread::run() { while (true) { // --- é˜¶æ®µ1: æ£€æŸ¥è‡ªèº«çŠ¶æ€ --- { // çŠ¶æ€äº’æ–¥é‡ä¸Šé” std::unique_lock status_lock(m_status_mutex); // å¤„ç†ç»ˆæ­¢ if (m_status.load(std::memory_order_acquire) == Status::TERMINATING) { m_status.store(Status::TERMINATED, std::memory_order_release); break; } // å¤„ç†æš‚åœ if (m_status.load(std::memory_order_acquire) == Status::PAUSED) { status_lock.unlock(); // æ‰‹åŠ¨é‡Šæ”¾çŠ¶æ€é” m_pause_sem.acquire(); // ç­‰å¾…ä¿¡å·é‡ continue; } } // --- é˜¶æ®µ2: å¤„äºè¿è¡Œæ€, è·å–ä»»åŠ¡ --- std::function\u003cvoid()\u003e task; { // ä»»åŠ¡é˜Ÿåˆ—ä¸Šé” std::unique_lock queue_lock(m_pool_ptr-\u003em_task_queue_mutex); // åˆ¤æ–­æ˜¯å¦ wait while (!isWake()) { m_pool_ptr-\u003em_task_queue_cv.wait(queue_lock); } /*--------------- åˆ¤æ–­è¢«å”¤é†’çš„åŸå›  ---------------*/ // 1. çº¿ç¨‹å¤„äºéè¿è¡Œæ€ { std::shared_lock status_lock(m_status_mutex); if (m_status.load(std::memory_order_acquire) != Status::RUNNING) { continue; } } // 2. çº¿ç¨‹æ± è¦åœæ­¢äº†, ä¸”é˜Ÿåˆ—å·²ç©º, åˆ™ç›´æ¥å‡†å¤‡é€€å‡º if (m_pool_ptr-\u003em_terminating_flag.load(std::memory_order_acquire) \u0026\u0026 m_pool_ptr-\u003em_task_queue.empty()) { std::unique_lock status_lock(m_status_mutex); m_status.store(Status::TERMINATING, std::memory_order_release); continue; } // 3. çº¿ç¨‹å¤„äºè¿è¡Œæ€, å¯¹äº ç»ˆæ­¢ + éç©º å’Œ éç»ˆæ­¢ + éç©º çš„æƒ…å†µæˆ‘ä»¬éƒ½éœ€è¦å–ä»»åŠ¡æ‰§è¡Œ task = std::move(m_pool_ptr-\u003em_task_queue.front()); m_pool_ptr-\u003em_task_queue.pop(); if (m_pool_ptr-\u003em_task_queue.empty()) { m_pool_ptr-\u003em_task_queue_empty_cv.notify_all(); } } // --- é˜¶æ®µ3: æ‰§è¡Œä»»åŠ¡(æ— é”çŠ¶æ€) --- m_pool_ptr-\u003em_busy_thread_count.fetch_add(1, std::memory_order_release); try { if (task) { task(); // æ‰§è¡Œä»»åŠ¡ } } catch (const std::exception\u0026 e) { VELOX_ERROR(\"Task execution failed: {}\", e.what()); } m_pool_ptr-\u003em_busy_thread_count.fetch_sub(1, std::memory_order_release); m_last_active_time.store(std::chrono::steady_clock::now(), std::memory_order_release); } VELOX_INFO(\"WorkerThread terminated\"); } ","date":"2025-08-10","objectID":"/posts/e87181a/:5:2","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["Velox"],"content":"ä½¿ç”¨ç¤ºä¾‹\r#include \u003cvector\u003e #include \u003cchrono\u003e #include \u003ciostream\u003e #include \"threadpool.hpp\" int add(int a, int b) { return a + b; } int main() { velox::threadpool::ThreadPoolConfig pool_config; // å®šä¹‰çº¿ç¨‹æ± é…ç½®å˜é‡ // æŒ‡å®šå„é¡¹é…ç½®çš„å€¼, ä¸æŒ‡å®šå°†ä¼šä½¿ç”¨é»˜è®¤å€¼, å„é¡¹é»˜è®¤å€¼å¯æŸ¥é˜… config/threadpool.yml æ–‡ä»¶ pool_config.max_task_count = 1000; pool_config.core_thread_count = 6; pool_config.max_thread_count = 12; // å®šä¹‰çº¿ç¨‹æ± å˜é‡ std::unique_ptr\u003cThreadPool\u003e pool = std::make_unique\u003cThreadPool\u003e(pool_config); // åŠ è½½æŒ‡å®šç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶(å¯é€‰) // velox::config::Config::loadFromConfDir(\"test/threadpool\"); // æäº¤ä¸€ä¸ªè¿”å› int çš„æ™®é€šå‡½æ•° auto future1 = pool-\u003esubmit(add, 10, 20); // æäº¤ä¸€ä¸ªæ— è¿”å›å€¼çš„ Lambda è¡¨è¾¾å¼ auto future2 = pool-\u003esubmit([] { std::this_thread::sleep_for(std::chrono::milliseconds(500)); std::cout \u003c\u003c \"Task [lambda]: Finished.\" \u003c\u003c std::endl; }); // æäº¤å¤šä¸ªä»»åŠ¡ std::vector\u003cstd::future\u003cint\u003e\u003e futures; for (int i = 0; i \u003c 5; ++i) { futures.emplace_back(pool-\u003esubmit([i] { std::cout \u003c\u003c \"Task [loop \" \u003c\u003c i \u003c\u003c \"]: Running in thread \" \u003c\u003c std::this_thread::get_id() \u003c\u003c std::endl; std::this_thread::sleep_for(std::chrono::milliseconds(200)); return i * i; })); } // æš‚åœçº¿ç¨‹æ± , çº¿ç¨‹æ± å¤„äºæš‚åœæ€æ—¶åªä¼šæ¥å—ä»»åŠ¡, ä¸ä¼šæ‰§è¡Œä»»åŠ¡ pool-\u003epause(); // åœ¨æš‚åœæœŸé—´æäº¤ä¸€ä¸ªä»»åŠ¡ï¼Œå®ƒä¼šè¢«æ¥æ”¶ä½†ä¸ä¼šç«‹å³æ‰§è¡Œ auto future_paused = pool-\u003esubmit([] { std::cout \u003c\u003c \"This task was submitted while paused.\" \u003c\u003c std::endl; }); std::this_thread::sleep_for(std::chrono::seconds(2)); // ç­‰å¾…ä¸€æ®µæ—¶é—´ // å°†çº¿ç¨‹æ± æ¢å¤è¿è¡Œæ€ pool-\u003eresume(); // è·å–ä»»åŠ¡ç»“æœ std::cout \u003c\u003c \"Result of add(10, 20) is \" \u003c\u003c future1.get() \u003c\u003c std::endl; // ç­‰å¾… lambda ä»»åŠ¡å®Œæˆ future2.get(); // ç­‰å¾…å¾ªç¯ä¸­çš„ä»»åŠ¡å¹¶æ‰“å°ç»“æœ for (size_t i = 0; i \u003c futures.size(); ++i) { std::cout \u003c\u003c \"Result of loop task \" \u003c\u003c i \u003c\u003c \" is \" \u003c\u003c futures[i].get() \u003c\u003c std::endl; } future_paused.get(); std::cout \u003c\u003c \"\\nAll tasks finished.\" \u003c\u003c std::endl; // å…³é—­çº¿ç¨‹æ± , ä½†ä¹Ÿå¯ä»¥ä¸è°ƒç”¨æ­¤å‡½æ•°, ç”±çº¿ç¨‹æ± ç±»çš„ææ„å‡½æ•°å®Œæˆèµ„æºçš„é‡Šæ”¾ pool-\u003eshutdown(); return 0; } ","date":"2025-08-10","objectID":"/posts/e87181a/:6:0","tags":["veloxæ¨¡å—"],"title":"Velox_çº¿ç¨‹æ± æ¨¡å—","uri":"/posts/e87181a/"},{"categories":["CMake"],"content":"è¯¥ç¬”è®°åªæ˜¯ç”¨äºè®°å½•å’Œæ¢³ç†CMakeä¸­æ¯”è¾ƒé‡è¦çš„çŸ¥è¯†ï¼Œå¹¶ä¸ä¼šå†™å¾—å¾ˆè¯¦ç»†ï¼ˆæ¯”å¦‚ä¸ä¼šå†™å‡ºä½¿ç”¨project()å‘½ä»¤åä¼šåˆ›å»ºå“ªäº›å˜é‡ï¼‰ã€‚å­¦å®Œæœ¬ç¬”è®°å³å¯ä¸Šæ‰‹ä½¿ç”¨CMakeï¼Œä¸€äº›å¾ˆç»†çš„çŸ¥è¯†å¯ä»¥åœ¨é‡åˆ°æ‰€ç”¨çš„åœºæ™¯æ—¶è‡ªè¡ŒæŸ¥é˜…å®˜æ–¹èµ„æ–™ã€‚ ","date":"2025-06-24","objectID":"/posts/6c7e777/:0:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"åŸºç¡€æ¡†æ¶\ræœ€åŸºæœ¬çš„CMakeé¡¹ç›®æ˜¯ç”±å•ä¸ªæºä»£ç æ–‡ä»¶æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯¹äºè¿™ç§ç®€å•çš„é¡¹ç›®ï¼Œåªéœ€è¦ç»™ CMakeLists.txt æ–‡ä»¶æä¾›ä¸‰ä¸ªå‘½ä»¤ï¼š cmake_minimum_required(VERSION x.xx) # æŒ‡å®šCMakeæœ€ä½ç‰ˆæœ¬ project( ProjectName # é¡¹ç›®åç§° VERSION x.x.x # é¡¹ç›®ç‰ˆæœ¬ LANGUAGES CXX # é¡¹ç›®è¯­è¨€, CXXè¡¨ç¤ºC++ ) add_executable(ExecutableName SourceCodePath) # è®¾ç½®å¯æ‰§è¡Œæ–‡ä»¶çš„åç§°å’Œæºä»£ç è·¯å¾„ ä¾‹å¦‚ï¼š cmake_minimum_required(VERSION 3.15) project( MBFF VERSION 0.1.12 LANGUAGES CXX ) add_executable(MBFF src/main.cpp) è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥äº§ç”Ÿä¸€ä¸ªåä¸ºMBFFçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ å…¶ä¸­ cmake_minimum_required()å’Œproject()å‘½ä»¤éœ€è¦åœ¨é¡¹ç›®çš„é¡¶çº§CMakeLists.txtç»™å‡ºï¼ˆå½“é¡¹ç›®ååˆ†å¤æ‚æ—¶ï¼Œä¼šå­˜åœ¨å¤šä¸ªCMakeLists.txtæ–‡ä»¶ï¼‰ã€‚ cmake_minimum_required(): è¯¥å‘½ä»¤æ˜¯CMakeLists.txtä¸­ç¬¬ä¸€æ¡æ‰§è¡Œçš„å‘½ä»¤ï¼Œç”¨äºæ§åˆ¶CMakeçš„ç‰ˆæœ¬ï¼Œç¦ç”¨ä¸€äº›å·²å¯ç”¨çš„ç‰¹æ€§ project(): è®¾ç½®é¡¹ç›®çš„ç›¸å…³å±æ€§ï¼Œå¯ä»¥åªè®¾ç½®é¡¹ç›®åç§°ï¼Œä½†æ¨èæŒ‰ä¸Šé¢çš„å†™æ³•æ¥ç”¨ add_executable(): äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ²¡æœ‰è¯¥å‘½ä»¤æ˜¯ä¸ä¼šäº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶çš„ æ³¨æ„ï¼šCMakeLists.txtçš„å‘½ä»¤æ‰§è¡Œé¡ºåºæ˜¯ä»ä¸Šå¾€ä¸‹çš„ï¼Œæ‰€ä»¥è¦æœ‰é€»è¾‘çš„ç¼–å†™å‘½ä»¤ã€‚ ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤è¶³å¤Ÿå¤„ç†ä¸€äº›åŸºæœ¬æƒ…å†µäº†ï¼Œä½†æ˜¯å½“æˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨äº†ä¸€äº›C++17æˆ–æ›´é«˜æ ‡å‡†çš„ç‰¹æ€§åï¼Œä¼šå‘ç°ç¼–è¯‘å¤±è´¥ï¼Œè¿™æ˜¯å› ä¸ºç¼–è¯‘å™¨ä¼šä½¿ç”¨é»˜è®¤æ ‡å‡†ï¼ˆé€šå¸¸ä¸º C++98/GCC æˆ– C++14/Clangï¼Œ å¯é€šè¿‡è¾“å‡ºå˜é‡Â CMAKE_CXX_STANDARD_DEFAULTÂ çš„å€¼æŸ¥è¯¢é»˜è®¤å€¼ï¼‰æ¥è¿›è¡Œç¼–è¯‘ï¼Œå¯¼è‡´ä¸å­˜åœ¨è¿™äº›ç‰¹æ€§ã€‚è¿™æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨ set() å‘½ä»¤æ¥è¿›è¡Œç›¸å…³è®¾ç½®ï¼š cmake_minimum_required(VERSION 3.15) project( MBFF VERSION 0.1.12 LANGUAGES CXX ) set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_STANDARD_REQUIRED ON) set(CMAKE_CXX_EXTENSIONS OFF) add_executable(MBFF src/main.cpp) åœ¨ä¸Šé¢çš„å†…å®¹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨set()å‘½ä»¤ä¸ºCMAKE_CXX_STANDARDã€CMAKE_CXX_STANDARD_REQUIREDã€CMAKE_CXX_EXTENSIONSä¸‰ä¸ªå˜é‡è¿›è¡Œäº†èµ‹å€¼ï¼Œå…¶ä¸­ï¼š CMAKE_CXX_STANDARDï¼šè®¾ç½®ä½¿ç”¨çš„C++æ ‡å‡†ï¼Œæœªè®¾ç½®æ—¶ç¼–è¯‘å™¨ä½¿ç”¨é»˜è®¤å€¼ CMAKE_CXX_STANDARD_REQUIREDï¼šæ§åˆ¶æ˜¯å¦å¼ºåˆ¶è¦æ±‚ç¼–è¯‘å™¨æ”¯æŒæŒ‡å®šæ ‡å‡†ï¼Œè‹¥ä¸ºOFFæ—¶ç¼–è¯‘å™¨å¯èƒ½ä¼šå›é€€åˆ°æ—§æ ‡å‡†ï¼ˆæ¯”å¦‚æŒ‡å®šæ ‡å‡†ä¸ºC++20ï¼Œä½†æ²¡æœ‰å¼ºåˆ¶è¦æ±‚ï¼Œclangç¼–è¯‘å™¨ä¼šä½¿ç”¨æœ‰æ‰©å±•çš„C++17æ ‡å‡†ï¼‰ CMAKE_CXX_EXTENSIONSï¼šæ§åˆ¶æ˜¯å¦ç¦æ­¢ä½¿ç”¨ç¼–è¯‘å™¨ç‰¹å®šçš„C++æ‰©å±•ï¼Œä¸ºOFFæ—¶å¼ºåˆ¶ä»£ç éµå¾ªISO C++ æ ‡å‡† æ³¨æ„ï¼šCMakeä¸­å­˜åœ¨ä¸€ç³»åˆ—ä»¥CMAKE_å¼€å¤´çš„å˜é‡ï¼Œå®ƒä»¬éƒ½æœ‰ç‰¹æ®Šçš„ç”¨é€”ï¼Œåœ¨åˆ›å»ºå˜é‡æ—¶åº”è¯¥é¿å…ä»¥CMAKE_å¼€å¤´ã€‚ é€šè¿‡ä¸Šé¢çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä»½åŸºç¡€çš„CMakeLists.txtï¼š cmake_minimum_required(VERSION ç‰ˆæœ¬è¦æ±‚) project( é¡¹ç›®åç§° VERSION ç‰ˆæœ¬å· LANGUAGES è¯­è¨€è¦æ±‚ ) set(CMAKE_CXX_STANDARD æ ‡å‡†) set(CMAKE_CXX_STANDARD_REQUIRED ON) set(CMAKE_CXX_EXTENSIONS OFF) add_executable(äºŒè¿›åˆ¶æ–‡ä»¶åç§° æºä»£ç è·¯å¾„) å¦‚æœæœ‰åœ¨æºä»£ç ä¸­ä½¿ç”¨CMakeå˜é‡çš„éœ€æ±‚ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚ ","date":"2025-06-24","objectID":"/posts/6c7e777/:1:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"ç”Ÿæˆåº“æ–‡ä»¶å¹¶ä½¿ç”¨\ré€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬éƒ½ä¼šå°†é¡¹ç›®ç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†æ˜¯ï¼Œå½“æˆ‘ä»¬æœ‰ä»£ç å¤ç”¨éœ€æ±‚ã€æ¨¡å—è§£è€¦éœ€æ±‚æˆ–å•†ä¸šä¿æŠ¤éœ€æ±‚æ—¶ï¼Œå°±éœ€è¦å°†é¡¹ç›®ç”Ÿæˆä¸€ä¸ªåº“æ–‡ä»¶æ¥ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå½“é¡¹ç›®éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™ä¸€ä¸ªæ•°å­¦åº“æ—¶ï¼Œå°±å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª mylibrary ç›®å½•ï¼Œç„¶ååœ¨è¯¥å­ç›®å½•ä¸‹å­˜æ”¾å¯¹åº”çš„CMakeLists.txtæ–‡ä»¶å’Œæºæ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š Mylibrary â”£ 3rdparty â”£ include â”ƒ â”— math.h â”£ src â”ƒ â”— math.cpp â”— CMakeLists.txt è¯¥å­ç›®å½•ä¸‹çš„CMakeLists.txtæ–‡ä»¶å†…å®¹ä¸ºï¼š add_library(MathFunctions math.cpp) # åˆ›å»ºåä¸º MathFunctions çš„åº“æ–‡ä»¶ target_include_directories( MathFunctions PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include # å…¬å…± API PRIVATE ${CMAKE_CURRENT_SOURCE_DIR}/src # å®ç°ä»£ç å¤´æ–‡ä»¶ INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/3rdparty # é“¾æ¥è€…ä¾èµ–ä½†æœ¬åº“ä¸ç›´æ¥ä½¿ç”¨ ) add_library(\u003cname\u003e [STATIC | SHARED] [EXCLUDE_FROM_ALL] source1 [source2...])ç”¨äºç”Ÿæˆåº“æ–‡ä»¶ï¼Œå…¶å‚æ•°ä¸ºï¼š \u003cname\u003eï¼šåº“åç§°ï¼ˆå…¨å±€å”¯ä¸€ï¼‰ STATIC/SHAREDï¼šåˆ›å»ºé™æ€åº“ï¼ˆ.a/.libï¼‰/åŠ¨æ€åº“ï¼ˆ.so/.dllï¼‰ï¼Œé»˜è®¤ä¸ºé™æ€åº“ EXCLUDE_FROM_ALLï¼šä¸åŒ…å«åœ¨é»˜è®¤æ„å»ºä¸­ sourceXï¼šæºä»£ç æ–‡ä»¶åˆ—è¡¨ target_include_directories(\u003ctarget\u003e [PRIVATE|PUBLIC|INTERFACE] [\u003cdirs\u003e...])ç”¨äºä¸ºç‰¹å®šç›®æ ‡è®¾ç½®å¤´æ–‡ä»¶æœç´¢è·¯å¾„ï¼Œå…¶å‚æ•°ä¸ºï¼š \u003ctarget\u003eï¼šå®šä¹‰çš„ç›®æ ‡ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ä¸º MathFunctions PRIVATEã€PUBLICã€INTERFACEï¼šä¿®é¥°è¯ï¼Œç”¨äºå†³å®šè¿™äº›è·¯å¾„çš„å¯è§æ€§ã€‚è¿™äº›ä¿®é¥°è¯çš„ä½¿ç”¨åœºæ™¯ä¸ºï¼š PUBLICï¼šåº“æœ¬èº«çš„.cppæ–‡ä»¶å’Œé“¾æ¥è¯¥åº“çš„å…¶ä»–ç›®æ ‡çš„æºæ–‡ä»¶ï¼ˆæ¯”å¦‚è¿™é‡Œçš„src/main.cppï¼‰éœ€è¦includeè¿™ä¸ªç›®å½• PRIVATEï¼šåªæœ‰åº“æœ¬èº«çš„.cppæ–‡ä»¶éœ€è¦includeè¿™ä¸ªç›®å½• INTERFACEï¼šé“¾æ¥è€…éœ€è¦ä¾èµ–ï¼Œä½†åº“æœ¬èº«ä¸éœ€è¦ï¼ˆä¾‹å¦‚çº¯å¤´æ–‡ä»¶åº“ã€å®å®šä¹‰ã€ç¼–è¯‘é€‰é¡¹ç­‰ï¼‰ \u003cdirs\u003eï¼šä¸€ä¸ªæˆ–å¤šä¸ªç›®å½•è·¯å¾„ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨åœ¨è¿™äº›è·¯å¾„ä¸­æŸ¥æ‰¾å¤´æ–‡ä»¶ ä¸ºä»€ä¹ˆè¯¥å­ç›®å½•åªéœ€å†™è¿™ä¸¤è¡Œå‘½ä»¤ï¼Ÿ å› ä¸ºCMakeçš„å˜é‡å…·å¤‡ä¼ é€’æ€§ï¼Œé¡¶å±‚CMakeLists.txtæ–‡ä»¶äº§ç”Ÿçš„å…¨å±€å˜é‡éƒ½å¯ä»¥è¢«å­ç›®å½•çš„CMakeLists.txtæ–‡ä»¶è®¿é—®ï¼Œæ‰€ä»¥æ— éœ€åœ¨å­ç›®å½•çš„CMakeLists.txtæ–‡ä»¶é‡å¤å†™project()ï¼Œcmake_minimum_required()ç­‰å‘½ä»¤ã€‚ ä¸ºä»€ä¹ˆä¸åœ¨é¡¶å±‚æ–‡ä»¶ä¸­ä½¿ç”¨target_include_directories()å‘½ä»¤ï¼Ÿ é¡¶å±‚CMakeLists.txt ä¸­ä¸æ¨èå†™ä»»ä½•ä»¥target_å¼€å¤´çš„å‘½ä»¤ï¼Œå› ä¸ºè¿™ä¼šç ´åæ¨¡å—å°è£…æ€§ä»¥åŠå¯¼è‡´é¡¶å±‚CMakeLists.txtå˜å¤æ‚ï¼Œé€»è¾‘è€¦åˆå¤ªé‡ã€‚ ä¸Šé¢çš„ CMAKE_CURRENT_SOURCE_DIR ä¸ºç‰¹æ®Šå˜é‡ï¼Œå­˜å‚¨äº†å½“å‰CMakeLists.txtæ–‡ä»¶çš„è·¯å¾„ã€‚ä¸ºäº†ä½¿ç”¨ç”Ÿæˆçš„åº“ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¶å±‚CMakeLists.txtæ–‡ä»¶æ·»åŠ ä¸‹é¢ä¸¤ä¸ªå‘½ä»¤ï¼š add_subdirectory(Mylibrary) target_link_libraries(MBFF PRIVATE MathFunctions) add_subdirectory()ï¼šæ·»åŠ ä¸€ä¸ªç›®å½•ï¼Œå¹¶æ‰§è¡Œè¯¥ç›®å½•ä¸‹çš„CMakeLists.txt target_link_libraries()ï¼šå°†å®šä¹‰å¥½çš„åº“é“¾æ¥åˆ°ç›®æ ‡MBFFä¸­ï¼Œå…¶ä¹Ÿæœ‰PRIVATEã€PUBLICã€INTERFACEä¸‰ä¸ªä¿®é¥°è¯å¯é€‰ å®Œæ•´çš„é¡¶å±‚CMakeLists.txtæ–‡ä»¶å†…å®¹ä¸ºï¼š cmake_minimum_required(VERSION 3.15) Project( MBFF VERSION 1.0 LANGUAGES CXX ) set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_STANDARD_REQUIRED ON) set(CMAKE_CXX_EXTENSIONS OFF) add_subdirectory(Mylibrary) add_executable(MBFF src/main.cpp) target_link_libraries(MBFF PRIVATE MathFunctions) è¿™æ ·ï¼Œå°±èƒ½å¤Ÿåœ¨ä»£ç ä¸­ä½¿ç”¨ç¼–å†™çš„åº“å‡½æ•°äº†ã€‚ ","date":"2025-06-24","objectID":"/posts/6c7e777/:2:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"åœ¨æŒ‡å®šæºæ–‡ä»¶ä¸­ç”Ÿæˆå®å®šä¹‰\ræœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨ç¼–è¯‘æ—¶æŒ‡å®šä¸€äº›å‚æ•°ï¼Œç”¨æ¥æ§åˆ¶ç¨‹åºçš„è¡Œä¸ºï¼ˆè¿™åœ¨å¤§å‹æ–‡ä»¶ä¸­éå¸¸å¸¸è§ï¼Œæ¯”å¦‚ä¸åŒçš„å¹³å°ä»£ç æœ‰ä¸åŒçš„å¤„ç†é€»è¾‘ï¼‰ã€‚ä¾‹å¦‚åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç¼–è¯‘æ—¶èƒ½å¤ŸæŒ‡å®šç¨‹åºè°ƒç”¨çš„æ˜¯æ ‡å‡†çš„æ•°å­¦åº“è¿˜æ˜¯æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„æ•°å­¦åº“ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨ä¸‹é¢çš„ä¸‰ä¸ªå‘½ä»¤ï¼š ifå‘½ä»¤ï¼Œç”¨äºæ¡ä»¶åˆ¤æ–­ï¼Œè¯­æ³•ä¸ºï¼š if(\u003ccondition\u003e) # æ¡ä»¶ä¸ºçœŸæ—¶æ‰§è¡Œ elseif(\u003ccondition\u003e) # å¯é€‰ï¼šå…¶ä»–æ¡ä»¶ else() # å¯é€‰ï¼šæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³æ—¶æ‰§è¡Œ endif() optionå‘½ä»¤ï¼Œç”¨äºå®šä¹‰å¸ƒå°”å˜é‡ï¼ˆsetå‘½ä»¤å¯ä»¥å®šä¹‰ä»»æ„ç±»å‹çš„å˜é‡ï¼‰ï¼Œè¯­æ³•ä¸ºï¼š option(\u003coption_variable\u003e \"Description text\" \u003cinitial_value\u003e) target_compile_definitionså‘½ä»¤ï¼Œå‘ç›®æ ‡å¯¹åº”çš„æºæ–‡ä»¶æ·»åŠ é¢„å¤„ç†å™¨å®å®šä¹‰ï¼Œè¯­æ³•ä¸ºï¼š target_compile_definitions( \u003ctarget\u003e [PRIVATE|PUBLIC|INTERFACE] \u003cdefinition1\u003e \u003cdefinition2\u003e ... ) é€šè¿‡ä½¿ç”¨ä¸Šé¢çš„ä¸‰ä¸ªå‘½ä»¤å°†é¡¶å±‚CMakeLists.txtæ–‡ä»¶ä¿®æ”¹ä¸ºï¼š cmake_minimum_required(VERSION 3.15) Project( MBFF VERSION 1.0 LANGUAGES CXX ) option(USE_MYMATH \"Use custom math library instead of standard math\" ON) set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_STANDARD_REQUIRED ON) set(CMAKE_CXX_EXTENSIONS OFF) # åªæœ‰å¼€å¯USE_MATHæ—¶æ‰æ·»åŠ æ•°å­¦åº“å­ç›®å½• if(USE_MYMATH) message(STATUS \"Using custom math library\") # message()å‘½ä»¤ç”¨äºè¾“å‡ºä¿¡æ¯ add_subdirectory(Mylibrary) endif() add_executable(MBFF src/main.cpp) if(USE_MYMATH) message(STATUS \"Linking with MathFunctions library\") target_link_libraries(MBFF PRIVATE MathFunctions) target_compile_definitions(MBFF PRIVATE USE_MYMATH) else() message(STATUS \"Using standard math library\") target_link_libraries(MBFF PRIVATE m) endif() ç„¶ååœ¨main.cppä¸­ä½¿ç”¨é¢„å¤„ç†å™¨æŒ‡ä»¤ï¼ˆå³#ifdef USE_MYMATHï¼‰å³å¯å®Œæˆä¸Šé¢æ‰€è¯´çš„åŠŸèƒ½äº†ã€‚ æœ€åä½¿ç”¨ cmake .. -DUSE_MYMATH=OFF ä¸ºCMakeä¼ é€’å‚æ•° ã€‚ ","date":"2025-06-24","objectID":"/posts/6c7e777/:2:1","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"è®¾ç½®ä¸åŒç¼–è¯‘å™¨æ ‡å¿—\råœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨é¡¶å±‚CMakeLists.txtæ–‡ä»¶è®¾å®šäº†é¡¹ç›®çš„å…¨å±€ç¼–è¯‘å™¨æ ‡å‡†(å³C++17)ï¼Œä½†æ˜¯åœ¨å®é™…çš„å¤§å‹é¡¹ç›®ä¸­ï¼Œæå¤§å¯èƒ½æ¯ä¸ªåº“æ‰€ä½¿ç”¨çš„æ ‡å‡†éƒ½ä¸ä¸€æ ·ï¼ˆæœ‰çš„è¦æ±‚C++11ï¼Œæœ‰çš„è¦æ±‚C++14ï¼‰ã€‚è¿™æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥å£°æ˜ç¼–è¯‘ç›®æ ‡æ‰€éœ€çš„è¯­è¨€ç‰¹æ€§ï¼ˆå¦‚ç‰¹å®šçš„C++æ ‡å‡†æˆ–å…³é”®å­—æ”¯æŒï¼‰ï¼š target_compile_features(\u003ctarget\u003e \u003cINTERFACE|PUBLIC|PRIVATE\u003e \u003cfeature\u003e [...]) ä¿®æ”¹Mylibraryç›®å½•ä¸‹çš„CMakeLists.txtæ–‡ä»¶ä¸ºï¼š add_library(MathFunctions src/math.cpp) target_include_directories( MathFunctions PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include ) # è®¾å®šç¼–è¯‘æ ‡å‡† target_compile_features(MathFunctions PRIVATE cxx_std_20) ç„¶åè¿›è¡Œç¼–è¯‘å³å¯ã€‚ å¦‚æœä½ ä½¿ç”¨å‘½ä»¤ cmake --build . --clean-first -- VERBOSE=1æ‰“å°è¯¦ç»†çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œä¼šå‘ç°MathFunctionsåº“çš„ç¼–è¯‘å¹¶æ²¡æœ‰ä½¿ç”¨C++20æ ‡å‡†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºï¼š target_compile_features()å‘½ä»¤ä¸ç›´æ¥è®¾ç½®ç¼–è¯‘å™¨æ ‡å¿—ï¼ˆå¦‚ -std=c++20ï¼‰ï¼Œè€Œæ˜¯è®© CMake ==è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦è¿™äº›ç¼–è¯‘å™¨é€‰é¡¹== ä»¥å¯ç”¨è¿™äº›ç‰¹æ€§ã€‚å³CMake é€šè¿‡æ£€æµ‹ç‰¹æ€§éœ€æ±‚æ¥éšå¼å†³å®šæ˜¯å¦åŠ ä¸Š -std=c++20 ç­‰å‚æ•°ã€‚ æƒ³è¦å¼ºåˆ¶ç¼–è¯‘è¯¥åº“æ—¶ä½¿ç”¨æŸäº›ç¼–è¯‘å™¨é€‰é¡¹æ—¶å¯ä½¿ç”¨ set_target_properties() å‘½ä»¤ ","date":"2025-06-24","objectID":"/posts/6c7e777/:3:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"ç”Ÿæˆå™¨è¡¨è¾¾å¼\rç”Ÿæˆå™¨è¡¨è¾¾å¼ç”¨äºåœ¨ç”Ÿæˆæ„å»ºç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®ä¸åŒä¸Šä¸‹æ–‡ï¼ˆå¦‚æ„å»ºé…ç½®ã€ç›®æ ‡ç±»å‹ã€ç¼–è¯‘å™¨ç­‰ï¼‰åŠ¨æ€åœ°ç”Ÿæˆå†…å®¹ã€‚å…¶åŸºæœ¬è¯­æ³•ä¸ºï¼š $\u003cexpression\u003e è¡¨è¾¾å¼å¯ä»¥æ˜¯æ¡ä»¶åˆ¤æ–­ã€é€»è¾‘æ“ä½œã€è¯­è¨€/ç¼–è¯‘å™¨è¯†åˆ«ã€ç›®æ ‡å±æ€§è·å–ç­‰ã€‚æœ‰äº›è¡¨è¾¾å¼è¿˜æœ‰åµŒå¥—ç»“æ„ï¼Œå¦‚ï¼š$\u003cIF:$\u003cCONFIG:Debug\u003e,ON,OFF\u003e å¸¸è§è¡¨è¾¾å¼ç±»å‹åŠè¯­æ³•è§„åˆ™ä¸ºï¼ˆæ›´å¤šå†…å®¹å¯æŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼‰ï¼š è¡¨è¾¾å¼è¯­æ³• ç±»å‹ è¯´æ˜ $\u003cIF:cond,true_val,false_val\u003e æ¡ä»¶é€‰æ‹© ç±»ä¼¼äºä¸‰ç›®è¿ç®—ç¬¦ $\u003cBOOL:value\u003e å¸ƒå°”åˆ¤æ–­ ON/1 ä¸ºçœŸï¼Œå…¶ä»–ä¸ºå‡ $\u003cCONFIG:cfg\u003e æ„å»ºé…ç½®åˆ¤æ–­ å¦‚ Debugã€Release $\u003cCOMPILE_LANG_AND_ID:lang,id1,...\u003e ç¼–è¯‘å™¨è¯†åˆ« åˆ¤æ–­æ˜¯å¦æ˜¯æŸç±»ç¼–è¯‘å™¨ $\u003cBUILD_INTERFACE:...\u003e æ„å»ºä½œç”¨åŸŸ å½“å‰æ˜¯æ„å»ºè€Œéå®‰è£… $\u003cINSTALL_INTERFACE:...\u003e å®‰è£…ä½œç”¨åŸŸ å½“å‰æ˜¯ install/export å $\u003cTARGET_PROPERTY:target,prop\u003e è·å–ç›®æ ‡å±æ€§ å¦‚ include è·¯å¾„ç­‰ $\u003cJOIN:list,delim\u003e å­—ç¬¦ä¸²æ‹¼æ¥ å°†åˆ—è¡¨åˆå¹¶ä¸ºå­—ç¬¦ä¸² $\u003cREMOVE_DUPLICATES:list\u003e å»é‡åˆ—è¡¨ å»é™¤é‡å¤å…ƒç´  æ¯”å¦‚ï¼Œåœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ ¹æ®æ„å»ºç±»å‹åœ¨main.cppä¸­å¯ç”¨å®å®šä¹‰ä»¥åŠæ ¹æ®ç¼–è¯‘å™¨é€‰æ‹©è­¦å‘Šé€‰é¡¹ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨é¡¶å±‚CMakeLists.txtæ–‡ä»¶ä¸­æ·»åŠ ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼š cmake_minimum_required(VERSION 3.15) Project( MBFF VERSION 1.0 LANGUAGES CXX ) option(USE_MYMATH \"Use custom math library instead of standard math\" ON) set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_STANDARD_REQUIRED ON) set(CMAKE_CXX_EXTENSIONS OFF) if(USE_MYMATH) message(STATUS \"Using custom math library\") add_subdirectory(Mylibrary) endif() add_executable(MBFF src/main.cpp) # æ ¹æ®æ„å»ºç±»å‹å¯ç”¨å®å®šä¹‰ target_compile_definitions(MBFF PRIVATE \"$\u003c$\u003cCONFIG:Debug\u003e:DEBUG_BUILD\u003e\") # æ ¹æ®ç¼–è¯‘å™¨é€‰æ‹©è­¦å‘Šé€‰é¡¹ target_compile_options(MBFF PRIVATE \"$\u003c$\u003cCOMPILE_LANG_AND_ID:CXX,GNU,Clang\u003e:-Wall;-Wextra\u003e\" \"$\u003c$\u003cCOMPILE_LANG_AND_ID:CXX,MSVC\u003e:/W3\u003e\" ) if(USE_MYMATH) message(STATUS \"Linking with MathFunctions library\") target_link_libraries(MBFF PRIVATE MathFunctions) target_compile_definitions(MBFF PRIVATE USE_MYMATH) else() message(STATUS \"Using standard math library\") target_link_libraries(MBFF PRIVATE m) endif() ","date":"2025-06-24","objectID":"/posts/6c7e777/:4:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"å®‰è£…å’Œæµ‹è¯•\r","date":"2025-06-24","objectID":"/posts/6c7e777/:5:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"å®‰è£…\råœ¨è½¯ä»¶å¼€å‘å’Œéƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œä»…æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚é€šè¿‡makeæˆ–ç¼–è¯‘å‘½ä»¤ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼‰é€šå¸¸â€‹â€‹ä¸å¤Ÿâ€‹â€‹ï¼Œè¿˜éœ€è¦é€šè¿‡ç›¸å…³å®‰è£…æ­¥éª¤å®Œæˆéƒ¨ç½²ã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨CMakeLists.txtæ–‡ä»¶ä¸­ç”¨ install() å‘½ä»¤æ¥æŒ‡å®šå®‰è£…æ—¶è¿è¡Œçš„è§„åˆ™ï¼Œè¿™é‡Œæœ‰è¯¥å‘½ä»¤çš„è¯¦ç»†è¯´æ˜ã€‚ åœ¨é¡¶å±‚å’ŒMylibraryç›®å½•ä¸‹çš„CMakeLists.txtæ–‡ä»¶æœ€ååˆ†åˆ«åŠ ä¸Šä¸‹é¢çš„å†…å®¹ï¼š # é¡¶å±‚ CMakeLists.txt # æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶å®‰è£…ç›®å½• install(TARGETS MBFF RUNTIME DESTINATION bin ) # Mylibraryä¸‹çš„CMakeLists.txt # æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶, åŠ¨æ€åº“, é™æ€åº“å®‰è£…ä½ç½® install(TARGETS MathFunctions LIBRARY DESTINATION lib ARCHIVE DESTINATION lib RUNTIME DESTINATION bin ) # æŒ‡å®š å¤´æ–‡ä»¶å®‰è£…ä½ç½® install(FILES include/math.h DESTINATION include ) ç„¶ååœ¨ç¼–è¯‘å®Œæˆåï¼ˆå³æ‰§è¡Œå®Œcmake --build .å‘½ä»¤åï¼‰ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š cmake --install . --prefix ../install --instal: æ‰§è¡Œå®‰è£…æ“ä½œ --prefix: æŒ‡å®šå®‰è£…ç›®å½• ","date":"2025-06-24","objectID":"/posts/6c7e777/:5:1","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"æµ‹è¯•\rCMakeå†…éƒ¨é›†æˆäº†ä¸€ä¸ªæµ‹è¯•ç®¡ç†å·¥å…·CTestï¼Œè¯¥å·¥å…·ç”¨æ¥æµ‹è¯•å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¦‚æœæƒ³è¦æ›´ç»†ç²’åŒ–çš„æµ‹è¯•æ¨èä½¿ç”¨GoogleTestæ¡†æ¶ã€‚ åœ¨é¡¶å±‚CMakeLists.txtæ–‡ä»¶æœ«å°¾æ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼š enable_testing() # å¯åŠ¨æµ‹è¯• add_test(NAME Runs COMMAND MBFF 7) # éªŒè¯ç¨‹åºèƒ½å¦æ­£å¸¸å·¥ä½œ # éªŒè¯ç¨‹åºåŠŸèƒ½æ˜¯å¦æ­£ç¡® add_test(NAME StandardUse COMMAND MBFF 4) set_tests_properties(StandardUse PROPERTIES PASS_REGULAR_EXPRESSION \"4 sqrt is 2\" ) # å®šä¹‰å‚æ•°åŒ–æµ‹è¯•å‡½æ•° function(do_test target arg result) add_test(NAME Comp${arg} COMMAND ${target} ${arg}) set_tests_properties(Comp${arg} PROPERTIES PASS_REGULAR_EXPRESSION \"${result}\" OUTPUT_STRIP_TRAILING_WHITESPACE ON ) endfunction() # è°ƒç”¨æµ‹è¯•å‡½æ•° do_test(MBFF 9 \"9 sqrt is 3\") do_test(MBFF 5 \"5 sqrt is 2\") do_test(MBFF 7 \"7 sqrt is 2\") do_test(MBFF 25 \"25 sqrt is 5\") do_test(MBFF -25 \"-25 sqrt is (nan|-nan|-1)\") do_test(MBFF 0.0001 \"0.0001 sqrt is 0.01\") å…¶ä¸­ï¼š add_test(NAME \u003cName\u003e COMMAND \u003ccommand\u003e)ï¼šå®šä¹‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ set_tests_properties(\u003cname\u003e PROPERTIES ...)ï¼šä¸ºå·²å®šä¹‰çš„æµ‹è¯•ç”¨ä¾‹è®¾ç½®å±æ€§ ç„¶ååœ¨é¡¹ç›®çš„buildç›®å½•ä¸‹æ‰§è¡Œ ctest å‘½ä»¤ï¼Œå³å¯çœ‹åˆ°ä¸‹é¢çš„è¾“å‡ºï¼š Test project /home/xxx/CPlusPlusProject/CMakePractice/build Start 1: Runs 1/8 Test #1: Runs ............................. Passed 0.00 sec Start 2: StandardUse 2/8 Test #2: StandardUse ...................... Passed 0.00 sec Start 3: Comp9 3/8 Test #3: Comp9 ............................ Passed 0.00 sec Start 4: Comp5 4/8 Test #4: Comp5 ............................ Passed 0.00 sec Start 5: Comp7 5/8 Test #5: Comp7 ............................ Passed 0.00 sec Start 6: Comp25 6/8 Test #6: Comp25 ........................... Passed 0.00 sec Start 7: Comp-25 7/8 Test #7: Comp-25 .......................... Passed 0.00 sec Start 8: Comp0.0001 8/8 Test #8: Comp0.0001 ....................... Passed 0.00 sec 100% tests passed, 0 tests failed out of 8 Total Test time (real) = 0.01 sec å¦‚æœä½ çš„é¡¹ç›®æ˜¯è·¨å¹³å°çš„ï¼Œæˆ–æƒ³è¦ç›‘æ§è´¨é‡æŒ‡æ ‡ï¼ˆæ¯”å¦‚è¦†ç›–ç‡ï¼‰ã€å†å²è¿½è¸ªã€å¯è§†åŒ–æµ‹è¯•ç»“æœç­‰åŠŸèƒ½å¯ä»¥ä½¿ç”¨CMakeä¸­çš„ CDash ï¼Œè¯¥ç»„ä»¶çš„è¯¦ç»†è¯´æ˜å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚è¯¥ç»„ä»¶çš„ä½¿ç”¨æ–¹æ³•ç®€å•æ¥è¯´å°±æ˜¯ï¼Œå°†å‰é¢é¡¶å±‚CMakeLists.txtæ–‡ä»¶çš„enable_testing()æ”¹å†™ä¸ºinclude(CTest)ï¼Œç„¶ååœ¨é¡¶å±‚ç›®å½•ä¸‹ç¼–å†™ä¸€ä¸ªCTestConfig.cmakeæ–‡ä»¶ï¼ˆè¯¥æ–‡ä»¶ç”¨æ¥é…ç½®CDashçš„ç›¸å…³ä¿¡æ¯ï¼‰ï¼Œæœ€ååœ¨build/æ‰§è¡Œctest -D Experimentalå‘½ä»¤å³å¯ã€‚ ","date":"2025-06-24","objectID":"/posts/6c7e777/:5:2","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"ç¼–è¯‘ç¯å¢ƒæ¢æµ‹\råœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“é‡åˆ°è·¨å¹³å°ã€éœ€é€‚é…ä¸åŒç¼–è¯‘ç¯å¢ƒçš„åœºæ™¯ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é¡¹ç›®èƒ½å¤Ÿå…¼å®¹å¤šç§ç¯å¢ƒã€åŠ¨æ€è°ƒæ•´ç¼–è¯‘é€»è¾‘ï¼Œcheck_cxx_source_compiles å‘½ä»¤å°±èƒ½æ´¾ä¸Šç”¨åœºäº†ã€‚ åœ¨ä½¿ç”¨è¯¥å‘½ä»¤å‰ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥æ£€æŸ¥æ¨¡å—ï¼š include(CheckCXXSourceCompiles) è¯¥å‘½ä»¤çš„åŸºæœ¬è¯­æ³•ä¸ºï¼š check_cxx_source_compiles(\u003ccode\u003e \u003cresultVar\u003e [FAIL_REGEX \u003cregex1\u003e \u003cregex2\u003e...]) \u003ccode\u003eï¼šå¿…å¡«å‚æ•°ï¼Œæ˜¯è¦æµ‹è¯•çš„ C++ ä»£ç ç‰‡æ®µï¼ˆå­—ç¬¦ä¸²å½¢å¼ï¼‰ï¼Œéœ€èƒ½ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆåŒ…å«Â mainÂ å‡½æ•°ç­‰å®Œæ•´å…¥å£é€»è¾‘ ï¼‰ã€‚ \u003cresultVar\u003eï¼šå¿…å¡«å‚æ•°ï¼Œç”¨äºå­˜å‚¨æ£€æµ‹ç»“æœçš„å˜é‡åã€‚è‹¥ä»£ç ç¼–è¯‘æˆåŠŸï¼Œå˜é‡å€¼ä¸ºÂ TRUEï¼›å¤±è´¥åˆ™ä¸ºÂ FALSEï¼ˆæˆ–ç©ºå€¼ã€é”™è¯¯ä¿¡æ¯ï¼Œä¾åœºæ™¯è€Œå®š ï¼‰ã€‚ [FAIL_REGEX ...]ï¼šå¯é€‰å‚æ•°ï¼Œè‹¥ç¼–è¯‘è¾“å‡ºï¼ˆå¦‚è­¦å‘Šã€é”™è¯¯æ—¥å¿—ï¼‰åŒ¹é…æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼ï¼Œå³ä¾¿ä»£ç ç¼–è¯‘æˆåŠŸï¼Œä¹Ÿåˆ¤å®šä¸º â€œæ£€æµ‹å¤±è´¥â€ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬ä»£ç ä¸­ä½¿ç”¨äº†C++17çš„ç‰¹æ€§std::filesystemå’Œç»“æ„åŒ–ç»‘å®šï¼Œæƒ³è¦ç¡®è®¤ç¼–è¯‘å™¨æ˜¯å¦æ”¯æŒï¼Œå¯ä»¥è¿™æ ·å†™ï¼š include(CheckCXXSourceCompiles) set(CMAKE_REQUIRED_FLAGS \"-std=c++17\") # æŒ‡å®šæµ‹è¯•å‘½ä»¤çš„ç¼–è¯‘ç¯å¢ƒ, ä¸å½±å“é¡¹ç›® # æµ‹è¯•ä»£ç ï¼šä½¿ç”¨ç»“æ„åŒ–ç»‘å®šå’Œ std::filesystem set(TEST_CODE \" #include \u003cfilesystem\u003e #include \u003ctuple\u003e int main() { // ç¤ºä¾‹1ï¼šä» pair ä¸­æå–å€¼ auto [a, b] = std::make_pair(1, 2.5); // ç¤ºä¾‹2ï¼šä» filesystem ä¸­è·å–è·¯å¾„ç»„ä»¶ std::filesystem::path p = \\\"/home/user/example.txt\\\"; auto [root, stem, ext] = std::tuple{ p.root_name(), p.stem(), p.extension() }; return 0; } \") check_cxx_source_compiles(\"${TEST_CODE}\" HAVE_CPP17_STRUCTURED_BINDINGS) unset(CMAKE_REQUIRED_FLAGS) # ç”¨å®Œç«‹å³æ¸…ç†è¯¥å˜é‡ if(HAVE_CPP17_STRUCTURED_BINDINGS) message(STATUS \"ç¼–è¯‘å™¨æ”¯æŒ C++17 ç»“æ„åŒ–ç»‘å®šç‰¹æ€§\") target_compile_features(YourProject PRIVATE cxx_std_17) # å¯ç”¨ C++17 æ ‡å‡† else() message(STATUS \"ç¼–è¯‘å™¨ä¸æ”¯æŒ C++17 ç»“æ„åŒ–ç»‘å®šç‰¹æ€§\") # è¿™é‡Œå¯ä»¥æ·»åŠ é™çº§ç­–ç•¥æˆ–é”™è¯¯å¤„ç† endif() ","date":"2025-06-24","objectID":"/posts/6c7e777/:6:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"æ³¨å…¥è‡ªå®šä¹‰é€»è¾‘\rå½“æˆ‘ä»¬éœ€è¦åœ¨æ„å»ºæ—¶åŠ¨æ€ç”Ÿæˆå¤´æ–‡ä»¶ï¼ˆå¦‚æ•°å­¦è¡¨ã€ç‰ˆæœ¬ä¿¡æ¯ï¼‰ã€é…ç½®æ–‡ä»¶ï¼ˆconfig.hï¼‰ï¼Œæˆ–å¤„ç†éä¼ ç»Ÿæ–‡ä»¶ä¾èµ–æ—¶å°±éœ€è¦åœ¨CMakeä¸­ä½¿ç”¨ add_custom_command å‘½ä»¤åœ¨CMakeæ„å»ºè¿‡ç¨‹ä¸­æ³¨å…¥è‡ªå®šä¹‰é€»è¾‘ã€‚ è¯¥å‘½ä»¤è¯­æ³•å¦‚ä¸‹ï¼š add_custom_command( OUTPUT \u003coutput_files\u003e... # ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶è·¯å¾„ï¼ˆç”¨äºåˆ¤æ–­æ˜¯å¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼‰ COMMAND \u003ccommand\u003e [\u003cargs\u003e...] # è¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆæ”¯æŒå¤šæ¡ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œï¼‰ [MAIN_DEPENDENCY \u003cmain_dep\u003e] # ä¸»ä¾èµ–æ–‡ä»¶ï¼ˆå˜åŒ–æ—¶å¼ºåˆ¶é‡æ–°ç”Ÿæˆè¾“å‡ºï¼‰ [DEPENDS \u003cdeps\u003e...] # é™„åŠ ä¾èµ–ï¼ˆæ–‡ä»¶/ç›®æ ‡å˜åŒ–æ—¶è§¦å‘é‡æ–°æ‰§è¡Œï¼‰ [IMPLICIT_DEPENDS \u003clang\u003e \u003cfile\u003e] # éšå¼ä¾èµ–ï¼ˆå¦‚ C++ è¯­æ³•åˆ†ææ¨å¯¼çš„ä¾èµ–ï¼Œéœ€æŒ‡å®šè¯­è¨€ï¼‰ [WORKING_DIRECTORY \u003cdir\u003e] # å‘½ä»¤æ‰§è¡Œçš„å·¥ä½œç›®å½•ï¼ˆé»˜è®¤å½“å‰æºç›®å½•ï¼‰ [COMMENT \u003cmessage\u003e] # æ‰§è¡Œæ—¶æ˜¾ç¤ºçš„æç¤ºä¿¡æ¯ï¼ˆæ–¹ä¾¿è°ƒè¯•ï¼‰ [VERBATIM] # ä¿ç•™å‘½ä»¤åŸå§‹æ ¼å¼ï¼ˆé¿å…è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚ $ã€# ï¼‰ [USES_TERMINAL] # åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œå‘½ä»¤ï¼ˆWindows ä¸‹é€‚ç”¨ï¼Œä¿è¯è¾“å‡ºå¯è§ ï¼‰ ) ä»¥ä¹‹å‰çš„æ•°å­¦åº“ä»£ç ä¸ºä¾‹ï¼Œæˆ‘ä»¬æƒ³è¦ç”Ÿæˆä¸€ä¸ªé¢„å…ˆè®¡ç®—å€¼è¡¨ï¼Œä»¥ä¾¿è‡ªå®šä¹‰çš„sqrtå‡½æ•°ä½¿ç”¨ï¼ŒåŠ å¿«è®¡ç®—é€Ÿåº¦ã€‚ åœ¨è‡ªå®šä¹‰åº“ç›®å½•ä¸‹å…ˆåˆ›å»ºç”Ÿæˆè®¡ç®—å€¼è¡¨çš„ä»£ç maketable.cppï¼š #include \u003ccmath\u003e #include \u003cfstream\u003e #include \u003ciostream\u003e int main(int argc, char* argv[]) { if (argc != 2) { std::cerr \u003c\u003c \"Error: You need to specify an output file name as a parameter\" \u003c\u003c std::endl; std::cerr \u003c\u003c \"Usge: \" \u003c\u003c argv[0] \u003c\u003c \" \u003cOutputFile\u003e\" \u003c\u003c std::endl; return 1; } std::ofstream fout(argv[1]); if (!fout) { std::cerr \u003c\u003c \"Error: Unable to open output file: \" \u003c\u003c argv[1] \u003c\u003c std::endl; return 1; } // ç”Ÿæˆå¹³æ–¹æ ¹è¡¨ fout \u003c\u003c \"#ifndef SQRT_TABLE_H\\n\" \u003c\u003c \"#define SQRT_TABLE_H\\n\\n\" \u003c\u003c \"static constexpr double sqrtTable[10] = {\\n\" \u003c\u003c \" 0.0, // ç´¢å¼• 0 æœªä½¿ç”¨\\n\"; for (int i = 1; i \u003c= 9; ++i) { fout \u003c\u003c \" \" \u003c\u003c std::sqrt(i) \u003c\u003c \", // sqrt(\" \u003c\u003c i \u003c\u003c \")\\n\"; } fout \u003c\u003c \"};\\n\\n\" \u003c\u003c \"#endif // SQRT_TABLE_H\\n\"; std::cout \u003c\u003c \"å·²ç”Ÿæˆ \" \u003c\u003c argv[1] \u003c\u003c std::endl; return 0; } åŒæ—¶ï¼Œåœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„MakeTable.cmakeæ–‡ä»¶ï¼š add_executable(MakeTable src/maketable.cpp) # å®šä¹‰ç”Ÿæˆ Table.h çš„è‡ªå®šä¹‰å‘½ä»¤ add_custom_command( OUTPUT ${CMAKE_CURRENT_BINARY_DIR}/table.h COMMAND MakeTable ${CMAKE_CURRENT_BINARY_DIR}/table.h DEPENDS MakeTable # ä¾èµ– MakeTable å¯æ‰§è¡Œæ–‡ä»¶ COMMENT \"Generating sqrt table (Table.h)\" # æ„å»ºæ—¶æ˜¾ç¤ºçš„ä¿¡æ¯ ) å†ä¿®æ”¹è‡ªå®šä¹‰åº“ä¸‹çš„CMakeLists.txtæ–‡ä»¶ï¼š include(MakeTable.cmake) # åŒ…å«é…ç½®æ–‡ä»¶ add_library(MathFunctions STATIC src/math.cpp ${CMAKE_CURRENT_BINARY_DIR}/table.h # æ·»åŠ ä¾èµ– ) target_include_directories( MathFunctions PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/include PRIVATE ${CMAKE_CURRENT_BINARY_DIR} #æ·»åŠ ç”Ÿæˆçš„å¤´æ–‡ä»¶ç›®å½• ) install(TARGETS MathFunctions LIBRARY DESTINATION lib ARCHIVE DESTINATION lib RUNTIME DESTINATION bin ) install(FILES include/math.h DESTINATION include ) ","date":"2025-06-24","objectID":"/posts/6c7e777/:7:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"æ‰“åŒ…åˆ†å‘\rå½“æœ‰å°†é¡¹ç›®æ‰“åŒ…æˆå¯åˆ†å‘çš„å®‰è£…åŒ…ï¼ˆäºŒè¿›åˆ¶åŒ…ã€æºç åŒ…ï¼‰çš„éœ€è¦æ—¶ï¼Œå¯ä»¥ä½¿ç”¨CPackå·¥å…·æ¥å®ç°ã€‚ è¯¥å·¥å…·å¯ä»¥æ‰“åŒ…çš„ç±»å‹ä¸ºï¼š äºŒè¿›åˆ¶åŒ…ï¼ˆBinary Packageï¼‰ï¼š åŒ…å«å·²ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶ã€åº“æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ç­‰ï¼Œç”¨æˆ·æ‹¿åˆ°åæ— éœ€ç¼–è¯‘å³å¯ç›´æ¥è¿è¡Œã€‚ å¸¸è§æ ¼å¼ï¼š.tar.gzï¼ˆLinuxï¼‰ã€.debï¼ˆDebian/Ubuntuï¼‰ã€.rpmï¼ˆRedHat/CentOSï¼‰ã€.msiï¼ˆWindowsï¼‰ã€‚ æºç åŒ…ï¼ˆSource Packageï¼‰ï¼š åŒ…å«é¡¹ç›®çš„æ‰€æœ‰æºæ–‡ä»¶ï¼ˆ.cppã€.hã€CMakeLists.txt ç­‰ï¼‰ï¼Œç”¨æˆ·éœ€è¦è‡ªè¡Œç¼–è¯‘æ‰èƒ½ä½¿ç”¨ã€‚ å¸¸è§æ ¼å¼ï¼š.tar.gzã€.zipã€‚ CPacké€šå¸¸å†™åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„CMakeLists.txtä¸­ï¼Œè¯¥å·¥å…·åŸºäºinstall()å‘½ä»¤çš„è§„åˆ™æ¥è¿›è¡Œæ‰“åŒ…ã€‚ è¯¥å·¥å…·çš„ä½¿ç”¨æ–¹æ³•å¯å‚è€ƒé“¾æ¥1ï¼Œé“¾æ¥2ã€‚ åœ¨è¿›è¡Œè·¨å¹³å°ç¼–è¯‘æ—¶ï¼Œéœ€è¦æ³¨æ„ Windows ä¸ Linux/macOS åœ¨åŠ¨æ€åº“å®ç°ä¸Šæœ‰ä¸€ä¸ªå…³é”®å·®å¼‚ï¼š Windowsï¼šåŠ¨æ€åº“ï¼ˆDLLï¼‰é»˜è®¤éšè—æ‰€æœ‰å‡½æ•°å’Œç±»ï¼Œå¿…é¡»æ˜¾å¼ä½¿ç”¨Â __declspec(dllexport)Â æ ‡è®°æ‰èƒ½è¢«å¤–éƒ¨è®¿é—® Linux/macOSï¼šåŠ¨æ€åº“ï¼ˆ.so/.dylibï¼‰é»˜è®¤å…¬å¼€æ‰€æœ‰å‡½æ•°å’Œç±»ï¼Œåªæœ‰ä½¿ç”¨Â __attribute__((visibility(\"hidden\")))Â æ‰èƒ½éšè— è¿™ä¸ªå·®å¼‚å¯¼è‡´ï¼š åœ¨ Windows ä¸Šå¼€å‘åŠ¨æ€åº“æ—¶ï¼Œå¿…é¡»ä¸ºæ¯ä¸ªè¦å…¬å¼€çš„å‡½æ•° / ç±»æ·»åŠ å¯¼å‡ºæ ‡è®° ä¸ºäº†è®©åŒä¸€ä¸ªå¤´æ–‡ä»¶æ—¢èƒ½ç”¨äºç¼–è¯‘åº“æœ¬èº«ï¼ˆå¯¼å‡ºï¼‰ï¼Œåˆèƒ½ç”¨äºå…¶ä»–é¡¹ç›®ä½¿ç”¨è¿™ä¸ªåº“ï¼ˆå¯¼å…¥ï¼‰ï¼Œå°±éœ€è¦è¿™ç§æ¡ä»¶ç¼–è¯‘æœºåˆ¶ è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨CMakeæä¾›çš„ GenerateExportHeaderÂ æ¨¡å—æ¥è‡ªåŠ¨å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚ æ­¤å¤–ï¼Œä¸ºäº†æ–¹ä¾¿åˆ«äººfind_package()è‡ªå·±çš„åº“ï¼Œåœ¨å¯¼å‡ºæ—¶æˆ‘éœ€è¦æ·»åŠ å¯¼å‡ºé…ç½®ï¼Œå…·ä½“æ“ä½œå‚è€ƒæ­¤é“¾æ¥ã€‚ ","date":"2025-06-24","objectID":"/posts/6c7e777/:8:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["CMake"],"content":"å‚è€ƒèµ„æ–™\rCMakeå®˜æ–¹æ•™ç¨‹ ","date":"2025-06-24","objectID":"/posts/6c7e777/:9:0","tags":["ç¬”è®°"],"title":"Cmakeå­¦ä¹ ç¬”è®°","uri":"/posts/6c7e777/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-05-04","objectID":"/posts/84d7cc5/:1:0","tags":["æ ˆ","LeetCodeHot100"],"title":"394. å­—ç¬¦ä¸²è§£ç ","uri":"/posts/84d7cc5/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rè¯¥é¢˜å°±æ˜¯ç»™å®šä¸€ä¸ªç¼–ç åçš„å­—ç¬¦ä¸²ï¼Œç„¶åè¿”å›è§£ç åçš„å­—ç¬¦ä¸²ã€‚ ç”±é¢˜å¯çŸ¥è¦å¤„ç†åµŒå¥—çš„æƒ…å†µï¼Œå³è¦å…ˆè§£å†³å†…å±‚çš„$k[encoded_string]$ï¼Œå†è§£å†³å¤–å±‚ï¼Œå³åè¿›å…ˆå‡ºï¼Œå¾ˆé€‚åˆç”¨æ ˆæ¥è§£å†³ã€‚è€Œä¸”å…¶ç»“æ„ä¸º$k[encoded_string]$ï¼Œå¾ˆé€‚åˆç”¨åŒæ ˆæ¥è§£å†³ï¼Œä¸€ä¸ªä¸ºæ•°å­—æ ˆç”¨æ¥å­˜å‚¨é‡å¤å‡ æ¬¡ï¼Œä¸€ä¸ªä¸ºå­—ç¬¦ä¸²æ ˆç”¨æ¥å­˜å‚¨æ¯ä¸€å±‚è¿›å…¥ $[$ æ—¶ï¼Œä¹‹å‰æ„é€ çš„å­—ç¬¦ä¸²ã€‚ ","date":"2025-05-04","objectID":"/posts/84d7cc5/:2:0","tags":["æ ˆ","LeetCodeHot100"],"title":"394. å­—ç¬¦ä¸²è§£ç ","uri":"/posts/84d7cc5/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: string decodeString(string s) { string cur_str, pre_str, temp; stack\u003cint\u003e s_n; // æ•°å­—æ ˆï¼Œå­˜å‚¨é‡å¤å‡ æ¬¡ stack\u003cstring\u003e s_s; // å­—ç¬¦ä¸²æ ˆï¼Œå­˜å‚¨å‰é¢çš„å­—ç¬¦ä¸² for (size_t i = 0; i \u003c s.size(); ++i) { if (s[i] \u003e= 'a' \u0026\u0026 s[i] \u003c= 'z') { cur_str += s[i]; } else { // å¤„ç†å½“å‰å±‚ if (s[i] == ']') { pre_str = s_s.top(); s_s.pop(); int repeatTimes = s_n.top(); s_n.pop(); temp.clear(); for (int i = 0; i \u003c repeatTimes; ++i) { temp += cur_str; } cur_str = pre_str + temp; // æ„é€ å½“å‰å¤„ç†å®Œçš„å­—ç¬¦ä¸² } else { // æ•°å­— int t_num = 0; while (s[i] != '[') { t_num = t_num * 10 + (s[i] - '0'); ++i; } s_n.push(t_num); s_s.push(cur_str); cur_str.clear(); } } } return cur_str; } }; ","date":"2025-05-04","objectID":"/posts/84d7cc5/:3:0","tags":["æ ˆ","LeetCodeHot100"],"title":"394. å­—ç¬¦ä¸²è§£ç ","uri":"/posts/84d7cc5/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-04-28","objectID":"/posts/6567d9a/:1:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°","uri":"/posts/6567d9a/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\ræš´åŠ›æ³•ï¼Œå…ˆè®¡ç®—å‡ºä¸­ä½æ•°æ˜¯ç¬¬å‡ ä¸ªå…ƒç´ ï¼Œç„¶åä½¿ç”¨åŒæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªæ•°ç»„çš„å¼€å¤´å…ƒç´ ï¼Œç„¶åä¸æ–­å°†æŒ‡å‘è¾ƒå°å…ƒç´ çš„æŒ‡é’ˆå¾€åç§»ï¼Œç›´åˆ°ç§»åˆ°ä¸­ä½æ•°å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(m + n)$ï¼Œä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚ è¿›ä¸€æ­¥æ€è€ƒä¸­ä½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä¸­ä½æ•°çš„ä½œç”¨å°±æ˜¯: å°†ä¸€ä¸ªé›†åˆåˆ’åˆ†ä¸ºä¸¤ä¸ªç­‰é•¿çš„å­é›†ï¼Œä¸”å…¶ä¸­ä¸€ä¸ªå­é›†çš„å…ƒç´ æ€»æ˜¯å°äºå¦ä¸€ä¸ªå­é›†çš„å…ƒç´ ã€‚ æ‰€ä»¥ï¼Œå¯¹äºè¿™é“é¢˜æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦åˆ†åˆ«åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸€æ¡åˆ†å‰²çº¿ï¼Œä½¿å¾—è¿™ä¸¤æ¡åˆ†å‰²çº¿å·¦è¾¹çš„å…ƒç´ ä¸ªæ•°ç­‰äºå³è¾¹çš„å…ƒç´ ä¸ªæ•°ï¼Œä¸”å·¦è¾¹é›†åˆçš„æœ€å¤§å€¼å°äºç­‰äºå³è¾¹é›†åˆçš„æœ€å°å€¼ã€‚ åˆ‡å‰²å¥½åï¼Œå¦‚æœä¸¤æ•°ç»„é•¿åº¦å’Œä¸ºå¶æ•°ï¼Œé‚£ä¹ˆä¸­ä½æ•°ä¸ºï¼š $$ median = \\frac{max(left\\_part) + min(right\\_part)}{2} $$ é•¿åº¦å’Œä¸ºå¥‡æ•°ï¼ˆä¸ºäº†ä¾¿äºå¤„ç†ï¼Œæˆ‘ä»¬å°†ä¸­ä½æ•°åˆ’åˆ†ç»™å·¦è¾¹éƒ¨åˆ†ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åˆ’åˆ†ç»™å³è¾¹éƒ¨åˆ†ï¼‰ï¼Œé‚£ä¹ˆä¸­ä½æ•°ä¸ºï¼š $$ median = max(left\\_part) $$ ç¡®å®šå¥½æ€ä¹ˆè®¡ç®—ä¸­ä½æ•°åï¼Œæˆ‘ä»¬åªéœ€è¦è€ƒè™‘æ€ä¹ˆå»å¯»æ‰¾è¿™ä¸¤æ¡åˆ‡å‰²çº¿äº†ã€‚é¦–å…ˆï¼Œè®¾æ•°ç»„Açš„åˆ†å‰²çº¿ä½ç½®ä¸º$i$ï¼Œæ•°ç»„Bçš„åˆ†å‰²çº¿ä½ç½®ä¸º$j$ï¼ˆå³æ•°ç»„Aä¸­ä¸‹æ ‡ä¸º$[0, i)$çš„å…ƒç´ å±äºå…¶å·¦éƒ¨åˆ†ï¼Œ$[i, lenA)$å±äºå…¶å³éƒ¨åˆ†ï¼Œæ•°ç»„BåŒç†ï¼‰ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æå¯çŸ¥ï¼š $$ \\begin{cases} i + j = m - i + n - j \u0026 \\text{å½“ } m+n \\text{ ä¸ºå¶æ•°} \\\\ i + j = m - i + n - j + 1 \u0026 \\text{å½“ } m+n \\text{ ä¸ºå¥‡æ•°} \\end{cases} \\Rightarrow \\begin{cases} i + j = \\frac{m + n}{2} \u0026 \\text{å½“ } m+n \\text{ ä¸ºå¶æ•°} \\\\ i + j = \\frac{m + n + 1}{2} \u0026 \\text{å½“ } m+n \\text{ ä¸ºå¥‡æ•°} \\end{cases} $$ åˆ$m$å’Œ$n$å‡æ˜¯æ•´æ•°ï¼Œç”±æ•´é™¤å¯çŸ¥ $\\frac{m + n}{2} = \\frac{m + n + 1}{2}$ï¼Œæ•…$i + j = \\frac{m + n + 1}{2}$ã€‚åªè¦æˆ‘ä»¬ç¡®å®šäº†$i$å€¼å°±èƒ½ç¡®å®š$j$å€¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å½“æ•°ç»„Açš„é•¿åº¦å¤§äºæ•°ç»„Bçš„é•¿åº¦ï¼ˆå³$m \u003e n$ï¼‰æ—¶ï¼Œ$j$å¯èƒ½ä¸æ˜¯æœ‰æ•ˆå€¼ã€‚æ‰€ä»¥ï¼Œå½“$m \u003e n$æ—¶ï¼Œæˆ‘ä»¬éœ€è¦äº¤æ¢ä¸¤ä¸ªæ•°ç»„æ¥ç¡®ä¿$j$çš„å–å€¼ä¸€å®šæ˜¯æœ‰æ•ˆçš„ï¼ˆå¯é€šè¿‡æ•°å­¦æ”¾ç¼©æ³•æ¥è¯æ˜$j$ä¸€å®šåœ¨$[0, n]$å†…ï¼‰ã€‚ è¿™é“é¢˜æ—¶é—´å¤æ‚åº¦è¦æ±‚ä¸º$O(log(m+n))$ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€åœ¨æ•°ç»„Aä¸Šé€šè¿‡äºŒåˆ†æ³•æ‰¾åˆ°$i$çš„ä½ç½®ï¼Œå°±èƒ½ç¡®å®š$j$çš„ä½ç½®ï¼Œä»è€Œè§£å†³è¿™é“é¢˜ã€‚å› ä¸ºæˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„å…¬å¼å·²ç»ç¡®ä¿äº†$left\\_part = right\\_part$ï¼ˆ$left\\_part = left\\_A + left\\_B$ï¼‰ï¼Œæ¥ä¸‹æ¥åªéœ€è¦ä½¿ç”¨äºŒåˆ†æ³•ä¸æ–­ç§»åŠ¨$i$ï¼Œä½¿å¾—ä¸‹é¢çš„ä¸ç­‰å¼æˆç«‹å³å¯ï¼š $$ \\begin{cases} max(left_A) \\le min(right_B) \\\\ max(left_B) \\le min(right_A) \\end{cases} \\Rightarrow max(left_part) \\le min(right_part) $$ ","date":"2025-04-28","objectID":"/posts/6567d9a/:2:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°","uri":"/posts/6567d9a/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: double findMedianSortedArrays(vector\u003cint\u003e\u0026 nums1, vector\u003cint\u003e\u0026 nums2) { int m = nums1.size(); int n = nums2.size(); if (m \u003e n) { // ç¡®ä¿jä¸ä¼šè¶Šç•Œ return findMedianSortedArrays(nums2, nums1); } // æ³¨æ„è¿™é‡Œçš„ right ä¸èƒ½ä¸ºnums1.size() - 1 // å› ä¸º leftå’Œrightè¡¨ç¤ºçš„æ˜¯içš„å–å€¼èŒƒå›´, iæœ€å¤§æ˜¯èƒ½å–åˆ°nums1.size()çš„ int left = 0, right = nums1.size(); int i, j, A_left_max, A_right_min, B_left_max, B_right_min; // äºŒåˆ†æ³•æŸ¥æ‰¾içš„ä½ç½® while (left \u003c= right) { i = ((right - left) \u003e\u003e 1) + left; j = (m + n + 1) / 2 - i; // è®°å¾—å¤„ç†ç‰¹æ®Šæƒ…å†µ, å³åˆ¤æ–­åˆ†å‰²çº¿å·¦å³ä¸¤è¾¹æ˜¯å¦å­˜åœ¨å…ƒç´  A_left_max = (i == 0) ? INT_MIN : nums1[i - 1]; A_right_min = (i == m) ? INT_MAX : nums1[i]; B_left_max = (j == 0) ? INT_MIN : nums2[j - 1]; B_right_min = (j == n) ? INT_MAX : nums2[j]; // åˆ¤æ–­æ˜¯å¦æ»¡è¶³ left_part \u003c= right_part if (A_left_max \u003c= B_right_min \u0026\u0026 B_left_max \u003c= A_right_min) { if ((m + n) % 2 == 0) { // å¶æ•° return (max(A_left_max, B_left_max) + min(A_right_min, B_right_min)) / 2.0; } else { // å¥‡æ•° return max(A_left_max, B_left_max); } } else { if (A_left_max \u003e B_right_min) { right = i - 1; } else { left = i + 1; } } } // ä¸ä¼šèµ°åˆ°è¿™ä¸€æ­¥ return 0.0; } }; ","date":"2025-04-28","objectID":"/posts/6567d9a/:3:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°","uri":"/posts/6567d9a/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-04-25","objectID":"/posts/8c42677/:1:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„","uri":"/posts/8c42677/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\ræœ€å¼€å§‹æƒ³çš„æ˜¯å…ˆé€šè¿‡äºŒåˆ†æ¥æ‰¾åˆ°æœ€å¤§å€¼ä½ç½®ï¼Œç¡®å®š$right$å’Œ$left$çš„å€¼ï¼Œå†ä½¿ç”¨ä¸€æ¬¡äºŒåˆ†æ¥è¿›è¡ŒæŸ¥è¯¢ã€‚ä½†ä»”ç»†è§‚å¯Ÿé¢˜ç›®å‘ç°åªéœ€è¿›è¡Œä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ç®—æ³•å°±å¯ä»¥è§£å†³é—®é¢˜äº†ï¼Œå› ä¸º ã€Œè¯¥æ—‹è½¬åçš„æ•°ç»„ä»ä¸­é—´åˆ†å¼€åï¼Œå·¦å³éƒ¨åˆ†ä¸­å¿…å®šæœ‰ä¸€ä¸ªéƒ¨åˆ†æ˜¯æœ‰åºçš„ã€ã€‚ é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©è¿™ä¸ªæœ‰åºæ•°ç»„æ¥ç›´æ¥è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œé‡‡ç”¨ä¸‹é¢çš„æ–¹å¼æ¥æ›´æ–°$left$å’Œ$right$çš„å€¼ï¼š å·¦è¾¹éƒ¨åˆ†æœ‰åº targetåœ¨è¿™ä¸ªæœ‰åºåŒºé—´å†…ï¼Œåˆ™å¯ä»¥ç›´æ¥æŠ›å¼ƒå³è¾¹éƒ¨åˆ†ã€‚åä¹‹ï¼ŒæŠ›å¼ƒå·¦è¾¹éƒ¨åˆ†ã€‚ å³è¾¹éƒ¨åˆ†æœ‰åº targetåœ¨è¿™ä¸ªæœ‰åºåŒºé—´å†…ï¼Œåˆ™å¯ä»¥ç›´æ¥æŠ›å¼ƒå·¦è¾¹éƒ¨åˆ†ã€‚åä¹‹ï¼ŒæŠ›å¼ƒå³è¾¹éƒ¨åˆ†ã€‚ ","date":"2025-04-25","objectID":"/posts/8c42677/:2:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„","uri":"/posts/8c42677/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: int search(vector\u003cint\u003e\u0026 nums, int target) { int mid, left = 0; int right = nums.size() - 1; while (left \u003c= right) { mid = ((right - left) \u003e\u003e 1) + left; if (target == nums[mid]) { return mid; } // åˆ¤æ–­å·¦è¾¹æ˜¯å¦æœ‰åº, è¿™é‡Œæ˜¯ \u003c= æ˜¯ä¸ºäº†å¤„ç†å·¦è¾¹åªæœ‰ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µ if (nums[left] \u003c= nums[mid]) { // å·¦è¾¹æœ‰åº if (nums[left] \u003c= target \u0026\u0026 nums[mid] \u003e target) { // åœ¨åŒºé—´å†… right = mid - 1; } else { left = mid + 1; } } else { // å³è¾¹æœ‰åº if (nums[mid] \u003c target \u0026\u0026 target \u003c= nums[right]) { // åœ¨åŒºé—´å†… left = mid + 1; } else { right = mid - 1; } } } return -1; } }; ","date":"2025-04-25","objectID":"/posts/8c42677/:3:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„","uri":"/posts/8c42677/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-04-20","objectID":"/posts/04fa0b3/:1:0","tags":["å›æº¯","å­—ç¬¦ä¸²","åŠ¨æ€è§„åˆ’","LeetCodeHot100"],"title":"131. åˆ†å‰²å›æ–‡ä¸²","uri":"/posts/04fa0b3/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rè¿™é“é¢˜æŒºç®€å•çš„ï¼Œä½†æ˜¯ä¸€å¼€å§‹æƒ³å¤æ‚äº†ï¼Œæ•…åœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚ é¢˜ç›®çš„æ„æ€å°±æ˜¯å°†å­—ç¬¦ä¸²$s$è¿›è¡Œåˆ†å‰²ï¼Œä¸”åˆ†å‰²å‡ºæ¥çš„æ¯ä¸€ä¸ªå­ä¸²éƒ½å¿…é¡»æ—¶å›æ–‡ä¸²ã€‚æœ€ç®€å•æœ‰æ•ˆçš„æ€è·¯å°±æ˜¯ä¾æ¬¡åˆ†å‰²ï¼Œå…ˆåˆ†å‰²å‡ºç¬¬ä¸€ä¸ªå­ä¸²ï¼Œåœ¨æœªåˆ†å‰²çš„å­ä¸²ä¸­å†åˆ†å‰²å‡ºç¬¬äºŒä¸ªå­ä¸²ï¼Œâ€¦â€¦ï¼Œä¾æ¬¡è¿™æ ·ä¸‹å»ï¼Œç›´åˆ°ä¸å­˜åœ¨æœªåˆ†å‰²çš„å­ä¸²ã€‚è€Œå¯¹äºæ¯ä¸ªè¦åˆ†å‰²å‡ºæ¥çš„å­ä¸²æˆ‘ä»¬éƒ½éœ€è¦éå†å…¶å…¨éƒ¨å½¢å¼ã€‚ å…·ä½“æ¥è¯´ï¼Œè®¾$s = â€œabcdeâ€$ï¼Œé‚£ä¹ˆåˆ†å‰²å‡ºæ¥çš„ç¬¬ä¸€ä¸ªå­ä¸²çš„å½¢å¼æœ‰$a, ab, abc, abcd, abcde$ï¼Œå…¶å¯¹åº”çš„æœªåˆ†å‰²å­ä¸²ä¾æ¬¡ä¸º$bcde, cde, de, e, null$ã€‚æ‰€ä»¥ï¼Œç›´æ¥é‡‡ç”¨å›æº¯æ³•æ¥åšï¼Œç›´æ¥çœ‹ä»£ç ã€‚ PS: ä»”ç»†æ€è€ƒä¼šå‘ç°å­˜åœ¨å¤§é‡çš„å­—ç¬¦ä¸²è¢«åå¤åˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œæ•…å¯ä»¥é‡‡ç”¨åŠ¨æ€åˆ’è§„ï¼ˆ$dp[i][j]$ è¡¨ç¤º$s[i]$~ $s[j]$ç»„æˆçš„å­ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼‰æ¥æå‰è®°å½•æ¯ä¸ªå­ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼ŒåŠ é€Ÿè¿è¡Œé€Ÿåº¦ã€‚è¿™é‡Œå°±ä¸ç»™å‡ºå…·ä½“ä»£ç äº†ï¼Œè¯·è¯»è€…è‡ªè¡Œç¼–å†™ã€‚ ","date":"2025-04-20","objectID":"/posts/04fa0b3/:2:0","tags":["å›æº¯","å­—ç¬¦ä¸²","åŠ¨æ€è§„åˆ’","LeetCodeHot100"],"title":"131. åˆ†å‰²å›æ–‡ä¸²","uri":"/posts/04fa0b3/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: vector\u003cvector\u003cstring\u003e\u003e ans; vector\u003cstring\u003e output; string str; bool judge(const string\u0026 s) { int f = 0, b = s.size() - 1; while (f \u003c= b) { if (s[f] == s[b]) { ++f; --b; } else { return false; } } return true; } void backtrace(const string\u0026 s, size_t start_i) { // åˆ¤æ–­æ˜¯å¦å·²ç»å°†såˆ’åˆ†å®Œ if (start_i == s.size()) { ans.emplace_back(output); return; } // éå†å½“å‰æœªåˆ’åˆ†å­ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå­ä¸² for (size_t i = start_i; i \u003c s.size(); ++i) { str = s.substr(start_i, i - start_i + 1); if (judge(str)) { // å½“stræ˜¯å›æ–‡æ—¶æ‰å»åˆ’åˆ†ä¸‹ä¸€ä¸ªå­ä¸² output.emplace_back(str); // å¤„ç†å‰©ä¸‹æœªè¢«åˆ’åˆ†çš„å­ä¸² backtrace(s, i + 1); output.pop_back(); // å›é€€ } } } vector\u003cvector\u003cstring\u003e\u003e partition(string s) { ans.clear(); output.clear(); backtrace(s, 0); return ans; } }; ","date":"2025-04-20","objectID":"/posts/04fa0b3/:3:0","tags":["å›æº¯","å­—ç¬¦ä¸²","åŠ¨æ€è§„åˆ’","LeetCodeHot100"],"title":"131. åˆ†å‰²å›æ–‡ä¸²","uri":"/posts/04fa0b3/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-04-15","objectID":"/posts/d9778bc/:1:0","tags":["æ•°ç»„","å›æº¯","LeetCodeHot100"],"title":"46. å…¨æ’åˆ—","uri":"/posts/d9778bc/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\råšè¿™é“é¢˜é¦–å…ˆè¦çŸ¥é“ä»€ä¹ˆæ˜¯å›æº¯æ³•ã€‚ è®¾æ•°ç»„å¤§å°ä¸º$n$ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥è§†ä¸ºæœ‰$n$ä¸ªæ’æˆä¸€è¡Œçš„ç©ºæ ¼ï¼Œä¾æ¬¡ä¸ºæ¯ä¸ªä½ç½®é€‰æ‹©ä¸€ä¸ªæœªè¢«é€‰çš„æ•°æ¥å¡«å……ã€‚é‚£ä¹ˆå¯ä»¥ç›´æ¥æƒ³åˆ°ä¸€ç§ç©·ä¸¾æ³•ï¼Œå°±æ˜¯ä»å·¦å¾€å³ä¾æ¬¡å¾€ç©ºæ ¼ä¸­å¡«å…¥æ•°å­—ï¼Œå…¨éƒ¨ç©ºæ ¼å¡«å®Œå°±æ˜¯ä¸€ç§ç­”æ¡ˆã€‚è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å›æº¯æ³•æ¥å®Œæˆè¿™ä¸€è¿‡ç¨‹ã€‚ ","date":"2025-04-15","objectID":"/posts/d9778bc/:2:0","tags":["æ•°ç»„","å›æº¯","LeetCodeHot100"],"title":"46. å…¨æ’åˆ—","uri":"/posts/d9778bc/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: vector\u003cvector\u003cint\u003e\u003e ans; vector\u003cint\u003e output; // å­˜å‚¨å½“å‰çš„ç»„åˆ void backtrace(vector\u003cint\u003e\u0026 nums, vector\u003cbool\u003e\u0026 used) { // åˆ¤æ–­æ˜¯å¦å·²ç»ç»„åˆå®Œæ¯• if (output.size() == nums.size()) { ans.emplace_back(output); return; } // ä¾æ¬¡å°†æ¯ä¸ªå…ƒç´ æ”¾åˆ°å½“å‰ä½ç½® for (size_t i = 0; i \u003c nums.size(); ++i) { if (used[i]) { continue; } used[i] = true; // æ ‡è®°è¯¥å…ƒç´ è¢«é€‰ output.push_back(nums[i]); // æ”¾åˆ°å½“å‰ä½ç½® backtrace(nums, used); // é€’å½’, å»é€‰æ‹©ä¸‹ä¸€ä¸ªä½ç½®çš„å…ƒç´  output.pop_back(); // å›é€€ used[i] = false; } } vector\u003cvector\u003cint\u003e\u003e permute(vector\u003cint\u003e\u0026 nums) { vector\u003cbool\u003e used(nums.size(), false); // ç”¨äºåˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦å·²ç»è¢«ä½¿ç”¨äº† backtrace(nums, used); return ans; } }; ","date":"2025-04-15","objectID":"/posts/d9778bc/:3:0","tags":["æ•°ç»„","å›æº¯","LeetCodeHot100"],"title":"46. å…¨æ’åˆ—","uri":"/posts/d9778bc/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-04-09","objectID":"/posts/b353bab/:1:0","tags":["äºŒå‰æ ‘","ååºéå†","LeetCodeHot100"],"title":"124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ","uri":"/posts/b353bab/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rè¯»å®Œé¢˜åå‘ç°ï¼šæ‰€è°“çš„è·¯å¾„å°±æ˜¯æŒ‡ä»¥æŸä¸€ä¸ªç»“ç‚¹ä¸ºæ ¹ï¼Œå¾€å·¦å’Œå³å„èµ°ä¸€è¾¹ï¼Œè·¯å¾„å’Œå°±æ˜¯è¿™æ¡è·¯å¾„ä¸Šçš„ç»“ç‚¹å€¼ä¹‹å’Œã€‚è¦å¯»æ‰¾æœ€å¤§è·¯å¾„å’Œå°±éœ€è¦è®¡ç®—æ¯ä¸ªç»“ç‚¹ä¸ºæ ¹æ—¶çš„è·¯å¾„å’Œï¼Œé€‰å–å…¶ä¸­çš„æœ€å¤§å€¼ï¼Œè¿™å°±éœ€è¦éå†ï¼Œè€Œä¸”å¾ˆæ˜æ˜¾åº”è¯¥ä½¿ç”¨ååºéå†æ¥å¤„ç†ï¼Œå› ä¸ºåªæœ‰å½“èŠ‚ç‚¹çš„å·¦å³å­æ ‘éƒ½å¤„ç†å®Œäº†ï¼Œæˆ‘ä»¬æ‰èƒ½è®¡ç®—ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹çš„æœ€å¤§è·¯å¾„å’Œæ˜¯å¤šå°‘ï¼Œå³ï¼š $$ ä»¥å½“å‰ç»“ç‚¹ä¸ºæ ¹çš„æœ€å¤§è·¯å¾„å’Œ = å½“å‰ç»“ç‚¹å€¼ + å·¦è¾¹çš„è´¡çŒ® + å³è¾¹çš„è´¡çŒ® $$ é‚£ä¹ˆå·¦å³è´¡çŒ®æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæƒ³ä¸€æƒ³å¤„ç†å®Œä¸€ä¸ªç»“ç‚¹ï¼Œè¦å‘å®ƒçš„çˆ¶èŠ‚ç‚¹è¿”å›ä»€ä¹ˆä¿¡æ¯å‘¢ï¼Ÿé‚£å°±æ˜¯ä»¥å½“å‰ç»“ç‚¹ä¸ºæ ¹æ—¶çš„æœ€å¤§å•è¾¹è·¯å¾„å’Œï¼ˆå› ä¸ºè·¯å¾„ä¸èƒ½åˆ†å‰ï¼‰ï¼Œè¿™æ ·æ‰èƒ½è®¡ç®—å…¶çˆ¶èŠ‚ç‚¹ä¸ºæ ¹æ—¶çš„æœ€å¤§è·¯å¾„å’Œã€‚ä½†éœ€è¦æ³¨æ„çš„æ—¶ï¼Œå¦‚æœæœ€å¤§å•è¾¹è·¯å¾„å’Œä¸ºè´Ÿï¼Œåˆ™éœ€è¦ä¸¢å¼ƒï¼Œå› ä¸ºå…¶ä¼šæ‹‰ä½çˆ¶èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œï¼Œçˆ¶èŠ‚ç‚¹æ˜¯ä¸ä¼šè€ƒè™‘è¿æ¥è¿™æ¡è·¯å¾„çš„ã€‚ ","date":"2025-04-09","objectID":"/posts/b353bab/:2:0","tags":["äºŒå‰æ ‘","ååºéå†","LeetCodeHot100"],"title":"124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ","uri":"/posts/b353bab/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: int dfs(TreeNode* root, int\u0026 ans) { if (!root) { return 0; } int left = dfs(root-\u003eleft, ans); // å­˜å‚¨å·¦è¾¹çš„è´¡çŒ® int right = dfs(root-\u003eright, ans); // å­˜å‚¨å³è¾¹çš„è´¡çŒ® ans = max(ans, left + right + root-\u003eval); // å¯»æ‰¾æœ€å¤§è·¯å¾„å’Œ /** * max({ left, right, 0 }) æ˜¯ä¸ºäº†æ‰¾åˆ°å½“å‰ç»“ç‚¹çš„å·¦å³æœ€å¤§è´¡çŒ®å€¼(å› ä¸ºåªèƒ½å–ä¸€è¾¹)ï¼Œå¦‚æœéƒ½ä¸ºè´Ÿï¼Œåˆ™ä¸¢å¼ƒ * max(max({ left, right, 0 }) + root-\u003eval, 0) æ˜¯ä¸ºäº†åˆ¤æ–­ä»¥å½“å‰ç»“ç‚¹ä¸ºæ ¹æ—¶çš„æœ€å¤§è·¯å¾„å’Œï¼Œä¸¢å¼ƒè´Ÿå€¼ * å› ä¸ºæˆ‘ä»¬è¦å¯»æ‰¾çš„æ˜¯æœ€å¤§è·¯å¾„å’Œï¼Œè´Ÿå€¼å°±ä¼šä½¿å¾—è·¯å¾„å’Œå˜å° */ return max(max({ left, right, 0 }) + root-\u003eval, 0); } int maxPathSum(TreeNode* root) { int ans = INT_MIN; dfs(root, ans); return ans; } }; ","date":"2025-04-09","objectID":"/posts/b353bab/:3:0","tags":["äºŒå‰æ ‘","ååºéå†","LeetCodeHot100"],"title":"124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ","uri":"/posts/b353bab/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-04-07","objectID":"/posts/8dee5a0/:1:0","tags":["LeetCodeHot100","æ ‘","æ·±åº¦ä¼˜å…ˆæœç´¢","å‰ç¼€å’Œ","äºŒå‰æ ‘"],"title":"437. è·¯å¾„æ€»å’ŒIII","uri":"/posts/8dee5a0/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rçœ‹åˆ°é¢˜ç›®é¦–å…ˆæƒ³åˆ°çš„æ˜¯æš´åŠ›æ³•ï¼Œè®©æ¯ä¸€ä¸ªç‚¹ä¸ºèµ·ç‚¹ï¼Œç©·ä¸¾è¯¥ç‚¹å‘ä¸‹å»¶ä¼¸çš„æ‰€æœ‰è·¯å¾„ï¼Œå°†ç¬¦åˆè¦æ±‚çš„è·¯å¾„ç´¯åŠ èµ·æ¥ï¼Œå°±æ˜¯ä»¥è¯¥ç‚¹ä¸ºèµ·ç‚¹æ»¡è¶³è¦æ±‚çš„è·¯å¾„æ•°ï¼Œå°†æ¯ä¸ªç‚¹ç¬¦åˆè¦æ±‚çš„è·¯å¾„æ•°ç´¯åŠ èµ·æ¥å°±æ˜¯ç­”æ¡ˆã€‚ æš´åŠ›æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(N^2)$ï¼Œèƒ½ä¸èƒ½è¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿæœ‰çš„ï¼Œå…„å¼Ÿã€‚å›é¡¾æš´åŠ›æ³•ï¼Œæˆ‘ä»¬å‘ç°å­˜åœ¨å¤§é‡é‡å¤è®¡ç®—ï¼Œæ¯”å¦‚è¯´ç¤ºä¾‹1ä¸­çš„ 5â†’3 è¿™ä¸€æ¡è·¯ï¼Œä»¥10ä¸ºèµ·ç‚¹ä¼šè®¡ç®—ä¸€æ¬¡ï¼Œä»¥5ä¸ºèµ·ç‚¹åˆä¼šè®¡ç®—ä¸€æ¬¡ã€‚é‚£ä¹ˆæœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥è®©æ¯æ¡è·¯åªè¢«è®¡ç®—ä¸€æ¬¡å‘¢ï¼Ÿé‚£å°±æ˜¯ å‰ç¼€å’Œ ï¼Œæ—¢ç„¶ä»¥æ¯ä¸ªç‚¹ä¸ºèµ·ç‚¹å‘ä¸‹æ¢ç´¢ä¼šå­˜åœ¨å¤§é‡é‡å¤è®¡ç®—ï¼Œé‚£ä¹ˆé€†è½¬ä¸€ä¸‹æ€è·¯ï¼Œä»¥æ¯ä¸ªç‚¹ä¸ºç»ˆç‚¹å‘ä¸Šæ¢ç´¢ã€‚ æˆ‘ä»¬æƒ³è¦è®¡ç®—ä»¥å½“å‰èŠ‚ç‚¹ä¸ºç»ˆç‚¹çš„ä»»æ„è·¯å¾„çš„å’Œï¼Œé‚£ä¹ˆå°±éœ€è¦å€ŸåŠ©ç¬¬560é¢˜å­¦ä¹ åˆ°çš„å‰ç¼€å’Œæ–¹æ³•ã€‚ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ $presum$ æ¥è®°å½•å½“å‰å­è·¯å¾„ä¸­æ¯ç§è·¯å¾„å’Œçš„ä¸ªæ•°ï¼Œå½“èµ°åˆ°ç»“ç‚¹$node$æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦è·å¾—è·¯å¾„å’Œä¸º $curr\\_presum - targetSum$ çš„è·¯å¾„æ•°å°±å¯çŸ¥é“ä»¥$node$ä¸ºç»ˆç‚¹ï¼Œè·¯å¾„å’Œä¸º$targetSum$çš„è·¯å¾„æ•°äº†ã€‚ é‚£ä¹ˆæ¥æ•´ç†ä¸€ä¸‹æ•´ä½“æ€è·¯ï¼šä½¿ç”¨é€’å½’æ¥éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œç”¨$currSum$æ¥è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„å’Œ(å³å‰ç¼€å’Œ)ï¼ŒåŒæ—¶ç”¨å“ˆå¸Œè¡¨æ¥è®°å½•ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„å’Œçš„å‡ºç°æ¬¡æ•°ã€‚è¿™æ ·ï¼Œæ¯å½“èµ°åˆ°ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå°±å¯ä»¥ç”¨å‡æ³•å¿«é€Ÿåˆ¤æ–­ä»¥å½“å‰èŠ‚ç‚¹ä¸ºç»ˆæ­¢èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸­æœ‰å¤šå°‘æ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚æœ€åï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥ç´¯åŠ å…¨éƒ¨ç»“æœã€‚ ","date":"2025-04-07","objectID":"/posts/8dee5a0/:2:0","tags":["LeetCodeHot100","æ ‘","æ·±åº¦ä¼˜å…ˆæœç´¢","å‰ç¼€å’Œ","äºŒå‰æ ‘"],"title":"437. è·¯å¾„æ€»å’ŒIII","uri":"/posts/8dee5a0/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \r// è§£æ³•ä¸€ï¼Œæš´åŠ›æ³•ï¼š class Solution { public: // ç´¯åŠ æ¯ä¸ªç‚¹ç¬¦åˆè¦æ±‚çš„è·¯å¾„æ•° long pathSum(TreeNode* root, long targetSum) { if (root == nullptr) { return 0; } long ret = rootSum(root, targetSum); ret += pathSum(root-\u003eleft, targetSum); ret += pathSum(root-\u003eright, targetSum); return ret; } // è®¡ç®—ä»¥rootä¸ºèµ·ç‚¹ï¼Œç¬¦åˆè¦æ±‚çš„è·¯å¾„æ•° long rootSum(TreeNode* root, long targetSum) { if (!root) { return 0; } int ret = 0; if (root-\u003eval == targetSum) { ++ret; } ret += rootSum(root-\u003eleft, targetSum - root-\u003eval); ret += rootSum(root-\u003eright, targetSum - root-\u003eval); return ret; } }; // è§£æ³•äºŒï¼Œå‰ç¼€å’Œæ³•ï¼š class Solution { public: // key: å½“å‰è·¯å¾„å’Œ value: å’Œä¸ºkeyçš„è·¯å¾„æ•° unordered_map\u003cint, int\u003e presum; int dfs(TreeNode* root, int curr_sum, int targetSum) { if (!root) { return 0; } int ret = 0; // ç”¨äºè®°å½•ç¬¦åˆè¦æ±‚çš„è·¯å¾„æ•° curr_sum += root-\u003eval; /** * è¿™é‡Œæ³¨æ„: è¦å…ˆåˆ¤æ–­å†è®°å½•, è€Œä¸èƒ½å…ˆè®°å½•å†åˆ¤æ–­, å³åœ¨ifè¿‡åæ‰èƒ½presum[curr_sum]++; * å› ä¸ºæˆ‘ä»¬çš„ presum è®°å½•çš„æ˜¯å½“å‰èŠ‚ç‚¹å‰çš„èŠ‚ç‚¹çš„å‰ç¼€å’Œ */ if (presum.find(curr_sum - targetSum) != presum.end()) { ret += presum[curr_sum - targetSum]; } presum[curr_sum]++; // å°†å½“å‰ç»“ç‚¹çš„å€¼è¿›è¡Œè®°å½• ret += dfs(root-\u003eleft, curr_sum, targetSum); // ç´¯åŠ å·¦å­æ ‘ç­”æ¡ˆ ret += dfs(root-\u003eright, curr_sum, targetSum); // ç´¯åŠ å³å­æ ‘æ˜¯å¦å­˜åœ¨ presum[curr_sum]--; // å°†å½“å‰ç»“ç‚¹çš„å€¼åˆ é™¤ï¼Œå› ä¸ºè¦å›é€€åˆ°å½“å‰ç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹äº† return ret; } int pathSum(TreeNode* root, int targetSum) { presum[0] = 1; // æ·»åŠ è¿™ä¸ªå€¼æ˜¯ä¸ºäº†å¤„ç† curr_sum åˆšå¥½ç­‰äº targetSumçš„æƒ…å†µ return dfs(root, 0, targetSum); } }; ","date":"2025-04-07","objectID":"/posts/8dee5a0/:3:0","tags":["LeetCodeHot100","æ ‘","æ·±åº¦ä¼˜å…ˆæœç´¢","å‰ç¼€å’Œ","äºŒå‰æ ‘"],"title":"437. è·¯å¾„æ€»å’ŒIII","uri":"/posts/8dee5a0/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-03-12","objectID":"/posts/8d7c109/:1:0","tags":["å·®åˆ†æ³•","æ•°ç»„"],"title":"å‡ºè¡Œè®¡åˆ’","uri":"/posts/8d7c109/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\ré¦–å…ˆï¼Œæä¸€å‘æš´åŠ›ï¼Œå¯¹äºæ¯ä¸ªæŸ¥è¯¢çš„æ—¶åˆ»ï¼Œæ ¹æ®é¢˜ç›®æ‰€ç»™å…¬å¼è®¡ç®—å…¶æ ¸é…¸æœ‰æ•ˆæ—¶é—´èŒƒå›´ï¼Œåˆ¤æ–­è®¡åˆ’å‡ºè¡Œæ—¶é—´æ˜¯å¦åœ¨è¿™ä¸ªæœ‰æ•ˆæ—¶é—´èŒƒå›´å†…ã€‚æäº¤åå‘ç°æœç„¶è¶…æ—¶ï¼Œåªèƒ½è¿‡7ä¸ªæ ·ä¾‹ã€‚ æš´åŠ›æ³•æ˜¯æ‹¿æ¯ä¸ªæŸ¥è¯¢çš„æ—¶é—´å»ä¾æ¬¡å¤„ç†æ¯ä¸ªå‡ºè¡Œè®¡åˆ’ï¼Œå†åˆ¤æ–­æ¯ä¸ªè®¡åˆ’æ˜¯å¦å¯ä»¥å‡ºè¡Œã€‚æƒ³äº†ä¸€ä¸‹ï¼Œå¯¹äºæš´åŠ›æ³•æ²¡æœ‰ä»€ä¹ˆå¤§çš„ä¼˜åŒ–ç‚¹ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½é€†å‘ä¸€ä¸‹å¤„ç†æµç¨‹å‘¢ï¼Ÿå…ˆå¤„ç†æ¯ä¸ªå‡ºè¡Œè®¡åˆ’ï¼Œè®¡ç®—å‡ºæ¯ä¸ªå‡ºè¡Œè®¡åˆ’æœ€æ—©å’Œæœ€è¿Ÿåšæ ¸é…¸çš„æ—¶åˆ»ï¼Œå†å¤„ç†æ¯ä¸ªæŸ¥è¯¢çš„æ—¶åˆ»ã€‚å½“ç„¶å¯ä»¥ï¼æˆ‘ä»¬å¯ä»¥å…ˆå°†æ¯ä¸ªå‡ºè¡Œè®¡åˆ’éƒ½è½¬åŒ–æˆä¸€ä¸ªæ—¶åˆ»åŒºé—´ $[start, end]$ ï¼Œ $start$è¡¨ç¤ºè¦æ»¡è¶³è¯¥å‡ºè¡Œè®¡åˆ’çš„æœ€æ—©åšæ ¸é…¸çš„æ—¶åˆ»ã€‚ $end$è¡¨ç¤ºè¦æ»¡è¶³è¯¥å‡ºè¡Œè®¡åˆ’çš„æœ€è¿Ÿåšæ ¸é…¸çš„æ—¶åˆ»ã€‚ ã€Œåªè¦å¼€å§‹åšæ ¸é…¸çš„æ—¶åˆ»$q$åŒ…å«åœ¨è¯¥å‡ºè¡Œè®¡åˆ’çš„æ—¶åˆ»åŒºé—´é‡Œï¼Œé‚£ä¹ˆå¿…å®šèƒ½æ»¡è¶³è¯¥å‡ºè¡Œè®¡åˆ’ã€ã€‚ é€šè¿‡ä¸Šé¢çš„åˆ†æå¯çŸ¥ï¼Œå¯ä»¥ç”¨ä¸€ä¸ª$time$æ•°ç»„å­˜å‚¨æ¯ä¸ªæ—¶åˆ»ï¼ˆä¸‹æ ‡$i$è¡¨ç¤ºæ—¶åˆ»iï¼‰è¢«å¤šå°‘ä¸ªå‡ºè¡Œè®¡åˆ’æ‰€è¦†ç›–ï¼Œé‚£ä¹ˆåœ¨è·å–è¦æŸ¥è¯¢çš„æ—¶åˆ»$q$åï¼Œå°±å¯ä»¥ç›´æ¥è¿”å›$time[q]$ï¼Œåœ¨$O(1)$çš„æ—¶é—´å†…å°±èƒ½çŸ¥é“è¯¥æ—¶åˆ»åšæ ¸é…¸èƒ½æ»¡è¶³å¤šå°‘ä¸ªå‡ºè¡Œè®¡åˆ’ã€‚ ä½†æ˜¯ä¿®æ”¹æ—¶åˆ»åŒºé—´ $[start, end]$çš„æ¯ä¸ªæ—¶åˆ»å¯¹åº”çš„å€¼æ—¶(å³ä¿®æ”¹æ¯ä¸ª$time[i]ï¼Œi \\in [start, end]$)ï¼Œä»éœ€éå†ï¼Œæœ€åçš„æ—¶é—´å¤æ‚åº¦ä»ç„¶ä¸º$O(2 \\times 10^5 \\times m)$ã€‚æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥ä¸ç”¨éå†å°±èƒ½è®©æŒ‡å®šåŒºé—´å¯¹åº”çš„å€¼éƒ½åŠ 1å‘¢ï¼Ÿé‚£å°±æ˜¯å·®åˆ†æ³•ã€‚è¿™æ ·ä¸€æ ·ï¼Œå°±å¯ä»¥åœ¨$O(1)$æ—¶é—´å†…è®©æŒ‡å®šåŒºé—´å¯¹åº”çš„æ¯ä¸ªå€¼éƒ½åŠ 1ã€‚ é‚£ä¹ˆæ¥æ¢³ç†ä¸€éæµç¨‹ï¼š åˆ›å»ºä¸€ä¸ªæ—¶åˆ»æ•°ç»„ $time$ï¼Œç”¨æ¥è®°å½•æ¯ä¸ªæ—¶åˆ»è¢«å¤šå°‘ä¸ªå‡ºè¡Œè®¡åˆ’æ‰€è¦†ç›–ã€‚ å°†æ¯ä¸ªå‡ºè¡Œè®¡åˆ’è½¬åŒ–æˆå¯¹åº”çš„æ—¶åˆ»åŒºé—´ $[start, end]$ï¼Œä½¿ç”¨å·®åˆ†æ³•è®©time[i]éƒ½åŠ 1ï¼Œå…¶ä¸­$i \\in [start, end]$ã€‚ æŸ¥è¯¢æ—¶åˆ»$q$æ—¶ï¼Œç›´æ¥è¿”å›$time[q]$ã€‚ ","date":"2025-03-12","objectID":"/posts/8d7c109/:2:0","tags":["å·®åˆ†æ³•","æ•°ç»„"],"title":"å‡ºè¡Œè®¡åˆ’","uri":"/posts/8d7c109/"},{"categories":["ç®—æ³•"],"content":"å·®åˆ†æ³•\rå·®åˆ†æ³•ç»å¸¸åº”ç”¨äºã€Œè¦å°†ä¸åŒåŒºé—´å†…çš„å€¼éƒ½åŠ ä¸Šä¸€ä¸ªç›¸åŒçš„å€¼ã€ã€‚ ä¾‹å¦‚ï¼Œå°†åŒºé—´$[l, r]$çš„æ¯ä¸ªæ•°éƒ½åŠ ä¸Šä¸€ä¸ª$k$ï¼Œåªéœ€è¦è®© $b[l] += k, b[r+1] -= k$; è¿™æ ·å°±å¯ä»¥è®©$a_l$åˆ°$a_r$éƒ½åŠ ä¸Š$k$ï¼Œå› ä¸º$a_i$çš„å€¼æ˜¯$b_i$çš„å‰ç¼€å’Œã€‚ ","date":"2025-03-12","objectID":"/posts/8d7c109/:2:1","tags":["å·®åˆ†æ³•","æ•°ç»„"],"title":"å‡ºè¡Œè®¡åˆ’","uri":"/posts/8d7c109/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \r#include \u003cbits/stdc++.h\u003e using namespace std; typedef long long ll; int n, m, k, t, c, q, l, r; int diff[200010] = { 0 }; // æ„é€ å·®åˆ†æ•°ç»„, å› ä¸ºtime[i]çš„åˆå§‹å€¼å‡ä¸º0, æ‰€ä»¥diff[i]ä¹Ÿå‡ä¸º0 int main() { cin \u003e\u003e n \u003e\u003e m \u003e\u003e k; for (int i = 0; i \u003c n; ++i) { cin \u003e\u003e t \u003e\u003e c; // è®¡ç®—å½“å‰åœºæ‰€å¯¹åº”çš„æ—¶é—´åŒºé—´ l = max(1, t - c - k + 1); // è®¡ç®—è¿›å…¥è¯¥åœºæ‰€åšæ ¸é…¸çš„æœ€æ—©æ—¶åˆ» r = t - k; // è®¡ç®—è¿›å…¥è¯¥åœºæ‰€åšæ ¸é…¸çš„æœ€æ™šæ—¶åˆ» // åˆ¤æ–­è¯¥åœºæ‰€æ˜¯å¦èƒ½å¤Ÿè¿›å…¥ if (r \u003e 0) { // å½“å‰æ—¶é—´åŒºé—´çš„æ¯ä¸ªæ—¶åˆ»éƒ½åŠ 1, å³è¿™ä¸ªæ—¶é—´åŒºé—´å†…çš„æ¯ä¸ªæ—¶åˆ»èƒ½è¿›çš„åœºæ‰€ +1 diff[l] += 1; diff[r + 1] -= 1; } } // è®¡ç®—æ¯ä¸ªæ—¶åˆ»èƒ½è¿›çš„åœºæ‰€æ•° for (int i = 1; i \u003c= 200000; ++i) { diff[i] += diff[i - 1]; // è¿™é‡Œç›´æ¥ç”¨diff[i] è¡¨ç¤º time[i]äº† } while (m--) { cin \u003e\u003e q; printf(\"%d\\n\", diff[q]); } return 0; } // æš´åŠ›æ³• // int n, m, k, flag = 0; // int a[100010], b[100010]; // int main() // { // cin \u003e\u003e n \u003e\u003e m \u003e\u003e k; // for (int i = 0; i \u003c n; ++i) // { // cin \u003e\u003e a[i] \u003e\u003e b[i]; // if (a[i] \u003c= k) // { // flag = i; // } // } // int start, end; // // ä¾æ¬¡å¤„ç†æ¯ä¸ªæŸ¥è¯¢ // for (int i = 0; i \u003c m; ++i) // { // int ans = 0; // cin \u003e\u003e start; // start += k; // è®¡ç®—æ ¸é…¸æœ‰æ•ˆçš„å¼€å§‹æ—¶é—´ // for (int i = flag; i \u003c n; ++i) // { // end = start + b[i] - 1; // è®¡ç®—æ ¸é…¸æœ‰æ•ˆçš„æœ€åæ—¶é—´ // if (a[i] \u003e= start \u0026\u0026 a[i] \u003c= end) // { // ++ans; // } // } // printf(\"%d\\n\", ans); // } // return 0; // } ","date":"2025-03-12","objectID":"/posts/8d7c109/:3:0","tags":["å·®åˆ†æ³•","æ•°ç»„"],"title":"å‡ºè¡Œè®¡åˆ’","uri":"/posts/8d7c109/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-03-10","objectID":"/posts/77cc956/:1:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"240. æœç´¢äºŒç»´çŸ©é˜µâ…¡","uri":"/posts/77cc956/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rçœ‹åˆ°è¿™é¢˜ç›´æ¥æš´åŠ›æ³•ï¼Œä½†æ—¶é—´å¤æ‚åº¦ä¸º$O(m*n)$ï¼Œä¸å¤Ÿå¿«ã€‚è€ƒè™‘åˆ°æ¯ä¸€è¡Œçš„å…ƒç´ éƒ½æ˜¯å‡åºæ’åˆ—ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨éå†æ¯ä¸€è¡Œçš„å…ƒç´ æ—¶ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(m * log_{}{n})$ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥åœ¨éå†æ¯ä¸€åˆ—æ—¶ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•ï¼‰ã€‚ äºŒåˆ†æŸ¥æ‰¾æ³•æˆ‘ä»¬åªç”¨åˆ°äº†è¡Œæœ‰åºæˆ–åˆ—æœ‰åºè¿™ä¸¤ä¸ªä¸­çš„ä¸€ä¸ªæ¡ä»¶ï¼Œèƒ½ä¸èƒ½åŒæ—¶åº”ç”¨è¿™ä¸¤ä¸ªæ¡ä»¶æ¥å®ç°æ›´å¿«çš„ç®—æ³•å‘¢ï¼Ÿè®¾ã€Œ$num$ä¸ºæŸä¸€è¡Œçš„æœ€åä¸€ä¸ªå…ƒç´ ã€ï¼Œè§‚å¯Ÿå‘ç°ï¼š å¦‚æœ$num$æ¯”$target$å¤§ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ æ‰€åœ¨åˆ—çš„åç»­å…ƒç´ éƒ½å°†æ¯”$target$å¤§ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æŠ›å¼ƒæ‰è¿™äº›å…ƒç´ ã€‚ å¦‚æœ$num$æ¯”$target$å°ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ æ‰€åœ¨è¡Œçš„å‰é©±å…ƒç´ éƒ½å°†æ¯”$target$å°ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æŠ›å¼ƒæ‰è¿™äº›å…ƒç´ ã€‚ è¿™æ„å‘³ç€ï¼šæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§è·³è¿‡å½“å‰æœç´¢èŒƒå›´ä¸­çš„ä¸€æ•´è¡Œæˆ–ä¸€æ•´åˆ—ï¼Œå¿«é€Ÿå‡å°‘æœç´¢ç©ºé—´ï¼ æ¯æ¬¡ç§»åŠ¨ä¼šæ’é™¤ä¸€è¡Œæˆ–ä¸€åˆ—ï¼Œæœ€å¤šç§»åŠ¨$m+n$æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(m+n)$ ç†æ¸…äº†æ€è·¯ï¼Œé‚£ä¹ˆèµ·å§‹ç‚¹è¯¥é€‰æ‹©å“ªé‡Œå‘¢ï¼Ÿå¼€å§‹æ—¶èƒ½è¦†ç›–å…¨éƒ¨å€¼çš„åªæœ‰å³ä¸Šè§’å’Œå³ä¸‹è§’ï¼Œé‚£ä¹ˆè¯¥é€‰å“ªä¸ªå‘¢ï¼Ÿåˆ†æä¸€ä¸‹ï¼š å³ä¸Šè§’ å€¼æ¯”targetå¤§æ—¶ï¼šå¯ä»¥è·³è¿‡å½“å‰åˆ—ã€‚ å€¼æ¯”targetå°æ—¶ï¼šå¯ä»¥è·³è¿‡å½“å‰è¡Œã€‚ å³ä¸‹è§’ å€¼æ¯”targetå¤§æ—¶ï¼šæ— æ³•è·³è¿‡å½“å‰è¡Œå’Œåˆ—ã€‚ å€¼æ¯”targetå°æ—¶ï¼štargetä¸å­˜åœ¨ã€‚ é€šè¿‡åˆ†æå‘ç°ï¼Œèµ·å§‹ç‚¹åªèƒ½é€‰æ‹©å³ä¸Šè§’ã€‚è¿™é‡Œé‡‡ç”¨çš„æ˜¯åˆ†æè¡Œçš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åˆ†æåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè¯¥æ–¹æ³•å°±è¯·è¯»è€…è‡ªè¡Œæ€è€ƒäº†ã€‚ ","date":"2025-03-10","objectID":"/posts/77cc956/:2:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"240. æœç´¢äºŒç»´çŸ©é˜µâ…¡","uri":"/posts/77cc956/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: bool searchMatrix(vector\u003cvector\u003cint\u003e\u003e\u0026 matrix, int target) { int x = 0, y = matrix[0].size() - 1; while (x \u003c matrix.size() \u0026\u0026 y \u003c matrix[0].size()) { if (matrix[x][y] == target) { return true; } else { if (matrix[x][y] \u003e target) { --y; } else { ++x; } } } return false; } }; ","date":"2025-03-10","objectID":"/posts/77cc956/:3:0","tags":["æ•°ç»„","äºŒåˆ†æŸ¥æ‰¾","LeetCodeHot100"],"title":"240. æœç´¢äºŒç»´çŸ©é˜µâ…¡","uri":"/posts/77cc956/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-03-09","objectID":"/posts/fa20807/:1:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"48. æ—‹è½¬å›¾åƒ","uri":"/posts/fa20807/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rè¿™é“é¢˜çš„éš¾ç‚¹ä¸»è¦åœ¨äºä¸èƒ½ä½¿ç”¨è¾…åŠ©æ•°ç»„ï¼Œç©ºé—´å¤æ‚åº¦å¿…é¡»ä¸º$O(1)$ã€‚é€šè¿‡è§‚å¯Ÿç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ä»¥ä¸‹è§„å¾‹ï¼š ã€Œç¬¬ $i$ è¡Œã€å…ƒç´ æ—‹è½¬åˆ°ã€Œç¬¬ $nâˆ’1âˆ’i$ åˆ—ã€å…ƒç´ ã€‚ ã€Œç¬¬ $j$ åˆ—ã€å…ƒç´ æ—‹è½¬åˆ°ã€Œç¬¬ $j$ è¡Œã€å…ƒç´ ã€‚ å³ $(i, j)$ è¦æ”¾ç½®çš„ä½ç½®ä¸º $(j, n - 1 - i)$ï¼Œåªè¦æˆ‘ä»¬æå‰ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡$temp$æ¥å­˜å‚¨$matrix[j][n - 1 - i]$ï¼Œå³å¯å®Œæˆ$(i, j)$è¿™ä¸ªä½ç½®çš„æ—‹è½¬æ“ä½œã€‚é‚£ä¹ˆ$(j, n - 1 - i)$åˆæ—‹è½¬åˆ°å“ªä¸ªä½ç½®å‘¢ï¼Ÿç»§ç»­åº”ç”¨è§„å¾‹ï¼Œå‘ç°å…¶æ—‹è½¬çš„ä½ç½®ä¸º$(n - 1 - i, n - 1 - j)$ï¼ŒåŒæ ·çš„ï¼Œå¦‚æœä½¿ç”¨$temp$æ¥å­˜å‚¨$matrix[n - 1 - i][n - 1 - j]$ï¼Œå³å¯å®Œæˆ$(i, j)$å’Œ$(j, n - 1 - i)$è¿™ä¸¤ä¸ªä½ç½®çš„æ—‹è½¬ã€‚æŒ‰ç…§å‰é¢çš„é€»è¾‘ç»§ç»­æ¨ç†ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼š $(i, j) â†’ (j, n - 1 - i)$ $(j, n - 1 - i) â†’ (n - 1 - i, n - 1 - j)$ $(n - 1 - i, n - 1 - j) â†’ (n - 1 - j, i)$ $(n - 1 - j, i) â†’ (i, j)$ $Aâ†’B$è¡¨ç¤ºä½ç½®Açš„å…ƒç´ é¡ºæ—¶é’ˆæ—‹è½¬$90Â°$åçš„ä½ç½®ä¸ºBã€‚è§‚å¯Ÿä¸Šé¢çš„å¼å­ï¼Œå‘ç°è¿™å››é¡¹å¤„äºä¸€ä¸ªå¾ªç¯ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡$temp$å³å¯å®Œæˆè¿™å››ä¸ªå…ƒç´ çš„åŸåœ°äº¤æ¢ï¼ å‘ç°æ€æ ·è¿›è¡ŒåŸåœ°äº¤æ¢åï¼Œè¿˜å‰©ä¸‹ä¸€ä¸ªéš¾ç‚¹å°±æ˜¯ã€Œåº”è¯¥éå†å“ªäº›åˆå§‹ç‚¹æ‰èƒ½å®Œæˆå…¨éƒ¨ç‚¹çš„æ—‹è½¬å‘¢ã€ï¼Ÿæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œæ—‹è½¬æ˜¯åˆ†å±‚è¿›è¡Œçš„ï¼š æœ€å¤–å±‚çš„å…ƒç´ ä¼šæ—‹è½¬åˆ°æœ€å¤–å±‚çš„å¦ä¸€ä¸ªä½ç½®ã€‚ æ¬¡å¤–å±‚çš„å…ƒç´ ä¼šæ—‹è½¬åˆ°æ¬¡å¤–å±‚çš„å¦ä¸€ä¸ªä½ç½®ã€‚ ä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°åˆ°è¾¾çŸ©é˜µçš„ä¸­å¿ƒï¼ˆå¦‚æœæ˜¯å¥‡æ•°é˜¶çŸ©é˜µï¼Œä¸­å¿ƒå…ƒç´ ä¸éœ€è¦ç§»åŠ¨ï¼‰ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬çš„éå†æ–¹å¼å¯ä»¥åˆ†ä¸º å±‚çº§éå† å’Œ æ¯å±‚å†…çš„å…ƒç´ éå†ã€‚ é€šè¿‡ä¸¾ä¾‹çš„æ–¹å¼å¯ä»¥å¾—åˆ°ä»¥ä¸‹è¡¨æ ¼ï¼š n è¦éå†çš„å±‚æ•° 1 0 2 1 3 1 4 2 5 2 6 2 â€¦â€¦ â€¦â€¦ è§‚å¯Ÿå‘ç°ï¼Œéœ€è¦éå†çš„å±‚æ•°ä¸º $\\left \\lfloor n / 2 \\right \\rfloor $ã€‚åŒæ ·çš„é€šè¿‡è§‚å¯Ÿå³å¯å‘ç°ç¬¬ i å±‚(iä»0å¼€å§‹)çš„å¤„ç†èµ·ç‚¹å’Œç»ˆç‚¹åˆ†åˆ«ä¸º $(i, i)ã€(i, n - 1 - i)$ã€‚ ","date":"2025-03-09","objectID":"/posts/fa20807/:2:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"48. æ—‹è½¬å›¾åƒ","uri":"/posts/fa20807/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: void rotate(vector\u003cvector\u003cint\u003e\u003e\u0026 matrix) { int n = matrix.size(); // è¿™é‡Œä½¿ç”¨æ•´é™¤å°±æ˜¯å‘ä¸‹å–æ•´ for (int i = 0; i \u003c n / 2; ++i) { for (int j = i; j \u003c (n - 1 - i); ++j) { int temp = matrix[i][j]; matrix[i][j] = matrix[n - 1 - j][i]; matrix[n - 1 - j][i] = matrix[n - 1 - i][n - 1 - j]; matrix[n - 1 - i][n - 1 - j] = matrix[j][n - 1 - i]; matrix[j][n - 1 - i] = temp; } } } }; ","date":"2025-03-09","objectID":"/posts/fa20807/:3:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"48. æ—‹è½¬å›¾åƒ","uri":"/posts/fa20807/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-03-06","objectID":"/posts/0ee95a7/:1:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯","uri":"/posts/0ee95a7/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rçœ‹é¢˜ç¬¬ä¸€çœ¼æƒ³åˆ°çš„æ˜¯å…ˆè®¡ç®—ç»™å®šæ•°ç»„æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ï¼Œç„¶åå¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´  $x$ï¼Œå°†æ€»çš„ä¹˜ç§¯é™¤ä»¥ $x$ æ¥æ±‚å¾—é™¤è‡ªèº«å€¼çš„ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯ã€‚ä½†å½“æ•°ç»„ä¸­å‡ºç°$0$æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•å°±å¤±æ•ˆäº†ï¼Œä¸”é¢˜ç›®è¯´æ˜äº†ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚ ä¸èƒ½ä½¿ç”¨é™¤æ³•ï¼Œåˆæ€ä¹ˆè®¡ç®—é™¤è‡ªèº«å€¼ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯å‘¢ï¼Ÿè€ƒè™‘åˆ° è¯¥æ•°å¯¹åº”çš„ä¹˜ç§¯ =å…¶å·¦è¾¹çš„ä¹˜ç§¯ * å…¶å³è¾¹çš„ä¹˜ç§¯ã€‚æ‰€ä»¥ï¼Œå¯ä»¥é€šè¿‡ä¸¤æ¬¡éå†ä¾æ¬¡è®¡ç®—æ¯ä¸ªæ•°çš„å·¦å³ä¹˜ç§¯å³å¯å¾—åˆ°ç­”æ¡ˆã€‚ ","date":"2025-03-06","objectID":"/posts/0ee95a7/:2:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯","uri":"/posts/0ee95a7/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: vector\u003cint\u003e productExceptSelf(vector\u003cint\u003e\u0026 nums) { vector\u003cint\u003e ans; // è®¡ç®—æ¯ä¸ªæ•°çš„å·¦ä¾§ä¹˜ç§¯ for(int i = 0; i \u003c nums.size(); ++i) { if(i == 0) { ans.push_back(1); } else { ans.push_back(ans[i - 1] * nums[i - 1]); } } // è®¡ç®—æ¯ä¸ªæ•°çš„å³ä¾§ä¹˜ç§¯, å¹¶ç›´æ¥è®¡ç®—ç­”æ¡ˆ for(int rc = 1, i = nums.size() - 1; i \u003e= 0; --i) { if(i != (nums.size() - 1)) { rc *= nums[i + 1]; } ans[i] *= rc; } return ans; } }; ","date":"2025-03-06","objectID":"/posts/0ee95a7/:3:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯","uri":"/posts/0ee95a7/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-03-06","objectID":"/posts/d0633e2/:1:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°","uri":"/posts/d0633e2/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rè¿™é“é¢˜çš„éš¾ç‚¹å°±åœ¨äºè¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚æ ¹æ®é¢˜ç›®å¯çŸ¥æˆ‘ä»¬è¦æ‰¾åˆ°çš„æ•°å¿…å®šåœ¨åŒºé—´ $[1, len + 1]$é‡Œï¼Œå½“ä¸”ä»…å½“ $1$ åˆ° $len$ éƒ½å‡ºç°è¿‡ï¼Œè¦å¯»æ‰¾çš„æ•°æ‰ä¸º$len + 1$ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆåˆ¤æ–­$1$ åˆ° $len$ çš„æ•°æ˜¯å¦éƒ½å‡ºç°è¿‡äº†ã€‚ ç”±äºç©ºé—´å¤æ‚åº¦å¿…é¡»ä¸º$O(1)$ï¼Œæ‰€ä»¥å€Ÿç”¨$nums$æ•°ç»„æœ¬èº«æ¥è®°å½•$1$ åˆ° $len$çš„å‡ºç°æƒ…å†µï¼Œå¦‚æœ$[1, len]$ä¸­çš„æŸä¸ªæ•° x å‡ºç°è¿‡ï¼Œæˆ‘ä»¬å°±ç”¨ $nums[x - 1]$ è¿™ä¸ªç©ºé—´æ¥è®°å½•å…¶å·²ç»å‡ºç°è¿‡äº†ã€‚æœ€åå†éå† nums æ•°ç»„ï¼ŒæŸ¥çœ‹å“ªä¸ªæ­£æ•´æ•°æ²¡æœ‰å‡ºç°è¿‡ï¼Œå³çœ‹åŒºé—´$[1, len]$ä¸­çš„å“ªä¸ªæ­£æ•´æ•°æ²¡æœ‰å‡ºç°è¿‡ï¼Œå¦‚æœ $1$ åˆ° $len$ éƒ½å‡ºç°è¿‡ï¼Œé‚£ä¹ˆç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•´æ•°å°±æ˜¯ $len + 1$ã€‚ å…·ä½“æ¥è¯´ï¼Œæˆ‘é‡‡ç”¨çš„è®°å½•æ–¹å¼ä¸º è‹¥åŒºé—´$[1, len]$ä¸­çš„ x å‡ºç°è¿‡é‚£ä¹ˆå°† $nums[x - 1]$ å˜ä¸º $-nums[x - 1]$(æ³¨æ„ä¸è¦é‡å¤å¤„ç†ï¼Œæ¯”å¦‚ä¸¤æ¬¡ç›¸åå°±å˜å›æ­£æ•°äº†)ï¼Œåç»­éå†æ—¶ï¼Œéå†åˆ°ä¸‹æ ‡ä¸º $i$æ—¶ï¼Œè‹¥ $nums[i]$ ä¸ºè´Ÿå€¼ï¼Œåˆ™è¡¨æ˜ $i + 1$ è¿™ä¸ªå€¼å‡ºç°è¿‡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å…ˆå¤„ç†è´Ÿå€¼ï¼Œå°†æ•°ç»„ä¸­çš„ å…¨éƒ¨è´Ÿå€¼ å˜ä¸º $len + 1$(å˜ä¸º 0 æˆ–å¤§äº lençš„ä»»æ„æ•°éƒ½è¡Œ)ã€‚ ","date":"2025-03-06","objectID":"/posts/d0633e2/:2:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°","uri":"/posts/d0633e2/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \r#include \u003cbits/stdc++.h\u003e using namespace std; class Solution { public: int firstMissingPositive(vector\u003cint\u003e\u0026 nums) { int len = nums.size(); // å¤„ç†è´Ÿæ•°å’Œ0çš„æƒ…å†µ for (int i = 0; i \u003c len; ++i) { if (nums[i] \u003c= 0) { nums[i] = len + 1; } } // æ ‡è®°åŒºé—´ [1,len] é‡Œçš„æ•´æ•° for (int i = 0; i \u003c len; ++i) { int abs_num = abs(nums[i]); // è¿™é‡Œå–ç»å¯¹å€¼æ˜¯å› ä¸ºè¿™ä¸ªä½ç½®å¯èƒ½è¢«æ ‡è®°äº† // nums[abs_num - 1] \u003e 0 æ˜¯ä¸ºäº†é¿å…é‡å¤å¤„ç†çš„æƒ…å†µ, æ¯”å¦‚æ•°ç»„ä¸­ 3 å‡ºç°æ¬¡æ•°å¤§äº1æ¬¡è¿™ç§æƒ…å†µ if (abs_num \u003c= len \u0026\u0026 nums[abs_num - 1] \u003e 0) { nums[abs_num - 1] = -nums[abs_num - 1]; } } // å¯»æ‰¾æ²¡æœ‰å‡ºç°è¿‡çš„æœ€å°æ­£æ•´æ•° for (int i = 0; i \u003c len; ++i) { // åˆ¤æ–­è¿™ä¸ªä½ç½®å¯¹åº”çš„å€¼ï¼Œå³ i + 1ï¼Œ æ˜¯å¦å‡ºç°è¿‡ if (nums[i] \u003e 0) { return i + 1; } } return len + 1; // å‰é¢æ²¡æœ‰return è¯´æ˜ 1 ~ len éƒ½å‡ºç°è¿‡ } }; ","date":"2025-03-06","objectID":"/posts/d0633e2/:3:0","tags":["æ•°ç»„","LeetCodeHot100"],"title":"41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°","uri":"/posts/d0633e2/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-03-01","objectID":"/posts/3930252/:1:0","tags":["æ•°ç»„","åŠ¨æ€è§„åˆ’","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"53. æœ€å¤§å­æ•°ç»„å’Œ","uri":"/posts/3930252/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rçœ‹åˆ°é¢˜ç›®è¯´å¯»æ‰¾æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼Œæƒ³åˆ°äº† ã€Œ560. å’Œä¸º K çš„å­æ•°ç»„ã€ ä¸­çš„æ€è·¯ å‰ç¼€å’Œã€‚å¯¹äºä»»æ„ä¸€ä¸ªåŒºé—´$[i, j]$ï¼ˆ$i \\le j$ï¼‰æ¥è¯´å…¶å’Œä¸ºï¼š $$ sum[i, j] = preSum[j] - preSum[i - 1] $$ æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªå’Œæœ€å¤§çš„è¿ç»­å­æ•°ç»„ï¼Œå³ï¼š $$ max(preSum[j] - preSum[i - 1])ï¼Œj \\in [0, nums.size() - 1] $$ æˆ‘ä»¬åªéœ€è®¡ç®—å‡ºæ¯ä¸€ä¸ª$preSum[j] - preSum[i - 1]$çš„å€¼ï¼Œå–å…¶ä¸­æœ€å¤§å€¼ä½œä¸ºç­”æ¡ˆã€‚ä½†å¯¹$preSum[j]$æ¥è¯´æˆ‘ä»¬éœ€è¦è®©å…¶å‡å»æ¯ä¸€ä¸ª$preSum[i - 1]$å—ï¼Ÿå¹¶ä¸éœ€è¦ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦çš„æ˜¯å·®å€¼çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥åªéœ€è¦ç”¨ä¸€ä¸ªå˜é‡$preSumMin$æ¥è®°å½•æœ€å°çš„$preSum[i - 1]$ï¼Œç„¶ååªéœ€è®¡ç®—æ¯ä¸€ä¸ª $preSum[j] - preSumMin$ï¼Œå–å…¶ä¸­çš„æœ€å¤§å·®å€¼ä¸ºç­”æ¡ˆå³å¯ã€‚ ","date":"2025-03-01","objectID":"/posts/3930252/:2:0","tags":["æ•°ç»„","åŠ¨æ€è§„åˆ’","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"53. æœ€å¤§å­æ•°ç»„å’Œ","uri":"/posts/3930252/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: int maxSubArray(vector\u003cint\u003e\u0026 nums) { int preSumMin = 0, preSum = 0, ans = -1e5; for (int i = 0; i \u003c nums.size(); ++i) { preSum += nums[i]; // è®¡ç®—å½“å‰å‰ç¼€å’Œ ans = max(ans, preSum - preSumMin); // æ›´æ–°æœ€å¤§å’Œ preSumMin = min(preSumMin, preSum); // æ›´æ–°æœ€å°çš„ preSum[i - 1] } return ans; } }; ","date":"2025-03-01","objectID":"/posts/3930252/:3:0","tags":["æ•°ç»„","åŠ¨æ€è§„åˆ’","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"53. æœ€å¤§å­æ•°ç»„å’Œ","uri":"/posts/3930252/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-02-27","objectID":"/posts/f524d2b/:1:0","tags":["æ•°ç»„","é˜Ÿåˆ—","æ»‘åŠ¨çª—å£","ä¼˜å…ˆé˜Ÿåˆ—","å †","LeetCodeHot100"],"title":"239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼","uri":"/posts/f524d2b/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rç›´æ¥æš´åŠ›æ³•ï¼Œå‘ç°è¶…æ—¶ï¼Œæ€ä¹ˆè¿›ä¸€æ­¥ä¼˜åŒ–å‘¢ï¼Ÿæ¯ä¸ªçª—å£æˆ‘ä»¬éƒ½è¦ä»å¤´åˆ°å°¾æ‰«æä¸€éæ¥å¯»æ‰¾æœ€å¤§å€¼ï¼Œè¿™æ˜¯è€—æ—¶æ‰€åœ¨ï¼Œå› ä¸ºæ˜¯å¯»æ‰¾æœ€å¤§å€¼ï¼Œç›´æ¥æƒ³åˆ°ä¸€ç§éå¸¸é€‚åˆçš„æ•°æ®ç»“æ„â€”â€”å¤§æ ¹å †ï¼Œå †é¡¶å°±æ˜¯æœ€å¤§å€¼ã€‚æ¯å¾€å³ç§»åŠ¨ä¸€æ¬¡ï¼Œå°±å°†æ–°çš„å…ƒç´ åŠ å…¥å †ä¸­ï¼Œå†åˆ¤æ–­å †é¡¶å…ƒç´ æ˜¯å¦åœ¨çª—å£å†…ï¼Œå¦‚æœä¸æ˜¯å°±ç§»é™¤ï¼Œç›´åˆ°åœ¨å½“å‰çª—å£çš„å…ƒç´ æˆä¸ºå †é¡¶ã€‚å› ä¸ºå°†ä¸€ä¸ªå…ƒç´ åŠ å…¥åˆ°å †ä¸­çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(log n)$ï¼Œæ‰€ä»¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n log n)$ã€‚ èƒ½ä¸èƒ½è¿›ä¸€æ­¥ä¼˜åŒ–å‘¢ï¼Ÿå½“ç„¶å¯ä»¥ï¼Œåœ¨ä¸€ä¸ªçª—å£ä¸­ï¼Œå‡è®¾ä¸¤ä¸ªå…ƒç´ çš„ä¸‹æ ‡åˆ†åˆ«ä¸º$i, j$ä¸”$i \u003c j$ï¼Œé‚£ä¹ˆã€Œåªè¦$i$åœ¨çª—å£ä¸­ï¼Œ$j$ä¹Ÿå¿…å®šåœ¨çª—å£ä¸­ã€ã€‚è‹¥$nums[i] \u003c nums[j]$ï¼Œ é‚£ä¹ˆ$nums[i]$å¿…å®šä¸å¯èƒ½æˆä¸ºæœ€å¤§å€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸å¿…å­˜å‚¨ç±»ä¼¼$nums[i]$çš„å€¼ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—æ¥å­˜å‚¨ã€Œåœ¨å½“å‰çª—å£ä¸­å¯èƒ½åœ¨ä»¥åæˆä¸ºæœ€å¤§å€¼çš„å€¼çš„å¯¹åº”ä¸‹æ ‡ã€ã€‚å­˜å‚¨ä¸‹æ ‡æ˜¯å› ä¸ºæˆ‘ä»¬åç»­è¦åˆ¤æ–­è¯¥å€¼æ˜¯å¦è¶…è¿‡çª—å£èŒƒå›´ã€‚ æ ¹æ®å‰é¢çš„åˆ†æå¯çŸ¥ï¼Œè¯¥é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ˜¯é€’å¢çš„ï¼ˆå› ä¸ºæ˜¯ä»å·¦å¾€åæ‰«æçš„ï¼‰ï¼Œå…ƒç´ (ä¸‹æ ‡)å¯¹åº”çš„å€¼æ˜¯é€’å‡çš„ã€‚æ¯æ¬¡ç§»åŠ¨çª—å£å°±åªéœ€è¦å°†æ–°å…ƒç´ ä¸é˜Ÿå°¾å…ƒç´ å¯¹åº”çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœé˜Ÿå°¾å…ƒç´ å¯¹åº”çš„å€¼å°äºæ–°åŠ å…ƒç´ å¯¹åº”çš„å€¼ï¼Œåˆ™å°†å…¶ç§»é™¤ï¼ˆå› ä¸ºå…¶å¯¹åº”çš„å€¼ä¸å¯èƒ½æˆä¸ºæœ€å¤§å€¼äº†ï¼‰ï¼Œä¸æ–­åœ°è¿›è¡Œæ­¤é¡¹æ“ä½œï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…æ–°å…ƒç´ å¯¹åº”çš„å€¼å°äºé˜Ÿå°¾å…ƒç´ å¯¹åº”å€¼ã€‚ æ˜¾ç„¶ï¼Œé˜Ÿé¦–å…ƒç´ å¯¹åº”çš„å€¼å°±æ˜¯å½“å‰çª—å£çš„æœ€å¤§å€¼ï¼Œä½†éœ€è¦æ³¨æ„é˜Ÿé¦–å…ƒç´ æ˜¯å¦è¶…è¿‡äº†çª—å£çš„èŒƒå›´ã€‚ è¿™æ ·æˆ‘ä»¬åªéœ€è¦$O(n)$æ—¶é—´å†…å°±èƒ½å®Œæˆæ­¤é¢˜ã€‚ ","date":"2025-02-27","objectID":"/posts/f524d2b/:2:0","tags":["æ•°ç»„","é˜Ÿåˆ—","æ»‘åŠ¨çª—å£","ä¼˜å…ˆé˜Ÿåˆ—","å †","LeetCodeHot100"],"title":"239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼","uri":"/posts/f524d2b/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: vector\u003cint\u003e maxSlidingWindow(vector\u003cint\u003e\u0026 nums, int k) { deque\u003cint\u003e dq; // åˆå§‹åŒ–, å³å¤„ç†ç¬¬ä¸€ä¸ªçª—å£ä¸­çš„å€¼ for (int i = 0; i \u003c k; ++i) { // å°†ä¸å¯èƒ½æˆä¸ºæœ€å¤§å€¼çš„ç§»é™¤é˜Ÿåˆ— while (!dq.empty() \u0026\u0026 nums[dq.back()] \u003c nums[i]) { dq.pop_back(); } dq.push_back(i); } vector\u003cint\u003e ans = { nums[dq.front()] }; for (int i = 1; i \u003c= (nums.size() - k); ++i) { // å°†ä¸å¯èƒ½æˆä¸ºæœ€å¤§å€¼çš„ç§»é™¤é˜Ÿåˆ— while (!dq.empty() \u0026\u0026 nums[dq.back()] \u003c nums[i + k - 1]) { dq.pop_back(); } dq.push_back(i + k - 1); // å°†è¶…è¿‡çª—å£èŒƒå›´çš„å…ƒç´ ç§»é™¤é˜Ÿåˆ— while (!dq.empty() \u0026\u0026 dq.front() \u003c i) { dq.pop_front(); } ans.push_back(nums[dq.front()]); } return ans; } }; ","date":"2025-02-27","objectID":"/posts/f524d2b/:3:0","tags":["æ•°ç»„","é˜Ÿåˆ—","æ»‘åŠ¨çª—å£","ä¼˜å…ˆé˜Ÿåˆ—","å †","LeetCodeHot100"],"title":"239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼","uri":"/posts/f524d2b/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-02-26","objectID":"/posts/847b681/:1:0","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"560. å’Œä¸º K çš„å­æ•°ç»„","uri":"/posts/847b681/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rç›´æ¥æš´åŠ›æ³•ï¼Œéå†æ¯ä¸€ä¸ªå­æ•°ç»„æŸ¥çœ‹å…¶å’Œæ˜¯å¦ä¸ºkï¼Œå‘ç°ä¼šè¶…æ—¶ã€‚æš´åŠ›æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ï¼Œç“¶é¢ˆåœ¨äºå¯¹äºæ¯ä¸ª $i$ï¼Œæˆ‘ä»¬éœ€è¦æšä¸¾æ‰€æœ‰ä»¥$nums[i]$ä½œä¸ºç»“å°¾çš„å­æ•°ç»„æ¥åˆ¤æ–­å…¶å’Œæ˜¯å¦ç­‰äºkï¼Œè¿™ä¸€æ­¥æ˜¯å¦å¯ä»¥ä¼˜åŒ–å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œè€ƒè™‘åˆ°å­æ•°ç»„çš„è¿ç»­æ€§ç‰¹æ€§ï¼Œå¯ä»¥é€šè¿‡ å‰ç¼€å’Œ æ¥ä¼˜åŒ–ã€‚ å‰ç¼€å’Œæ˜¯æŒ‡æ•°ç»„ä¸­ä»ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°å½“å‰å…ƒç´ çš„å’Œã€‚å‡è®¾ $pre[i]$ ä¸º $[0, â€¦, i]$é‡Œæ‰€æœ‰æ•°çš„å’Œï¼Œé‚£ä¹ˆ $pre[i]$ å°±æ˜¯å‰ç¼€å’Œã€‚æœ‰äº†å‰ç¼€å’Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å…¶æ¥è®¡ç®—å­æ•°ç»„çš„å’Œ, â€œå­æ•°ç»„ [j, i] çš„å’Œä¸ºkâ€ å°±å¯ä»¥è½¬åŒ–ä¸ºä»¥ä¸‹ç­‰å¼ï¼š $$ pre[i] - pre[j - 1] = k $$ é€šè¿‡å˜å½¢å°±å¯ä»¥å¾—åˆ°ï¼š $$ pre[i] - k = pre[j - 1] $$ è¿™è¯´æ˜ï¼Œæƒ³è¦çŸ¥é“ä»¥ $nums[i]$ ç»“å°¾çš„å’Œä¸º $k$ çš„è¿ç»­å­æ•°ç»„çš„ ä¸ªæ•° æ—¶åªè¦ç»Ÿè®¡åœ¨ä½ç½®$i$ä¹‹å‰æœ‰å¤šå°‘ä¸ªå‰ç¼€å’Œä¸º $pre[i] - k$çš„$pre[j]$ ã€‚æ‰€ä»¥ï¼Œè€ƒè™‘å»ºç«‹å“ˆå¸Œè¡¨ï¼Œä»¥å‰ç¼€å’Œä¸ºkeyï¼Œè¯¥å‰ç¼€å’Œå‡ºç°æ¬¡æ•°ä¸ºvalueï¼Œä»å·¦å¾€å³è¾¹æ›´æ–°å“ˆå¸Œè¡¨è¾¹è®¡ç®—ç­”æ¡ˆï¼Œå³å¯åœ¨$O(n)$æ—¶é—´å†…å®Œæˆæ­¤é¢˜ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨æ„é€ å“ˆå¸Œè¡¨æ—¶éœ€è¦å…ˆæ’å…¥é”®å€¼å¯¹{0, 1} ä¸”åœ¨éå†æ—¶å¿…é¡»å…ˆåˆ¤æ–­æ˜¯å¦æœ‰ç¬¦åˆæ¡ä»¶çš„å‰ç¼€å’Œå†å¾€å“ˆå¸Œè¡¨é‡Œè®°å½•å½“å‰å‰ç¼€å’Œã€‚ ","date":"2025-02-26","objectID":"/posts/847b681/:2:0","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"560. å’Œä¸º K çš„å­æ•°ç»„","uri":"/posts/847b681/"},{"categories":["ç®—æ³•"],"content":"ä¸ºä»€ä¹ˆå¯ä»¥ä»å·¦å¾€å³ä¾æ¬¡æ›´æ–°å“ˆå¸Œè¡¨ï¼Ÿ\rå› ä¸º$pre[i]$çš„å€¼å¯ä»¥ç”± $pre[i - 1]$é€’æ¨è€Œæ¥ï¼Œå³ï¼š $$ pre[i] = pre[i - 1] + nums[i] $$ ","date":"2025-02-26","objectID":"/posts/847b681/:2:1","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"560. å’Œä¸º K çš„å­æ•°ç»„","uri":"/posts/847b681/"},{"categories":["ç®—æ³•"],"content":"ä¸ºä»€ä¹ˆåœ¨æ„é€ å“ˆå¸Œè¡¨æ—¶éœ€è¦å…ˆæ’å…¥é”®å€¼å¯¹{0, 1}?\rè¿™æ˜¯ä¸ºäº†å¤„ç†ç‰¹æ®Šæƒ…å†µã€‚å½“æˆ‘ä»¬å¤„ç†åˆ°ä½ç½® $i$ æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦çŸ¥é“çš„æ˜¯å…¨éƒ¨ä»¥ $nums[i]$ ç»“å°¾çš„å’Œä¸º $k$ çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ï¼Œè¿™è‚¯å®šåŒ…æ‹¬ç”±[0, â€¦, i]ç»„æˆçš„è¿ç»­å­æ•°ç»„ï¼Œå®ƒä»¬çš„å‰ç¼€å’Œå³ä¸º $pre[i]$ï¼Œå¦‚æœä¸å…ˆæ’å…¥é”®å€¼å¯¹{0, 1}å°±ä¼šæ¼æ‰ $pre[i] = k$ è¿™ä¸€æƒ…å†µï¼Œå¯¼è‡´æ¼ç®—ç­”æ¡ˆã€‚ ","date":"2025-02-26","objectID":"/posts/847b681/:2:2","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"560. å’Œä¸º K çš„å­æ•°ç»„","uri":"/posts/847b681/"},{"categories":["ç®—æ³•"],"content":"ä¸ºä»€ä¹ˆè¦å…ˆå¤„ç†å†è®°å½•ï¼Ÿ\rå› ä¸ºæˆ‘ä»¬çš„å“ˆå¸Œè¡¨è®°å½•çš„æ˜¯åœ¨è¯¥ä½ç½®ä¹‹å‰çš„å‰ç¼€å’Œæœ‰å“ªäº›ï¼Œä»¥åŠè¿™äº›å‰ç¼€å’Œå¯¹åº”çš„å‡ºç°æ¬¡æ•°ã€‚ ","date":"2025-02-26","objectID":"/posts/847b681/:2:3","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"560. å’Œä¸º K çš„å­æ•°ç»„","uri":"/posts/847b681/"},{"categories":["ç®—æ³•"],"content":"ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°è¿™ä¸€æ€è·¯ï¼Ÿ\rå› ä¸ºåœ¨ä»¥å‰åšåˆ°è¿‡ä½¿ç”¨å‰ç¼€å’Œçš„é¢˜ï¼Œå­¦ä¹ åˆ°äº†åœ¨è®¡ç®—å­æ•°ç»„å’Œæ—¶å¯ä»¥é‡‡ç”¨å‰ç¼€å’Œçš„å·®æ¥è¿›è¡Œè®¡ç®—ã€‚å› æ­¤ï¼Œåœ¨ç¬¬ä¸€æ¬¡åšåˆ°è¿™ç§é¢˜æƒ³ä¸åˆ°è¿™ç§æ€è·¯æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œåªè¦å¤šåšé¢˜ï¼Œå®šæœŸå¤ç›˜ï¼Œå°±ä¸€å®šä¼šè¶Šæ¥è¶Šå¼ºï¼ ","date":"2025-02-26","objectID":"/posts/847b681/:2:4","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"560. å’Œä¸º K çš„å­æ•°ç»„","uri":"/posts/847b681/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: int subarraySum(vector\u003cint\u003e\u0026 nums, int k) { unordered_map\u003cint, int\u003e unmap = { { 0, 1 } }; int pre = 0; int ans = 0; for (const auto num : nums) { pre += num; // è®¡ç®—å½“å‰ å‰ç¼€å’Œ å³pre[i] auto it = unmap.find(pre - k); if (it != unmap.end()) { ans += it-\u003esecond; } ++unmap[pre]; // å°†å½“å‰ å‰ç¼€å’Œ è¿›è¡Œè®°å½• } return ans; } }; ","date":"2025-02-26","objectID":"/posts/847b681/:3:0","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","å‰ç¼€å’Œ","LeetCodeHot100"],"title":"560. å’Œä¸º K çš„å­æ•°ç»„","uri":"/posts/847b681/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-02-24","objectID":"/posts/2aaae8d/:1:0","tags":["å­—ç¬¦ä¸²","å“ˆå¸Œè¡¨","æ»‘åŠ¨çª—å£","LeetCodeHot100"],"title":"3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²","uri":"/posts/2aaae8d/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\rä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ$l, r$åˆ†åˆ«æŒ‡å‘å½“å‰å­—ä¸²çš„å·¦å³è¾¹ç•Œï¼Œé€šè¿‡ä¸æ–­å°† r æŒ‡é’ˆå¾€åç§»ä½¿å¾—å­ä¸²ä¸æ–­å˜é•¿ï¼Œåœ¨ç§»åŠ¨ræŒ‡é’ˆçš„åŒæ—¶éœ€è¦åˆ¤æ–­æ–°å¢çš„å­—ç¬¦æ˜¯å¦å·²ç»åœ¨çª—å£ä¸­å‡ºç°äº†ï¼Œå¦‚æœå·²å‡ºç°åˆ™éœ€è¦ç§»åŠ¨læŒ‡é’ˆæ¥å°†é‡å¤çš„å­—ç¬¦ç§»åŠ¨å‡ºçª—å£ï¼Œè¿™æ ·é€šè¿‡ä¸€æ¬¡éå†å°±èƒ½æ‰¾åˆ°æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ã€‚ ","date":"2025-02-24","objectID":"/posts/2aaae8d/:2:0","tags":["å­—ç¬¦ä¸²","å“ˆå¸Œè¡¨","æ»‘åŠ¨çª—å£","LeetCodeHot100"],"title":"3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²","uri":"/posts/2aaae8d/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: int lengthOfLongestSubstring(string s) { /** * è®°å½•å…ƒç´ æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œç”¨äºåˆ¤æ–­ræŒ‡å‘çš„å­—ç¬¦æ˜¯å¦å·²ç»åœ¨å½“å‰çª—å£å·²ç»å­˜åœ¨ * ä»¥åŠå¸®åŠ© l æŒ‡é’ˆè¿›è¡Œç§»åŠ¨ */ unordered_map\u003cchar, int\u003e hash; int ans, l, r; for (l = r = ans = 0; r \u003c s.size(); ++r) { // åˆ¤æ–­å½“å‰çª—å£æ˜¯å¦å­˜åœ¨é‡å¤å­—ç¬¦ // éœ€è¦æ³¨æ„çš„æ˜¯ hash[s[r]] \u003e= lï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿å½“å‰å…ƒç´ æ˜¯å­˜åœ¨äºå½“å‰çª—å£çš„ // è‹¥æ²¡æœ‰è¿™ä¸ªæ¡ä»¶ï¼Œåªèƒ½è¯´æ˜ s[r] å­—ç¬¦åœ¨å‰é¢å‡ºç°è¿‡ï¼Œä½†ä¸èƒ½ç¡®ä¿å®ƒæ˜¯åœ¨å½“å‰çª—å£ä¸­çš„ // æ¯”å¦‚ abba å­—ç¬¦ä¸²ï¼Œå½“æˆ‘ä»¬çš„çª—å£å†…å­—ç¬¦ä¸º ba æ—¶ï¼Œhash[s[3]] çš„å€¼ä¸º 0 ä½†å…¶å¹¶ä¸åœ¨å½“å‰çª—å£å†… if (hash.find(s[r]) != hash.end() \u0026\u0026 hash[s[r]] \u003e= l) { ans = max(ans, r - l); l = hash[s[r]] + 1; // å°†é‡å¤çš„å­—ç¬¦ä¸²ç§»é™¤çª—å£ } // æ›´æ–°å­—ç¬¦æœ€åä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ hash[s[r]] = r; } // r - l è®¡ç®—æœ€åä¸€ä¸ªçª—å£çš„é•¿åº¦ return max(ans, r - l); } }; ","date":"2025-02-24","objectID":"/posts/2aaae8d/:3:0","tags":["å­—ç¬¦ä¸²","å“ˆå¸Œè¡¨","æ»‘åŠ¨çª—å£","LeetCodeHot100"],"title":"3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²","uri":"/posts/2aaae8d/"},{"categories":["ç®—æ³•"],"content":"åŠ›æ‰£ç¬¬42é¢˜ æ¥é›¨æ°´","date":"2025-02-23","objectID":"/posts/473665c/","tags":["åŒæŒ‡é’ˆ","æ•°ç»„","åŠ¨æ€è§„åˆ’","LeetCodeHot100"],"title":"42. æ¥é›¨æ°´","uri":"/posts/473665c/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-02-23","objectID":"/posts/473665c/:1:0","tags":["åŒæŒ‡é’ˆ","æ•°ç»„","åŠ¨æ€è§„åˆ’","LeetCodeHot100"],"title":"42. æ¥é›¨æ°´","uri":"/posts/473665c/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\ræ¥çš„é›¨æ°´æ€»é‡ä¸ºæ¯ä¸ªæŸ±å­èƒ½å¤Ÿæ¥çš„é›¨æ°´ä¹‹å’Œï¼Œè€Œæ¯ä¸ªæŸ±å­çš„æ¥æ°´é‡è®¡ç®—å…¬å¼ä¸ºï¼š $$ æ¥æ°´é‡=\\min(å·¦å³ä¸¤è¾¹æœ€é«˜æŸ±å­)âˆ’å½“å‰æŸ±å­çš„é«˜åº¦ $$ é‚£ä¹ˆç›´æ¥æ–°å»ºä¸¤ä¸ªæ•°ç»„ left_max å’Œ right_max æ¥å­˜å‚¨æ¯ä¸ªæŸ±å­å·¦å³ä¸¤ä¾§çš„æœ€å¤§é«˜åº¦ï¼Œ left_max[i] å’Œ right_max[i] åˆ†åˆ«è¡¨ç¤ºæŸ±å­iå·¦å³ä¸¤ä¾§çš„æœ€é«˜æŸ±å­é«˜åº¦( left_max[i] ä»å·¦å¾€å³è®¡ç®—ï¼Œ right_max[i] ä»å³å¾€å·¦è®¡ç®—)ï¼Œç„¶åå†é€šè¿‡éå†è®¡ç®—æ¯ä¸ªæŸ±å­çš„æ¥æ°´é‡ç´¯åŠ èµ·æ¥å³å¯ã€‚ ä¸Šé¢çš„æ–¹æ³•æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦å‡ä¸º$O(n)$ã€‚æ—¶é—´å·²ç»æ˜¯æœ€å¿«äº†ï¼Œé‚£ä¹ˆç©ºé—´ä¸Šè¿˜èƒ½ä¸èƒ½è¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿä¸Šé¢çš„æ–¹æ³•ç©ºé—´è€—è´¹ä¸»è¦æ¥è‡ªäºæ–°å»ºçš„ä¸¤ä¸ªå­˜å‚¨æ•°ç»„ã€‚ç”±äºæ•°ç»„left_maxæ˜¯ä»å·¦å¾€å³è®¡ç®—ï¼Œæ•°ç»„right_maxæ˜¯ä»å³å¾€å·¦è®¡ç®—ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆå’Œä¸¤ä¸ªå˜é‡ä»£æ›¿ä¸¤ä¸ªæ•°ç»„ã€‚ å¯¹äºå·¦æŒ‡é’ˆleftæ¥è¯´ï¼Œå…¶å·¦å³ä¸¤ä¾§çš„æœ€å¤§é«˜åº¦åˆ†åˆ«ä¸ºleft_left_maxå’Œ left_right_maxï¼›åŒç†å³æŒ‡é’ˆæœ‰right_left_maxå’Œ right_right_maxã€‚ç”±äº$right \u003e left$ï¼Œæ•…$right\\_left\\_max \\ge left\\_left\\_max$ ä¸” $left\\_right\\_max \\ge right\\_right\\_max$ï¼Œè¿™ä¸¤ä¸ªä¸ç­‰å¼ç”»ä¸ªå›¾ä¾¿å¯ç›´æ¥çœ‹å‡ºã€‚ ç”±ä¸Šé¢çš„ä¸ç­‰å¼å¯çŸ¥ï¼š è‹¥$right\\_right\\_max \u003e left\\_left\\_max$ï¼Œåˆ™å¿…æœ‰$left\\_right\\_max \u003e left\\_left\\_max$ï¼Œåˆleft_left_maxæ˜¯å¯çŸ¥çš„ï¼Œ é‚£ä¹ˆå°±å¯ä»¥è®¡ç®—leftæŒ‡å‘çš„æŸ±å­çš„æ¥æ°´é‡ã€‚ è‹¥$right\\_right\\_max \u003c left\\_left\\_max$ï¼Œåˆ™å¿…æœ‰$right\\_left\\_max \u003e right\\_right\\_max$ï¼Œåˆright_right_maxæ˜¯å¯çŸ¥çš„ï¼Œ é‚£ä¹ˆå°±å¯ä»¥è®¡ç®—rightæŒ‡å‘çš„æŸ±å­çš„æ¥æ°´é‡ã€‚ åœ¨å¤„ç†äº†leftæŒ‡å‘çš„æŸ±å­åï¼Œ++leftå‘å³ç§»; åœ¨å¤„ç†äº†rightæŒ‡å‘çš„æŸ±å­åï¼Œ--rightå‘å·¦ç§»ï¼Œç›´åˆ°å…¨éƒ¨æŸ±å­éƒ½è¢«å¤„ç†ã€‚ ","date":"2025-02-23","objectID":"/posts/473665c/:2:0","tags":["åŒæŒ‡é’ˆ","æ•°ç»„","åŠ¨æ€è§„åˆ’","LeetCodeHot100"],"title":"42. æ¥é›¨æ°´","uri":"/posts/473665c/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: int trap(vector\u003cint\u003e\u0026 height) { int ans, left, left_max; int right, right_max; ans = left = 0; right = height.size() - 1; left_max = right_max = 0; while (left \u003c= right) { // æ›´æ–°æœ€å¤§å€¼ left_max = max(left_max, height[left]); right_max = max(right_max, height[right]); // åˆ¤æ–­å·¦å³ä¸¤è¾¹å“ªè¾¹çš„æŸ±å­å¯ä»¥è¢«è®¡ç®— if (left_max \u003e right_max) { ans += (right_max - height[right]); --right; } else { ans += (left_max - height[left]); ++left; } } return ans; } }; ","date":"2025-02-23","objectID":"/posts/473665c/:3:0","tags":["åŒæŒ‡é’ˆ","æ•°ç»„","åŠ¨æ€è§„åˆ’","LeetCodeHot100"],"title":"42. æ¥é›¨æ°´","uri":"/posts/473665c/"},{"categories":["ç®—æ³•"],"content":"leetcodeç¬¬15é¢˜","date":"2025-02-22","objectID":"/posts/df574ae/","tags":["æ•°ç»„","åŒæŒ‡é’ˆ","æ’åº","LeetCodeHot100"],"title":"15. ä¸‰æ•°ä¹‹å’Œ","uri":"/posts/df574ae/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®\r","date":"2025-02-22","objectID":"/posts/df574ae/:1:0","tags":["æ•°ç»„","åŒæŒ‡é’ˆ","æ’åº","LeetCodeHot100"],"title":"15. ä¸‰æ•°ä¹‹å’Œ","uri":"/posts/df574ae/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\ré¢˜ç›®ä¸­è¦æ±‚æ‰¾åˆ°æ‰€æœ‰ ã€Œä¸é‡å¤ã€ä¸”å’Œä¸º0çš„ä¸‰å…ƒç»„ï¼Œè¿™ä¸ªã€Œä¸é‡å¤ã€çš„è¦æ±‚ä½¿å¾—æ— æ³•ç›´æ¥ä½¿ç”¨ä¸‰é‡å¾ªç¯æšä¸¾æ‰€æœ‰çš„ä¸‰å…ƒç»„æ‰¾åˆ°ç­”æ¡ˆã€‚å½“ç„¶ï¼Œå¯ä»¥ç›´æ¥ç”¨ä¸‰é‡å¾ªç¯æšä¸¾æ¯ä¸ªç­”æ¡ˆï¼Œå†ä½¿ç”¨å“ˆå¸Œè¡¨è¿›è¡Œå»é‡(å³å…ˆå¯¹å¾—åˆ°çš„ç­”æ¡ˆè¿›è¡Œæ’åºï¼Œæ¯”å¦‚ä»å°åˆ°å¤§ï¼Œå†è½¬åŒ–æˆstringåå­˜æ”¾è¿›unordered_set)ï¼Œå¾—åˆ°æœ€ç»ˆç­”æ¡ˆã€‚è¿™ç§åšæ³•æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½å¾ˆé«˜ï¼Œå› æ­¤éœ€è¦æ¢ä¸€ç§æ€è·¯æ¥è€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚ é‡å¤çš„ç­”æ¡ˆå½¢å¼ä¸ºï¼š$(a, b, c)ã€(a, c, b)ã€(b, a, c)$â€¦â€¦ å‡è®¾$a \\le b \\le c$ï¼Œå¦‚æœèƒ½ä¿è¯åªæœ‰$(a, b, c)$è¿™ç§å½¢å¼çš„ç­”æ¡ˆä¼šè¢«æšä¸¾ï¼Œå°±èƒ½å¤Ÿç›´æ¥å»é™¤æ‰é‡å¤çš„ç­”æ¡ˆï¼Œè€Œä¸å¿…å†ä½¿ç”¨å“ˆå¸Œè¡¨æ¥è¿›è¡Œå»é‡äº†ã€‚ è¦å®ç°è¿™ä¸€ç‚¹ï¼Œå°±å¯ä»¥é€šè¿‡å°†æ•°ç»„ä¸­çš„å…ƒç´ ä»å°è¾¾åˆ°è¿›è¡Œæ’åºï¼Œéšåä½¿ç”¨ä¸‰é‡å¾ªç¯è¿›è¡Œéå†ï¼Œä¸” ã€Œæ¯é‡å¾ªç¯ç›¸é‚»ä¸¤æ¬¡æšä¸¾çš„å…ƒç´ ä¸èƒ½ç›¸åŒã€ï¼Œå¦åˆ™ä¹Ÿä¼šé€ æˆé‡å¤ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªæ’å®Œåºåçš„æ•°ç»„ä¸º$[-1, 0, 1, 1, 2, 3]$ï¼Œç¬¬ä¸€æ¬¡æšä¸¾åˆ°çš„ä¸‰å…ƒç»„ä¸º$(-1, 0, 1)$ ï¼Œå¦‚æœç¬¬ä¸‰é‡å¾ªç¯ç»§ç»­æšä¸¾ä¸‹ä¸€ä¸ªç›¸é‚»å…ƒç´ ï¼Œé‚£ä¹ˆä»ç„¶ä¸º $(-1, 0, 1)$ï¼Œè¿™å°±äº§ç”Ÿäº†é‡å¤ï¼Œå› æ­¤å°±éœ€è¦å°†ç¬¬ä¸‰é‡çš„å¾ªç¯è·³åˆ°ä¸‹ä¸€ä¸ªä¸ç›¸åŒçš„å…ƒç´ ï¼Œå³æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ 3ï¼Œæšä¸¾ä¸‰å…ƒç»„$(-1, 0, 3)$ã€‚ è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å¯¹åˆå§‹ç‰ˆæœ¬è¿›è¡Œäº†ç©ºé—´ä¸Šçš„ä¼˜åŒ–ï¼Œä¸‹é¢ç»™å‡ºä¼ªä»£ç ï¼š nums.sort() for first = 0 .. n-1 // åªæœ‰å’Œä¸Šä¸€æ¬¡æšä¸¾çš„å…ƒç´ ä¸ç›¸åŒï¼Œæˆ‘ä»¬æ‰ä¼šè¿›è¡Œæšä¸¾ if first == 0 or nums[first] != nums[first-1] then for second = first+1 .. n-1 if second == first+1 or nums[second] != nums[second-1] then for third = second+1 .. n-1 if third == second+1 or nums[third] != nums[third-1] then // åˆ¤æ–­æ˜¯å¦æœ‰ a+b+c==0 check(first, second, third) ç©ºé—´ä¸Šè¿›è¡Œäº†ä¼˜åŒ–ï¼Œé‚£ä¹ˆæ—¶é—´ä¸Šèƒ½ä¸èƒ½è¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿæ±‚$a + b + c = 0$å¯ä»¥çœ‹ä½œ ã€Œç»™å®šä¸€ä¸ªæ•° $a$ï¼Œæ‰¾åˆ°å‰©ä½™ä¸¤ä¸ªæ•°çš„å’Œä¸º$-a$ ã€ï¼Œè®¾$target = 0 - a$ï¼Œé‚£ä¹ˆé‡Œé¢çš„ä¸¤é‡å¾ªç¯åšçš„äº‹å°±æ˜¯æ‰¾åˆ°ä¸¤ä¸ªæ•°$b, c$ä½¿å¾—$b + c = target$ï¼Œè€Œæˆ‘ä»¬çš„æ•°ç»„åˆæ˜¯æœ‰åºçš„ï¼Œé‚£å°±å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆæ³•æ¥æ›¿æ¢è¿™ä¸¤é‡å¾ªç¯ï¼Œä»è€Œä½¿å¾—æ—¶é—´å¤æ‚åº¦é™ä½ä¸º$O(n^2)$ã€‚ ","date":"2025-02-22","objectID":"/posts/df574ae/:2:0","tags":["æ•°ç»„","åŒæŒ‡é’ˆ","æ’åº","LeetCodeHot100"],"title":"15. ä¸‰æ•°ä¹‹å’Œ","uri":"/posts/df574ae/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \rclass Solution { public: vector\u003cvector\u003cint\u003e\u003e threeSum(vector\u003cint\u003e\u0026 nums) { vector\u003cvector\u003cint\u003e\u003e result; // æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºè¿›è¡Œæ’åº sort(nums.begin(), nums.end()); // éå†æ•°ç»„ for (int i = 0; i \u003c nums.size(); i++) { // é¿å…é‡å¤çš„ nums[i] å€¼ if (i \u003e 0 \u0026\u0026 nums[i] == nums[i - 1]) { continue; } // åŒæŒ‡é’ˆæ³•æŸ¥æ‰¾ä¸‰å…ƒç»„ int left = i + 1, right = nums.size() - 1; while (left \u003c right) { int sum = nums[i] + nums[left] + nums[right]; if (sum == 0) { // æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„ result.push_back({ nums[i], nums[left], nums[right] }); // é¿å…é‡å¤çš„ nums[left] å’Œ nums[right] å€¼ while (left \u003c right \u0026\u0026 nums[left] == nums[left + 1]) { left++; } while (left \u003c right \u0026\u0026 nums[right] == nums[right - 1]) { right--; } left++; right--; } else if (sum \u003c 0) { left++; } else { right--; } } } return result; } }; ","date":"2025-02-22","objectID":"/posts/df574ae/:3:0","tags":["æ•°ç»„","åŒæŒ‡é’ˆ","æ’åº","LeetCodeHot100"],"title":"15. ä¸‰æ•°ä¹‹å’Œ","uri":"/posts/df574ae/"},{"categories":["ç®—æ³•"],"content":"leetcodeç¬¬1é¢˜","date":"2025-02-17","objectID":"/posts/7d4248c/","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","LeetCodeHot100"],"title":"1. ä¸¤æ•°ä¹‹å’Œ","uri":"/posts/7d4248c/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®æè¿°ï¼š ","date":"2025-02-17","objectID":"/posts/7d4248c/:0:0","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","LeetCodeHot100"],"title":"1. ä¸¤æ•°ä¹‹å’Œ","uri":"/posts/7d4248c/"},{"categories":["ç®—æ³•"],"content":"æ€è·¯\ræ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ çš„ç®—æ³•æ€è·¯å¾ˆç®€å•ï¼Œç›´æ¥é‡‡ç”¨æš´åŠ›æ³•ä½¿ç”¨ä¸¤å±‚å¾ªç¯éå†æ¯ä¸€ç§å¯èƒ½ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ç­”æ¡ˆã€‚ è¿™é‡Œè¯¦ç»†è¯´æ˜ä¸€ä¸‹æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ çš„ç®—æ³•ï¼Œæš´åŠ›æ³•ä¹‹æ‰€ä»¥æ…¢æ˜¯å› ä¸ºå¯»æ‰¾ target - x çš„æ—¶é—´å¤æ‚åº¦è¿‡é«˜ã€‚é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥åŠ é€Ÿå¯»æ‰¾å…ƒç´  target - x æ˜¯å¦å­˜åœ¨ä¸”å­˜åœ¨æ—¶å¯ä»¥çŸ¥é“å…¶ç´¢å¼•å‘¢ï¼Ÿæœ‰çš„ï¼Œé‚£å°±æ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨æ¥åšï¼Œä»¥target - x ä¸ºkeyï¼Œä»¥ç´¢å¼•ä¸ºvalueã€‚è¿™æ ·ï¼Œå¯»æ‰¾target - xçš„æ—¶é—´å¤æ‚åº¦å°±å˜ä¸ºäº† $O(1)$ï¼Œæå¤§åœ°æé«˜äº†æ•ˆç‡ã€‚ å…·ä½“æ¥è¯´ï¼Œå¯¹äºéå†çš„æ¯ä¸ªå…ƒç´ ï¼Œå…ˆåˆ¤æ–­å…¶target - xæ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›å¯¹åº”çš„ä¸‹æ ‡ï¼›è‹¥ä¸å­˜åœ¨ï¼Œåˆ™å°†xå­˜å…¥å“ˆå¸Œè¡¨ï¼Œæ–¹ä¾¿åç»­çš„æŸ¥æ‰¾ã€‚ ","date":"2025-02-17","objectID":"/posts/7d4248c/:1:0","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","LeetCodeHot100"],"title":"1. ä¸¤æ•°ä¹‹å’Œ","uri":"/posts/7d4248c/"},{"categories":["ç®—æ³•"],"content":"ä»£ç \r// æš´åŠ›æ³• class Solution { public: vector\u003cint\u003e twoSum(vector\u003cint\u003e\u0026 nums, int target) { for (int i = 0; i \u003c nums.size(); ++i) { for (int j = i + 1; j \u003c nums.size(); ++j) { if ((nums[i] + nums[j]) == target) { return { i, j }; } } } return {}; } }; // å“ˆå¸Œè¡¨æ³• class Solution { public: vector\u003cint\u003e twoSum(vector\u003cint\u003e\u0026 nums, int target) { unordered_map\u003cint, int\u003e hashtable; for (int i = 0; i \u003c nums.size(); ++i) { unordered_map\u003cint, int\u003e::iterator it = hashtable.find(target - nums[i]); if (it != hashtable.end()) { return { it-\u003esecond, i }; } hashtable[nums[i]] = i; } return {}; } }; ","date":"2025-02-17","objectID":"/posts/7d4248c/:2:0","tags":["æ•°ç»„","å“ˆå¸Œè¡¨","LeetCodeHot100"],"title":"1. ä¸¤æ•°ä¹‹å’Œ","uri":"/posts/7d4248c/"},{"categories":["ç®—æ³•"],"content":"è¯¦ç»†ä»‹ç»äº† meanShift ç®—æ³•","date":"2025-02-16","objectID":"/posts/60e3fcc/","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"å‰è¨€\ræœ€è¿‘åœ¨çœ‹çš„ä¸€ç¯‡å¸ƒå±€è®ºæ–‡ï¼Œå‘ç°å…¶å°† Mean Shift ç®—æ³•æ‰©å±•æ¥è¿›è¡Œèšç±»æ“ä½œï¼Œè€Œæƒ³è¦è¯»æ‡‚æ–‡ç« å°±å¿…é¡»å…ˆç†è§£æ­¤ç®—æ³•ï¼Œæ•…æ­¤æ–‡ç« è®°å½•çš„å°±æ˜¯æˆ‘å¯¹è¯¥ç®—æ³•çš„ç†è§£ï¼Œè‹¥æœ‰ç†è§£é”™è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿ç•™è¨€æŒ‡æ­£ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:1:0","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"ç®€ä»‹\rMean Shift æ˜¯ä¸€ç§ã€ŒåŸºäºå¯†åº¦ã€çš„èšç±»ç®—æ³•ï¼Œå®ƒæ˜¯ä¸€ç§éå‚æ•°èšç±»æ–¹æ³•ï¼ˆæ— éœ€å¼€å§‹å‰æŒ‡å®šç°‡æ•°ï¼‰ï¼Œå¯ä»¥è‡ªåŠ¨ä»æ•°æ®ç‚¹çš„åˆ†å¸ƒä¸­æ¨æ–­å‡ºç°‡çš„æ•°é‡ã€‚è¯¥ç®—æ³•ä¼šè®©æ•°æ®ç‚¹æœç€å¯†åº¦æ›´é«˜çš„åœ°æ–¹è¿›è¡Œå¿«é€Ÿç§»åŠ¨ï¼Œç›´åˆ°è¾¾åˆ°è¯¥æ•°æ®ç‚¹æ‰€åœ¨åŒºåŸŸçš„å±€éƒ¨å¯†åº¦å³°å€¼åœ°ï¼ˆå³ç°‡ä¸­å¿ƒï¼‰ã€‚ é€šä¿—æ¥è¯´ï¼Œå°†å¯†åº¦å³°å€¼æ¯”ä½œå±±é¡¶ï¼Œæ•°æ®ç‚¹è§†ä¸ºç™»å±±è€…ï¼Œè¯¥ç®—æ³•å°±æ˜¯è®©æ¯ä¸ªç™»å±±è€…æ²¿ç€æœ€å¿«çš„è·¯å¾„ç™»ä¸Šç¦»è‡ªå·±æœ€è¿‘çš„å±±é¡¶ï¼Œç™»ä¸ŠåŒä¸€ä¸ªå±±é¡¶çš„ç™»å±±è€…å°±å±äºåŒä¸€ä¸ªç°‡ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:2:0","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"å¸¦å®½\rå¸¦å®½(bandwidth)æ˜¯Mean Shift ç®—æ³•å”¯ä¸€éœ€è¦æŒ‡å®šçš„å‚æ•°ï¼Œå®ƒç”¨äºç¡®å®šæ¯ä¸ªç‚¹çš„é‚»åŸŸã€‚ä»¥å½“å‰ç‚¹ä¸ºåœ†å¿ƒï¼Œå¸¦å®½ä¸ºåŠå¾„ç”»åœ†ï¼Œæ‰€ç”»å‡ºçš„åœ†å°±æ˜¯è¯¥ç‚¹çš„é‚»åŸŸï¼Œåœ¨é‚»åŸŸå†…çš„ç‚¹å°±æ˜¯è¯¥ç‚¹çš„é‚»å±…ã€‚ å¸¦å®½éå¸¸é‡è¦ï¼Œå®ƒä¼šå½±å“ç°‡çš„å¤§å°ï¼š å°å¸¦å®½ã€‚è¿™ä¼šå½¢æˆè®¸å¤šå°ç°‡ï¼Œå› ä¸ºåªæœ‰è¿‘è·ç¦»çš„ç‚¹æ‰ä¼šå½¢æˆä¸€ä¸ªç¾¤é›†ã€‚ å¤§å¸¦å®½ã€‚è¿™ä¼šå½¢æˆè¾ƒå°‘çš„å¤§ç°‡ï¼Œå› ä¸ºè·ç¦»è¿œçš„ç‚¹ä¹Ÿå¯ä»¥å½¢æˆä¸€ä¸ªç¾¤é›†ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:3:0","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"æ ¸å‡½æ•°\råœ¨ Mean Shift ç®—æ³•ä¸­ï¼Œæ ¸å‡½æ•°çš„ä½œç”¨å°±æ˜¯ç”¨æ¥è¡¡é‡å½“å‰ç§»åŠ¨ç‚¹çš„é‚»å±…å¯¹è¯¥ç§»åŠ¨ç‚¹çš„ä¸‹ä¸€ä¸ªä½ç½®çš„å½±å“ç¨‹åº¦(ç”±äºè¯¥ç‚¹æ˜¯ä¸æ–­ç§»åŠ¨çš„ï¼Œæ‰€ä»¥å…¶é‚»å±…ä¹Ÿä¼šä¸æ–­å˜åŒ–)ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:4:0","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"ä¸ºä»€ä¹ˆä½¿ç”¨æ ¸å‡½æ•°ï¼Ÿ\ræ ¸å‡½æ•°æœ‰åŠ©äºå¹³æ»‘æ•°æ®å¹¶ç¡®ä¿è¿œç¦»ä¸­å¿ƒçš„ç‚¹ä¸ä¼šè¿‡åº¦å½±å“ç»“æœã€‚å®ƒä½¿å¾— Mean Shift ç®—æ³•å…³æ³¨æ•°æ®ä¸­çš„å±€éƒ¨æƒ…å†µè€Œä¸æ˜¯å…¨å±€ï¼Œæœ‰åŠ©äºè¿›è¡Œåˆ†ç±»ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:4:1","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"æ ¸å‡½æ•°ç±»å‹\ræ ¸å‡½æ•°æœ‰éå¸¸å¤šçš„ç±»å‹ï¼Œæ¯”å¦‚Uniform Kernelã€Epanechnikov Kernelç­‰ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„çš„æ˜¯é«˜æ–¯æ ¸å‡½æ•°(Gaussian Kernel)ï¼š $$ K\\left(\\frac{x - x_i}{h}\\right) = \\exp\\left(-\\frac{||x - x_i||^2}{2h^2}\\right) $$ $x$: å½“å‰ç‚¹åæ ‡ $x_i$: å½“å‰ç‚¹çš„é‚»å±…åæ ‡ $h$: å¸¦å®½ ç‰©ç†æ„ä¹‰: è·ç¦»$x$è¶Šè¿‘çš„$x_i$ï¼Œæƒé‡è¶Šå¤§ï¼›è¶…è¿‡å¸¦å®½$h$çš„ç‚¹æƒé‡ä¸º0 ","date":"2025-02-16","objectID":"/posts/60e3fcc/:4:2","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"æ ¸å¯†åº¦ä¼°è®¡(Kernel Density Estimation, KDE)\råœ¨Mean Shiftç®—æ³•ä¸­ï¼ŒKDE çš„ä½œç”¨æ˜¯ç”¨æ¥ä¼°ç®—æ•°æ®ç‚¹çš„å±€éƒ¨å¯†åº¦åˆ†å¸ƒã€‚å®ƒé€šè¿‡æ ¸å‡½æ•°å°†æ¯ä¸ªç‚¹çš„é‚»åŸŸå†…çš„å…¶ä»–ç‚¹è¿›è¡ŒåŠ æƒï¼Œæä¾›ä¸€ä¸ªå¹³æ»‘çš„ã€è¿ç»­çš„å¯†åº¦ä¼°è®¡ï¼Œå¸®åŠ©è¯†åˆ«å±€éƒ¨å¯†åº¦å³°å€¼(å³å‘Šè¯‰æˆ‘ä»¬å±±é¡¶åœ¨å“ª)ï¼Œç¡®å®šç‚¹çš„ç§»åŠ¨æ–¹å‘ã€‚KDEå…·ä½“å…¬å¼å¦‚ä¸‹: $$ f(x) = \\frac{1}{nh^d} \\sum_{i=1}^{n} K\\left(\\frac{x - x_i}{h}\\right) $$ $n$: æ•°æ®é›†ä¸­çš„ç‚¹æ•° $h$: å¸¦å®½ $d$: æ•°æ®çš„ç»´åº¦ $K\\left(\\frac{x - x_i}{h}\\right)$: æ ¸å‡½æ•°ï¼ŒåŠ æƒæ¯ä¸ªç‚¹ $x_i$ å¯¹å½“å‰ç‚¹çš„å¯†åº¦è´¡çŒ® ","date":"2025-02-16","objectID":"/posts/60e3fcc/:5:0","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"å‡å€¼æ¼‚ç§»å‘é‡(Mean Shift Vector)\råœ¨ä½¿ç”¨KDEç¡®å®šäº†ç§»åŠ¨æ–¹å‘åï¼Œå°±éœ€è¦ä½¿ç”¨å‡å€¼æ¼‚ç§»å‘é‡æ¥å°†è¯¥æ•°æ®ç‚¹ç§»åŠ¨åˆ°å½“å‰çš„å±±é¡¶ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:6:0","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"æ€ä¹ˆå¾—å‡ºå‡å€¼æ¼‚ç§»å‘é‡çš„å…¬å¼ï¼Ÿ\rå®é™…ä¸Šæˆ‘ä»¬è¦å¯»æ‰¾çš„å±€éƒ¨å¯†åº¦å³°å€¼å°±æ˜¯KDEçš„å±€éƒ¨æå¤§å€¼ã€‚æ‰€ä»¥ï¼Œå¯ä»¥é€šè¿‡æ¢¯åº¦ä¸Šå‡æ³•æ¥å°†ç‚¹ç§»åŠ¨åˆ°å±€éƒ¨æå¤§å€¼å¯¹åº”çš„ç‚¹ä½ç½®(å³åˆ©ç”¨å¯¼æ•°æ¥è¿›è¡Œç§»åŠ¨)ã€‚ æ­¥éª¤1: å†™å‡ºå¯†åº¦æ¢¯åº¦è¡¨è¾¾å¼\rå¯¹$f(x)$æ±‚æ¢¯åº¦ï¼š $$ \\nabla f(x) = \\frac{1}{nh^d} \\sum_{i=1}^{n} \\nabla K\\left( \\frac{x - x_i}{h} \\right) $$ æ­¥éª¤2: é€‰æ‹©æ ¸å‡½æ•°ï¼ˆä»¥é«˜æ–¯æ ¸ä¸ºä¾‹ï¼‰\ré«˜æ–¯æ ¸å‡½æ•°å¯¹åº”çš„æ¢¯åº¦ä¸ºï¼š $$ \\nabla K\\left( \\frac{x - x_i}{h} \\right) = K\\left( \\frac{x - x_i}{h} \\right) \\cdot \\left( - \\frac{x - x_i}{h^2} \\right) $$ æ­¥éª¤3: ä»£å…¥æ¢¯åº¦è¡¨è¾¾å¼\rå°†é«˜æ–¯æ ¸å‡½æ•°çš„æ¢¯åº¦ä»£å…¥$\\nabla f(x)$ï¼š $$ \\nabla f(x) = \\frac{1}{nh^d} \\sum_{i=1}^{n} K\\left( \\frac{x - x_i}{h} \\right) \\cdot \\left( - \\frac{x - x_i}{h^2} \\right) $$ æ•´ç†åï¼š $$ \\nabla f(x) = \\frac{1}{nh^{d+2}} \\sum_{i=1}^{n} K\\left( \\frac{x - x_i}{h} \\right) (x_i - x) $$ å³ï¼š $$ \\nabla f(x) \\propto \\sum_{i=1}^{n} K\\left(\\frac{x-x_{i}}{h}\\right)\\left(x_{i}-x\\right) $$ è¯¥è¡¨è¾¾å¼çš„ç»“æ„å¯ä»¥æ‹†è§£ä¸ºï¼š $\\sum_{i=1}^{n} K\\left(\\frac{x-x_{i}}{h}\\right) \\cdot x_i$ï¼šæ‰€æœ‰é‚»å±…ç‚¹çš„åŠ æƒä½ç½®å’Œï¼ˆé‚»å±…ç‚¹çš„åŠ æƒå¹³å‡ï¼‰ $\\sum_{i=1}^{n} K\\left(\\frac{x-x_{i}}{h}\\right) \\cdot x$ï¼šå½“å‰ç‚¹çš„åŠ æƒå’Œï¼ˆå½“å‰ä½ç½®çš„åŠ æƒå¹³å‡ï¼‰ ç»“æœæ˜¯ä¸¤è€…çš„å·®å€¼ï¼Œè¡¨ç¤ºå¯†åº¦æ¢¯åº¦çš„æ–¹å‘ æ­¥éª¤4: å¾—å‡ºå‡å€¼æ¼‚ç§»å‘é‡\rä¸Šé¢çš„æ¢¯åº¦è¡¨è¾¾å¼åªæ˜¯ç»™å‡ºäº†ç§»åŠ¨æ–¹å‘ï¼Œå¹¶æ²¡æœ‰å‘Šè¯‰æˆ‘ä»¬åº”è¯¥ç§»åŠ¨å¤šå°‘ï¼Œå®ƒçš„æ•°å€¼å¤§å°æœªå¿…é€‚åˆç›´æ¥ä½œä¸ºç§»åŠ¨æ­¥é•¿ã€‚æ­¤å¤–ï¼Œæ•°å€¼å¤§å°ä¾èµ–äºæ•°æ®çš„å°ºåº¦ï¼Œæ¯”å¦‚æ•°æ®åˆ†å¸ƒçš„å¯†åº¦å’Œå¸¦å®½ä¼šå½±å“æ¢¯åº¦çš„ç»å¯¹å€¼å¤§å°ï¼Œå¯¼è‡´æ­¥é•¿éš¾ä»¥æ§åˆ¶ã€‚ è¿™æ—¶å°±éœ€è¦è¿›è¡Œå½’ä¸€åŒ–æ“ä½œï¼Œè®©æ¢¯åº¦è¡¨è¾¾å¼çš„ç»“æœè½¬æ¢æˆ åŠ æƒå¹³å‡ä½ç½®ï¼ˆè¡¨ç¤ºåœ¨å½“å‰ç‚¹é‚»åŸŸå†…ï¼Œå¯†åº¦ä¸­å¿ƒçš„ä½ç½®ï¼‰ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¸æ•°æ®è§„æ¨¡ã€å¯†åº¦ç­‰å› ç´ ç›¸å…³çš„æ•°å€¼ã€‚ åˆ©ç”¨åŠ æƒå¹³å‡ä½ç½®å³å¯å¾—åˆ°å‡å€¼æ¼‚ç§»å‘é‡(è¡¨ç¤ºäº†ç§»åŠ¨æ–¹å‘å’Œç§»åŠ¨è·ç¦»)ï¼š $$ m(x) = \\frac{\\sum_{i=1}^{n} K\\left( \\frac{x - x_i}{h} \\right) x_i} {\\sum_{i=1}^{n} K\\left( \\frac{x - x_i}{h} \\right)} - x $$ å³: $$ m(x)=åŠ æƒå¹³å‡ä½ç½®âˆ’å½“å‰ä½ç½® $$ è¿™æ ·å°±å¯ä»¥å¾—åˆ°æ–°ä½ç½®çš„è®¡ç®—å…¬å¼äº†ï¼š $$ x_{new} = x + m(x) = \\frac{\\sum_{i=1}^{n} K\\left( \\frac{x - x_i}{h} \\right) x_i} {\\sum_{i=1}^{n} K\\left( \\frac{x - x_i}{h} \\right)} $$ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:6:1","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"ç®—æ³•æµç¨‹\r","date":"2025-02-16","objectID":"/posts/60e3fcc/:7:0","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"Step 1: åˆå§‹åŒ–\ré€‰æ‹©åˆé€‚çš„å¸¦å®½$h$ï¼Œæ¯”å¦‚é€šè¿‡estimate_bandwidthå‡½æ•°ã€ç»éªŒæ³•ç­‰æ–¹å¼æ¥é€‰æ‹©åˆé€‚çš„å¸¦å®½ é€‰æ‹©åˆé€‚çš„æ”¶æ•›é˜ˆå€¼$\\varepsilon$ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:7:1","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"Step 2: è¿­ä»£æ›´æ–°\rå¯¹äºæ•°æ®ç‚¹$x$ï¼Œåˆ©ç”¨å‡å€¼æ¼‚ç§»å‘é‡è¿­ä»£çš„æ›´æ–°å…¶ä½ç½®ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:7:2","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"Step 3: æ”¶æ•›åˆ¤æ–­\råˆ¤æ–­æ•°æ®ç‚¹$x$æ˜¯å¦æ”¶æ•›ï¼Œå³åˆ¤æ–­ä¸‹é¢ä¸ç­‰å¼æ˜¯å¦æˆç«‹ï¼š $$ ||x_{new} - x||\u003c \\varepsilon $$ $\\varepsilon$ ä¸ºæŒ‡å®šé˜ˆå€¼ï¼Œæ¯”å¦‚ä¸º0.001 ","date":"2025-02-16","objectID":"/posts/60e3fcc/:7:3","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"Step 4: é‡å¤ä¸Šè¿°æ­¥éª¤\rå¯¹äºæ¯ä¸ªæ•°æ®ç‚¹ä¾æ¬¡é‡å¤step2å’Œstep3ï¼Œä½¿å¾—å…¨éƒ¨çš„æ•°æ®ç‚¹éƒ½æ”¶æ•›(å³éƒ½è¾¾åˆ°å±±é¡¶)ï¼Œç§»åŠ¨åˆ°åŒä¸€ â€œå±±é¡¶â€ çš„æ•°æ®ç‚¹å±äºåŒä¸€ç±»ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:7:4","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"Step 5: åˆå¹¶è¿‡è¿‘çš„ç°‡\rå¯¹äºç°‡ä¸­å¿ƒè¿‡è¿‘çš„ç°‡è¿›è¡Œåˆå¹¶ï¼Œæ¯”å¦‚ç°‡ä¸­å¿ƒè·ç¦»å°äº $h/2$ çš„ä¸¤ä¸ªç°‡å°±ä¼šè¢«åˆå¹¶æˆä¸€ä¸ªç°‡ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:7:5","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["ç®—æ³•"],"content":"å…·ä½“ä¾‹å­\rå‡è®¾æœ‰ä¸€ç»„äºŒç»´æ•°æ®ç‚¹ï¼Œè¿™äº›ç‚¹çš„åˆ†å¸ƒå¦‚ä¸‹ï¼š ç‚¹ç¼–å· åæ ‡ A (1,2) B (2,3) C (3,3) D (5,6) E (6,7) F (6,5) G (7,6) è¿™äº›ç‚¹å¤§è‡´å½¢æˆäº†ä¸¤ä¸ªèšç±»åŒºåŸŸï¼š (A, B, C) å½¢æˆä¸€ä¸ªå¯†åº¦è¾ƒé«˜çš„åŒºåŸŸï¼ˆç°‡1ï¼‰ (D, E, F, G) å½¢æˆå¦ä¸€ä¸ªå¯†åº¦è¾ƒé«˜çš„åŒºåŸŸï¼ˆç°‡2ï¼‰ å‡è®¾é€‰æ‹©å¸¦å®½$h = 2.5$ï¼Œæ ¸å‡½æ•°ä¸ºé«˜æ–¯æ ¸ã€‚ å¯¹äºç‚¹Aï¼š æ‰¾åˆ°é‚»åŸŸå†…çš„ç‚¹ï¼š å¸¦å®½ $h = 2.5$ï¼Œä»¥ $(1,2)$ ä¸ºåœ†å¿ƒçš„é‚»åŸŸåŒ…å«ç‚¹ï¼š$A(1,2)$ã€$B(2,3)$ã€$C(3,3)$ã€‚ è®¡ç®—æ–°ä½ç½®ï¼š æ ¹æ®å…¬å¼è®¡ç®—åŠ æƒåçš„æ–°ä½ç½®ï¼š $$ x_{\\text{new}} = \\frac{1\\cdot(1,2) + 1\\cdot(2,3) + 1\\cdot(3,3)}{3} = (2,2.67) $$ é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ”¶æ•›ï¼š ç»§ç»­è¿­ä»£ï¼Œç‚¹ A å¯èƒ½ä¼šè¿›ä¸€æ­¥ç§»åŠ¨åˆ° $(2.5,3)$ï¼Œæœ€ç»ˆæ”¶æ•›åˆ°å¯†åº¦å³°å€¼é™„è¿‘ï¼Œä¾‹å¦‚ $(2.5,3)$ã€‚ å¯¹äºå‰©ä¸‹çš„ç‚¹é‡‡ç”¨åŒæ ·çš„æ–¹å¼å°†å…¶è¿›è¡Œæ”¶æ•›ï¼Œæœ€ç»ˆç»“æœä¸ºï¼š ç‚¹ Aã€Bã€C æœ€ç»ˆéƒ½æ”¶æ•›åˆ°\"å±±é¡¶\" $(2.5,3)$ï¼Œå½¢æˆä¸€ä¸ªç°‡ã€‚ ç‚¹ Dã€Eã€Fã€G æœ€ç»ˆéƒ½æ”¶æ•›åˆ°\"å±±é¡¶\" $(6,6)$ï¼Œå½¢æˆå¦ä¸€ä¸ªç°‡ã€‚ ","date":"2025-02-16","objectID":"/posts/60e3fcc/:8:0","tags":["meanshift"],"title":"MeanShiftç®—æ³•","uri":"/posts/60e3fcc/"},{"categories":["Git"],"content":"è§£å†³æ— æ³•é€šè¿‡sshè¿æ¥gité—®é¢˜","date":"2025-01-03","objectID":"/posts/4d5a726/","tags":["git","ssh","timeout"],"title":"è§£å†³Gitçš„sshè¶…æ—¶é—®é¢˜","uri":"/posts/4d5a726/"},{"categories":["Git"],"content":"é—®é¢˜å‘ç°\ræœ€è¿‘åœ¨ä½¿ç”¨ git push å‘½ä»¤æ—¶å‘ç°è¿æ¥è¶…æ—¶ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯ç”¨å…¬é’¥èµ°sshåè®®è¿›è¡Œè¿æ¥ï¼Œè¾“å…¥å‘½ä»¤ ssh -T git@github.com å‘ç°æœç„¶æ˜¯sshè¿æ¥è¶…æ—¶ã€‚åœ¨ç½‘ä¸Šæœç´¢äº†ä¸€åœˆï¼Œæ‰¾åˆ°é—®é¢˜æ˜¯ä¸»åŸŸå github.com çš„ IP è¢«å½»åº•å¢™äº†ã€‚ ","date":"2025-01-03","objectID":"/posts/4d5a726/:1:0","tags":["git","ssh","timeout"],"title":"è§£å†³Gitçš„sshè¶…æ—¶é—®é¢˜","uri":"/posts/4d5a726/"},{"categories":["Git"],"content":"è§£å†³åŠæ³•\ré€šè¿‡Googleå¤§æ³•ï¼Œæ‰¾åˆ°ä¾› ssh è¿æ¥çš„å­åŸŸå ssh.github.com IP è¿˜æ´»ç€ã€‚å› æ­¤ï¼Œè§£å†³åŠæ³•å°±æ˜¯å¾€ ~/.ssh/config æ–‡ä»¶ ä¸­æ·»åŠ ä¸‹é¢çš„é…ç½®ï¼š Host github.com Hostname ssh.github.com è‡³æ­¤ï¼Œé—®é¢˜æˆåŠŸè§£å†³ã€‚ ","date":"2025-01-03","objectID":"/posts/4d5a726/:2:0","tags":["git","ssh","timeout"],"title":"è§£å†³Gitçš„sshè¶…æ—¶é—®é¢˜","uri":"/posts/4d5a726/"},{"categories":["Git"],"content":"å‚è€ƒèµ„æ–™\rhttps://docs.github.com/en/authentication/troubleshooting-ssh/using-ssh-over-the-https-port https://ww-rm.top/posts/2024/01/17/githubssh-timeout/ ","date":"2025-01-03","objectID":"/posts/4d5a726/:3:0","tags":["git","ssh","timeout"],"title":"è§£å†³Gitçš„sshè¶…æ—¶é—®é¢˜","uri":"/posts/4d5a726/"},{"categories":["Python"],"content":"Pythonå­¦ä¹ ç¬”è®°","date":"2024-11-20","objectID":"/posts/92c957a/","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"ç¯å¢ƒæ­å»º\ræˆ‘æ˜¯åœ¨WSL2ä¸‹çš„Ubuntuè¿›è¡ŒPythonå¼€å‘çš„ï¼Œæ‰€ä»¥æœ¬ç¬”è®°çš„ç¯å¢ƒæ­å»ºä»…é€‚ç”¨äºLiunxå¼€å‘ç¯å¢ƒï¼ŒWindowsä¸‹æ­å»ºç¯å¢ƒè¯·è‡ªè¡ŒGoogleã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:1:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"miniconda\ré¦–å…ˆï¼Œå…ˆå®‰è£… minicondaï¼Œç›´æ¥æŒ‰ç…§å®˜æ–¹æ•™ç¨‹å³å¯å®‰è£…ã€‚ ä¸åŒçš„é¡¹ç›®å¯èƒ½éœ€è¦ä¸åŒç‰ˆæœ¬çš„åº“æˆ–åŒ…ï¼Œè€Œç›´æ¥åœ¨ç³»ç»Ÿä¸­å®‰è£…å¤šä¸ªç‰ˆæœ¬å¯èƒ½ä¼šå¯¼è‡´å†²çªå’Œä¸å¯é¢„è§çš„é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œcondaè™šæ‹Ÿç¯å¢ƒåº”è¿è€Œç”Ÿã€‚ condaè™šæ‹Ÿç¯å¢ƒå…è®¸ä½ åœ¨åŒä¸€å°æœºå™¨ä¸Šåˆ›å»ºå¤šä¸ª ã€Œç‹¬ç«‹ã€ çš„ç¯å¢ƒï¼Œæ¯ä¸ªç¯å¢ƒéƒ½æœ‰è‡ªå·±çš„Pythonè§£é‡Šå™¨å’Œä¾èµ–åº“ï¼Œä»è€Œå®ç°äº†é¡¹ç›®ä¹‹é—´çš„éš”ç¦»ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªç¯å¢ƒä¸­å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„åº“ï¼Œè€Œä¸å½±å“å…¶ä»–ç¯å¢ƒã€‚ miniconda çš„å¸¸ç”¨å‘½ä»¤æœ‰ï¼š # åˆ›å»ºä¸€ä¸ªåä¸º myenv çš„ç¯å¢ƒå¹¶æŒ‡å®šåœ¨è¯¥ç¯å¢ƒä¸­å®‰è£… 3.7ç‰ˆæœ¬çš„Python conda create --name myenv python=3.7 # æ¿€æ´»æˆ–åˆ‡æ¢åˆ°åç§°ä¸º myenc çš„ç¯å¢ƒ conda activate myenv # åœ¨å½“å‰ç¯å¢ƒä¸‹å®‰è£… numpy åŒ… conda install numpy # åœ¨å½“å‰ç¯å¢ƒä¸‹å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ numpy åŒ… conda install numpy=1.21.0 # åœ¨å½“å‰ç¯å¢ƒä¸‹åˆ é™¤ numpy åŒ… conda remove numpy # æ¸…ç†Condaç¯å¢ƒï¼Œåˆ é™¤æ²¡æœ‰ä½¿ç”¨çš„åŒ…å’Œç¯å¢ƒä»¥åŠåŒ…ç¼“å­˜ conda clean --all # åˆ é™¤åç§°ä¸º myenvçš„ç¯å¢ƒåŠå…¶æ‰€æœ‰å†…å®¹ conda env remove --name myenv # åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒ conda env list # åˆ—å‡ºå½“å‰ç¯å¢ƒä¸­çš„æ‰€æœ‰åŒ… conda list # å¯¼å‡ºå½“å‰ç¯å¢ƒ conda env export \u003e environment.yml # æ ¹æ®å¯¼å‡ºæ–‡ä»¶åˆ›å»ºç¯å¢ƒ conda env create -f environment.yml ","date":"2024-11-20","objectID":"/posts/92c957a/:1:1","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"VSCodeæ’ä»¶\rä½œè€…æ˜¯ä½¿ç”¨VSCodeæ¥è¿›è¡Œå¼€å‘çš„ï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©PyCharmã€‚è¿™é‡Œå°±æ¨èä¸€äº›å¥½ç”¨çš„Pythonæ’ä»¶ Python Python Docstring Generator isort Black Formatter ","date":"2024-11-20","objectID":"/posts/92c957a/:1:2","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"PythonåŸºç¡€\rè¯¥ç¬”è®°é€‚ç”¨äºå·²ç»æŒæ¡ä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„äººï¼Œæ‰€ä»¥å¯¹äºä¸€äº›åŸºç¡€çŸ¥è¯†ä¸ä¼šè¿›è¡Œè¿‡å¤šä»‹ç»ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:2:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è¾“å…¥è¾“å‡º\rPython ä½¿ç”¨ print() å‡½æ•°è¿›è¡Œè¾“å‡ºï¼Œè¯¥å‡½æ•°å¯ä»¥æ¥æ”¶å¤šä¸ªå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°ç”¨é€—å· , éš”å¼€ï¼ˆè¯¥é€—å·ä¼šè¢«å½“åšç©ºæ ¼æ¥è¾“å‡ºï¼‰ï¼Œæ¥å—çš„å‚æ•°ç±»å‹å¯ä»¥æ˜¯è¡¨è¾¾å¼ã€å­—ç¬¦ä¸²ã€å˜é‡ã€‚ NOTEï¼š å½“è¡¨è¾¾å¼ä½œä¸ºå‚æ•°æ—¶ï¼Œä¼šè¾“å‡ºè¯¥è¡¨è¾¾å¼çš„å€¼ã€‚è¯¥å‡½æ•°ä¼šè‡ªåŠ¨è¾“å‡ºä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ print('100 + 200 =', 100 + 200) # è¾“å‡ºç»“æœï¼š100 + 200 = 300 Python ä½¿ç”¨ input() å‡½æ•°è¿›è¡Œè¾“å…¥ï¼Œæ— è®ºç”¨æˆ·è¾“å…¥ä»€ä¹ˆå†…å®¹ï¼Œè¯¥å‡½æ•°éƒ½ä¼šå°†å…¶ä½œä¸ºå­—ç¬¦ä¸²è¿”å›ã€‚å¦‚æœéœ€è¦å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°ã€æµ®ç‚¹æ•°æˆ–å…¶ä»–æ•°æ®ç±»å‹ï¼Œéœ€è¦åœ¨è·å–è¾“å…¥å æ˜¾å¼åœ° è¿›è¡Œè½¬æ¢ã€‚è¯¥å‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè¯¥å­—ç¬¦ä¸²ä¼šè¢«æ‰“å°å‡ºæ¥æç¤ºç”¨æˆ·è¾“å…¥ä¿¡æ¯ã€‚ # ä¼šæ‰“å° please enter your name: æç¤ºç”¨æˆ·è¦è¾“å…¥çš„å†…å®¹ name = input('please enter your name: ') print('hello,', name) # å¦‚æœ input() å‡½æ•°æ²¡æœ‰ä½¿ç”¨å‚æ•°å°±åªä¼šä¸€ç›´é—ªçƒå…‰æ ‡ç­‰å¾…ç”¨æˆ·è¾“å…¥ ","date":"2024-11-20","objectID":"/posts/92c957a/:2:1","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"æ•°æ®ç±»å‹å’Œå˜é‡\ræ•°æ®ç±»å‹\råœ¨Pythonä¸­ï¼Œèƒ½å¤Ÿç›´æ¥å¤„ç†çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š æ•´æ•° Pythonå¯ä»¥å¤„ç†ä»»æ„å¤§å°çš„æ•´æ•°ï¼Œå’Œå…¶ä»–è¯­è¨€ä¸€æ ·ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è¿›åˆ¶æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚åå…­è¿›åˆ¶ï¼ˆ0xå‰ç¼€ï¼‰ã€‚å¯¹äºå¾ˆå¤§çš„æ•´æ•°ï¼ŒPythonå…è®¸åœ¨æ•°å­—ä¹‹é—´ç”¨ _ åˆ†éš”ï¼Œå› æ­¤ï¼Œ10_000_000_000 å’Œ10000000000æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚åå…­è¿›åˆ¶æ•°ä¹Ÿå¯ä»¥å†™æˆ 0xa1b2_c3d4ã€‚ Pythonä¸­ç”¨ // æ¥è¡¨ç¤ºæ•´é™¤ æµ®ç‚¹æ•° å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œæ²¡ä»€ä¹ˆåŒºåˆ«ã€‚å¯¹äºå¾ˆå¤§æˆ–å¾ˆå°çš„æµ®ç‚¹æ•°ï¼Œå¿…é¡»ç”¨ç§‘å­¦è®¡æ•°æ³•æ¥è¡¨ç¤ºã€‚ å­—ç¬¦ä¸² åœ¨Pythonä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä»¥å•å¼•å· ' æˆ–åŒå¼•å· \" æ‹¬èµ·æ¥çš„ä»»æ„æ–‡æœ¬ï¼Œæ¯”å¦‚ 'abc'ï¼Œ\"xyz\"ç­‰ç­‰ã€‚å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä¸­åŒ…æ‹¬å•å¼•å·ï¼Œåˆ™å¯ä»¥ç”¨åŒå¼•å·æ‹¬èµ·è¯¥å­—ç¬¦ä¸²ï¼›å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ—¢åŒ…å«å•å¼•å·åˆåŒ…å«åŒå¼•å·ï¼Œåˆ™å¯ä»¥ç”¨è½¬ä¹‰å­—ç¬¦ \\ æ¥æ ‡è¯†ã€‚å¦‚æœæƒ³è¦å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰ï¼Œåˆ™å¯ä»¥åœ¨å­—ç¬¦ä¸²å‰é¢åŠ ä¸Šrã€‚ å½“ä¸€ä¸ªå­—ç¬¦ä¸²éœ€è¦å¤šæ¬¡æ¢è¡Œè¾“å‡ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨'''ç¬¦å·å°†å­—ç¬¦ä¸²æ‹¬èµ·æ¥ï¼Œè¿™æ ·å°±ä¸å¿…å¤šæ¬¡ä½¿ç”¨\\nç¬¦å·äº†ã€‚ print('\\\\\\t\\\\') # è¾“å‡ºç»“æœï¼š\\ \\ print(r'\\\\\\t\\\\') # è¾“å‡ºç»“æœï¼š\\\\\\t\\\\ print('''line1 line2 line3''') # è¾“å‡ºç»“æœï¼š # line1 # line2 # line3 å¸ƒå°”å€¼ å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œåªæœ‰ True å’Œ False ä¸¤ç§å€¼ï¼ˆæ³¨æ„é¦–å­—æ¯å¤§å†™ï¼‰ã€‚åœ¨Pythonä¸­ ä¸æˆ–é é‡‡ç”¨é€»è¾‘ and or not æ¥è¡¨ç¤ºã€‚ ç©ºå€¼ ç©ºå€¼æ˜¯Pythoné‡Œä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œç”¨ None è¡¨ç¤ºã€‚Noneä¸èƒ½ç†è§£ä¸º0ï¼Œå› ä¸º0æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè€Œ None æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç©ºå€¼ã€‚ æ­¤å¤–ï¼ŒPythonè¿˜æä¾›äº†åˆ—è¡¨ã€å­—å…¸ç­‰å¤šç§æ•°æ®ç±»å‹ï¼Œè¿˜å…è®¸åˆ›å»ºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œåé¢ä¼šè®²åˆ°ã€‚ å˜é‡\råœ¨Pythonä¸­å˜é‡æ˜¯æ²¡æœ‰å›ºå®šç±»å‹çš„ï¼Œä½ ç»™å…¶èµ‹ä»€ä¹ˆç±»å‹çš„å€¼ï¼Œå®ƒå°±æ˜¯ä»€ä¹ˆç±»å‹çš„å˜é‡ã€‚æ‰€ä»¥ï¼Œåœ¨Pythonä¸­å®šä¹‰å˜é‡æ—¶ä¸éœ€è¦æŒ‡å®šå…¶ç±»å‹ã€‚ x = 10 # è¿™æ—¶å˜é‡xæ˜¯æ•´å‹ x = 'abc' # è¿™æ—¶å˜é‡xæ˜¯å­—ç¬¦ä¸² å¸¸é‡\råœ¨Pythonä¸­å¹¶æ²¡æœ‰åƒC++ä¸­çš„consté‚£æ ·çš„å…³é”®å­—æ¥å®šä¹‰å¸¸é‡ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªçº¦å®šä¿—æˆçš„æƒ¯ä¾‹ï¼Œå³å¸¸é‡é€šå¸¸ä½¿ç”¨ å…¨å¤§å†™å­—æ¯ è¡¨ç¤ºã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:2:2","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å­—ç¬¦ä¸²å’Œç¼–ç \rå­—ç¬¦ç¼–ç \rå› ä¸ºä½œè€…ä½¿ç”¨åˆ°å­—ç¬¦ç¼–ç çš„æƒ…å†µä¸å¤šï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸å¤šä»‹ç»äº†ï¼Œè¯·è‡ªè¡Œåœ¨æ­¤ç½‘ç«™è¿›è¡Œå­¦ä¹ ã€‚ æ ¼å¼åŒ–\rPythonè¾“å‡ºæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²çš„æ–¹å¼æœ‰å¤šç§ï¼Œè¿™é‡Œåªä»‹ç»æœ€å¸¸ç”¨çš„ï¼Œç”¨ % æ¥å®ç°ï¼Œå’ŒCè¯­è¨€çš„è¯­æ³•ç›¸è¯†ã€‚ # æ ¼å¼ä¸º print('...' % (å‚æ•°1, å‚æ•°2) ) print('%2d-%02d' % (3, 1)) print('%.2f' % 3.1415926) æ§åˆ¶ç¬¦çš„ä½¿ç”¨ä¸Cè¯­è¨€ä¸€æ ·ï¼Œå¦‚æœæƒ³è¦è¾“å‡º %ç¬¦å·åˆ™éœ€è¦ä½¿ç”¨ %% æ¥è¡¨ç¤ºã€‚å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™%åçš„å°æ‹¬å·å¯ä»¥çœç•¥ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:2:3","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"listå’Œtuple\rlist\rlistæ˜¯ä¸€ç§æœ‰åºçš„é›†åˆï¼Œæ˜¯Pythonå†…ç½®çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥éšæ—¶æ·»åŠ å’Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ã€‚ä½¿ç”¨[ ]ç¬¦å·æ¥åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ã€‚å¯ä»¥æŠŠlistçœ‹ä½œvectorï¼Œç›´æ¥çœ‹ç¤ºä¾‹ï¼š classmates = ['Michael', 'Bob', 'Tracy'] # åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«ä¸‰ä¸ªå…ƒç´  print(len(classmates)) # è¾“å‡ºåˆ—è¡¨é•¿åº¦ print(classmates[0]) # è¾“å‡º Michael print(classmates[1]) # è¾“å‡º Bob print(classmates[2]) # è¾“å‡º Tracy åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæƒ³è¦è·å–æœ€åä¸€ä¸ªå…ƒç´ é™¤äº†ä½¿ç”¨ç´¢å¼•2ä»¥å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç´¢å¼•-1ï¼Œå³classmates[2] ç­‰ä»·äº classmates[-1]ã€‚ä¾æ­¤ç±»æ¨ï¼Œ-2ä¹Ÿæ˜¯å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œ-3æ˜¯å€’æ•°ç¬¬ä¸‰ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚ Note: ä½¿ç”¨ç´¢å¼•æ—¶è¦ç¡®ä¿ç´¢å¼•åœ¨æ­£ç¡®çš„èŒƒå›´å†…ã€‚ listæ˜¯ä¸€ä¸ªå¯å˜çš„æœ‰åºè¡¨ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥å¾€listä¸­æ·»åŠ å…ƒç´ ï¼š classmates.append('Adam') # å¾€åˆ—è¡¨å°¾éƒ¨è¿½åŠ å…ƒç´  Adam classmates.insert(1, 'Ddam') # å¾€ç´¢å¼•ä¸º1çš„ä½ç½®æ’å…¥å…ƒç´  Ddam è¦åˆ é™¤listä¸­çš„å…ƒç´ ï¼Œç”¨pop()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›è¢«åˆ é™¤çš„å…ƒç´ ï¼š classmates.pop() # åˆ é™¤æœ«å°¾å…ƒç´  classmates.pop(1) # åˆ é™¤ç´¢å¼•ä¸º1çš„å…ƒç´  è¦æŠŠæŸä¸ªå…ƒç´ æ›¿æ¢æˆåˆ«çš„å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥èµ‹å€¼ç»™å¯¹åº”çš„ç´¢å¼•ä½ç½®ï¼š classmates[1] = 'Sarah' Note: listä¸­çš„å…ƒç´ ç±»å‹å¯ä»¥ä¸åŒï¼Œæ¯”å¦‚['123', 333, ['1', 2]] è¿™ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ ç±»å‹åˆ†åˆ«ä¸ºå­—ç¬¦ä¸²ã€æ•´å½¢ã€åˆ—è¡¨ã€‚ tuple\rtupleè¡¨ç¤ºå…ƒç»„ï¼Œè·Ÿlistéå¸¸ç±»ä¼¼ï¼Œä½¿ç”¨()ç¬¦å·æ¥å®šä¹‰ï¼Œä½†æ˜¯tupleä¸€æ—¦åˆå§‹åŒ–åå°±ä¸èƒ½ä¿®æ”¹ï¼ˆå…ƒç´ çš„é¡ºåºä¹Ÿä¸èƒ½æ”¹å˜ï¼‰ï¼Œä½¿ç”¨å®ƒä¼šè®©ä»£ç æ›´å®‰å…¨ã€‚tupleæ²¡æœ‰åƒappend(), insert()è¿™æ ·å¯ä»¥ä¿®æ”¹tupleçš„æ–¹æ³•ï¼Œå¯ä»¥æ­£å¸¸åœ°ä½¿ç”¨classmates[0]ï¼Œclassmates[-1]ï¼Œä½†ä¸èƒ½èµ‹å€¼æˆå¦å¤–çš„å…ƒç´ ã€‚ tupleä¸­çš„å…ƒç´ ç±»å‹ä¹Ÿå¯ä»¥ä¸ç›¸åŒï¼Œä¸‹é¢ä¸ºå®šä¹‰tupleçš„ç¤ºä¾‹ï¼š t1 = () # å®šä¹‰ä¸€ä¸ªç©ºçš„tuple t2 = (1,) # å®šä¹‰åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„tuple t3 = (1, 2, 'abc') # å®šä¹‰åŒ…å«ä¸‰ä¸ªå…ƒç´ çš„tuple print(t3[1]) #è¾“å‡º 2 Note: å®šä¹‰åªå«ä¸€ä¸ªå…ƒç´ çš„tupleæ—¶ï¼Œå¿…é¡»ä½¿ç”¨(1,)çš„æ ¼å¼ï¼Œå³å¿…é¡»åŠ ä¸Šä¸€ä¸ª é€—å· ï¼Œå› ä¸ºåœ¨pythonä¸­æ‹¬å·æ—¢è¡¨ç¤ºtupleï¼Œåˆè¡¨ç¤ºæ•°å­¦å…¬å¼ä¸­çš„å°æ‹¬å·ï¼Œè¿™å°±äº§ç”Ÿäº†æ­§ä¹‰ï¼Œå› æ­¤ï¼ŒPythonè§„å®šï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œ(1)ä¼šè¢«è®¤ä¸ºæ˜¯æ•°å­¦è¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯tupleã€‚Pythonåœ¨è¾“å‡ºåªå«ä¸€ä¸ªå…ƒç´ çš„tupleæ—¶ï¼Œä¹Ÿä¼šåŠ ä¸€ä¸ªé€—å·ï¼Œä»¥å…ä½ è¯¯è§£æˆæ•°å­¦è®¡ç®—æ„ä¹‰ä¸Šçš„æ‹¬å·ã€‚ è™½ç„¶tupleæœ¬èº«ä¸å¯å˜ï¼Œä½†å¦‚æœtupleå†…åŒ…å«å¯å˜å¯¹è±¡ï¼ˆå¦‚listï¼‰ï¼Œåˆ™è¿™äº›å¯å˜å¯¹è±¡çš„å†…å®¹æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œå¦‚ï¼š t = (1, 2, [3, 4]) t[2][0] = 5 # ä¿®æ”¹äº†å…ƒç»„ä¸­åˆ—è¡¨çš„å†…å®¹ print(t) # è¾“å‡º (1, 2, [5, 4]) åœ¨ä¸Šé¢çš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œtupleçš„å…ƒç´ æ˜¯æ²¡æœ‰æ”¹å˜çš„ï¼Œå˜çš„åªæ˜¯listçš„å…ƒç´ ï¼ï¼ï¼ tupleåªæ”¯æŒä¸¤ä¸ªåŸºæœ¬æ–¹æ³•ï¼š t = (1, 2, 2, 3) print(t.count(2)) # ç»Ÿè®¡å…ƒç»„tä¸­å…ƒç´ 2å‡ºç°çš„æ¬¡æ•°ï¼Œè¾“å‡º 2 print(t.index(2)) # è¾“å‡ºç´¢å¼•ä¸º2çš„å…ƒç´  ","date":"2024-11-20","objectID":"/posts/92c957a/:2:4","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"æ¡ä»¶åˆ¤æ–­\rPythonä¸­çš„ifè¯­æ³•ä¸ºï¼š if \u003cæ¡ä»¶åˆ¤æ–­1\u003e: \u003cæ‰§è¡Œ1\u003e elif \u003cæ¡ä»¶åˆ¤æ–­2\u003e: \u003cæ‰§è¡Œ2\u003e elif \u003cæ¡ä»¶åˆ¤æ–­3\u003e: \u003cæ‰§è¡Œ3\u003e else: \u003cæ‰§è¡Œ4\u003e Note: Pythonä¸­ä½¿ç”¨ ç¼©è¿› æ¥ç¡®å®šä»£ç å—ï¼Œè€Œä¸æ˜¯èŠ±æ‹¬å·{} ","date":"2024-11-20","objectID":"/posts/92c957a/:2:5","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"æ¨¡å¼åŒ¹é…\rPythonä¸­çš„æ¨¡å¼åŒ¹é…ç±»ä¼¼äºC/C++ä¸­çš„switchï¼Œä½†åŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œé™¤äº†å¯ä»¥åŒ¹é…ç®€å•çš„å•ä¸ªå€¼å¤–ï¼Œè¿˜å¯ä»¥åŒ¹é…å¤šä¸ªå€¼ã€åŒ¹é…ä¸€å®šèŒƒå›´ï¼Œéœ€è¦3.10ä»¥ä¸Šçš„ç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨ï¼Œå…·ä½“ä½¿ç”¨å‚è€ƒæ­¤æ•™ç¨‹ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:2:6","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å¾ªç¯\rPythonçš„å¾ªç¯åªæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯for...inå¾ªç¯ï¼Œä¸€ç§æ˜¯whileå¾ªç¯ï¼Œè¿™ä¸¤ä¸ªå¾ªç¯çš„è¯­æ³•ä¸ºï¼š for x in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, ...]: \u003cæ‰§è¡Œè¯­å¥\u003e while \u003cæ¡ä»¶\u003e: \u003cæ‰§è¡Œè¯­å¥\u003e Pythonä¹Ÿå¯ä»¥åœ¨å¾ªç¯ä¸­ä½¿ç”¨ break å’Œ continueã€‚ å¦‚æœè¦ä½¿ç”¨forå¾ªç¯æ¥æ‰§è¡Œ1000æ¬¡å¾ªç¯ï¼Œä»1å†™åˆ°1000æ˜¯å¾ˆå›°éš¾çš„ï¼Œå¹¸å¥½Pythonæä¾›ä¸€ä¸ª range() å‡½æ•°ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œå³ä¸€ä¸ªèŒƒå›´å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡list()å‡½æ•°å°†å…¶è½¬æ¢ä¸ºåˆ—è¡¨ã€‚ range()å‡½æ•°å¯ä»¥æ¥å—ä¸€åˆ°ä¸‰ä¸ªæ•´æ•°å‚æ•°ï¼š range(stop)ï¼šç”Ÿæˆä»0åˆ°stop-1çš„æ•´æ•°åºåˆ—ã€‚ range(start, stop)ï¼šç”Ÿæˆä»startåˆ°stop-1çš„æ•´æ•°åºåˆ—ã€‚ range(start, stop, step)ï¼šç”Ÿæˆä»startå¼€å§‹ï¼Œæ¯æ¬¡å¢åŠ stepï¼Œç›´åˆ°stop-1çš„æ•´æ•°åºåˆ—ã€‚ ä¾‹å¦‚ï¼š # ä»0åˆ°4 range(5) # ä»1åˆ°4 range(1, 5) # ä»0åˆ°9ï¼Œæ­¥é•¿ä¸º2 range(0, 10, 2) # å¾ªç¯ 1000 æ¬¡ for x in range(1000): \u003cæ‰§è¡Œè¯­å¥\u003e ","date":"2024-11-20","objectID":"/posts/92c957a/:2:7","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"dictå’Œset\rdict\rPythonä¸­çš„å­—å…¸dictå°±æ˜¯å…¶ä»–è¯­è¨€ä¸­çš„mapï¼Œä½¿ç”¨key-valueå­˜å‚¨ã€‚ä½¿ç”¨èŠ±æ‹¬å·{ }æ¥åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸ã€‚ ä¾‹å¦‚ï¼šd = {'Michael': 95, 'Bob': 75, 'Tracy': 85}ã€‚ é™¤äº†åˆå§‹åŒ–å¯ä»¥æ”¾å…¥å…ƒç´ å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡key æ”¾å…¥æ•°æ®ï¼Œd['Adam'] = 67ã€‚ å¦‚æœè®¿é—®ä¸å­˜åœ¨çš„keyï¼Œdictå°±ä¼šæŠ¥é”™ï¼Œè¦é¿å…keyä¸å­˜åœ¨çš„é”™è¯¯ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š d = {'Michael': 95, 'Bob': 75, 'Tracy': 85} # æ–¹æ³•ä¸€ï¼šé€šè¿‡inåˆ¤æ–­ print('Thomas' in d) # è¾“å‡º False # æ–¹æ³•äºŒï¼šé€šè¿‡dictæä¾›çš„get()æ–¹æ³•åˆ¤æ–­ print(d.get('Thomas')) # è¾“å‡ºNone print(d.get('Thomas', -1)) # è¾“å‡º-1 è¦åˆ é™¤ä¸€ä¸ªkeyï¼Œç”¨pop(key)æ–¹æ³•ï¼šd.pop('Bob') Note: keyå¿…é¡»æ˜¯ ä¸å¯å˜å¯¹è±¡ï¼Œæ— è®ºå¯¹ä¸å¯å˜å¯¹è±¡åšä»€ä¹ˆæ“ä½œï¼Œå…¶å†…å®¹éƒ½æ˜¯ä¸ä¼šå˜çš„ã€‚ set\rPythonä¸­çš„setå’Œå…¶ä»–è¯­è¨€çš„setä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªæ— åºçš„æ— é‡å¤å…ƒç´ çš„é›†åˆï¼Œä¹Ÿæ˜¯ä½¿ç”¨èŠ±æ‹¬å·{ }æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œç›´æ¥çœ‹ç¤ºä¾‹ï¼š s = {1, 1, 2, 2, 3, 3} print(s) # æ˜¾ç¤º{1, 2, 3} s.add(4) # æ·»åŠ å…ƒç´ 4 print(s) # æ˜¾ç¤º{1, 2, 3, 4} s.remove(4) # åˆ é™¤å…ƒç´ 4 print(s) # æ˜¾ç¤º{1, 2, 3} # Pythonä¸­çš„setå¯ä»¥åšäº¤é›†ã€å¹¶é›†æ“ä½œ s1 = {1, 2, 3} s2 = {2, 3, 4} print(s1 \u0026 s2) # è¾“å‡ºäº¤é›†ç»“æœ print(s1 | s2) # è¾“å‡ºå¹¶é›†ç»“æœ ","date":"2024-11-20","objectID":"/posts/92c957a/:2:8","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å‡½æ•°\r","date":"2024-11-20","objectID":"/posts/92c957a/:3:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å®šä¹‰å‡½æ•°\rPythonå®šä¹‰å‡½æ•°çš„è¯­æ³•ä¸ºï¼š def funName(): \u003cæ‰§è¡Œè¯­å¥\u003e return ... # å½“è¿˜æ²¡æœ‰æƒ³å¥½è¯¥å‡½æ•°è¯¥æ€ä¹ˆå®ç°æ—¶å¯ç”¨ passæ¥æ›¿ä»£å‡½æ•°ä½“ï¼Œè¿™æ ·å°±å®šä¹‰äº†ä¸€ä¸ªç©ºå‡½æ•° def funName(): pass Pythonä¸­çš„å‡½æ•°ä¸éœ€è¦å†™è¿”å›å€¼ç±»å‹å’Œå‚æ•°ç±»å‹ï¼Œå› ä¸ºå‰é¢å·²ç»è¯´è¿‡äº†Pythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œå…¶å˜é‡çš„ç±»å‹æ˜¯ä¸å®šçš„ã€‚ passé™¤äº†å¯ä»¥ç”¨åœ¨å‡½æ•°å†…ï¼Œä¹Ÿèƒ½ç”¨äºå…¶ä»–è¯­å¥ä¸­ï¼Œæ¯”å¦‚if Pythonä¸­çš„å‡½æ•°å¯ä»¥ç›´æ¥è¿”å› â€œå¤šä¸ªå€¼â€ï¼š import math def move(x, y, step, angle): nx = x + step * math.cos(angle) ny = y - step * math.sin(angle) return nx, ny x, y = move(100, 100, 60, math.pi / 6) print(x, y) # è¾“å‡ºï¼š151.96152422706632 70.0 ä½†è¿™åªæ˜¯ä¸€ç§å‡è±¡ï¼ŒPythonå‡½æ•°è¿”å›çš„ä»ç„¶æ˜¯å•ä¸€å€¼ï¼Œå‡½æ•°å°†å¤šä¸ªè¦è¿”å›çš„å‚æ•°å®šä¹‰æˆä¸€ä¸ª å…ƒç»„tuple è¿›è¡Œè¿”å›!!! r = move(100, 100, 60, math.pi / 6) print(r) # è¾“å‡ºï¼š(151.96152422706632, 70.0) ","date":"2024-11-20","objectID":"/posts/92c957a/:3:1","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å‡½æ•°çš„å‚æ•°\ré»˜è®¤å‚æ•°\rä¸å…¶ä»–è¯­è¨€ä¸€æ ·ï¼ŒPythonä¸­çš„å‡½æ•°ä¹Ÿèƒ½ä½¿ç”¨é»˜è®¤å‚æ•°ï¼Œå½“ä½ ä¸ºæŸä¸ªå‚æ•°æä¾›é»˜è®¤å€¼æ—¶ï¼Œè¯¥å‚æ•° å³è¾¹çš„å‚æ•° ä¹Ÿå¿…é¡»æœ‰é»˜è®¤å‚æ•°ï¼Œä¸‹é¢è¿™ç§å‡½æ•°å®šä¹‰å°±æ˜¯é”™è¯¯çš„ï¼š def process(data, mode=\"read\", option) å¦‚æœæƒ³è¦ç»™modeæä¾›é»˜è®¤å‚æ•°ï¼Œé‚£ä¹ˆå°±å¿…é¡»ä¹Ÿç»™optionæä¾›é»˜è®¤å‚æ•°ã€‚ è°ƒç”¨å¸¦é»˜è®¤å‚æ•°çš„å‡½æ•°æ–¹å¼ä¸å…¶ä»–è¯­è¨€ä¸€æ ·ï¼š def enroll(name, gender, age=6, city='Beijing'): print('name:', name) print('gender:', gender) print('age:', age) print('city:', city) enroll('A', 'F') # å…¶ä»–å‚æ•°ä½¿ç”¨é»˜è®¤å€¼ enroll('B', 'F', 7) # cityå‚æ•°ä½¿ç”¨é»˜è®¤å€¼ enroll('C', 'M', city = 'SiChuan') # ageå‚æ•°ä½¿ç”¨é»˜è®¤å€¼ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‡½æ•°å®šä¹‰ä¸­çš„é»˜è®¤å‚æ•°åªä¼šåœ¨ ã€Œå‡½æ•°å®šä¹‰æ—¶è¢«åˆ›å»ºä¸€æ¬¡ã€ã€‚æ‰€ä»¥ï¼Œå½“ä½ ç»™å‚æ•°æä¾›ä¸€ä¸ªå¯å˜å¯¹è±¡ï¼ˆæ¯”å¦‚åˆ—è¡¨ï¼‰ä¸ºé»˜è®¤å€¼æ—¶ä¸€å®šè¦å°å¿ƒï¼Œå› ä¸ºå¤šæ¬¡è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œä½¿ç”¨çš„éƒ½æ˜¯ åŒä¸€ä¸ªå¯å˜å¯¹è±¡ã€‚ ç›´æ¥çœ‹ä¾‹å­ï¼š def add_end(L=[]): L.append('END') return L add_end() # è¾“å‡ºï¼š'END'] add_end() # è¾“å‡ºï¼š['END', 'END'] add_end() # è¾“å‡ºï¼š['END', 'END', 'END'] æ‰€ä»¥ï¼Œå®šä¹‰é»˜è®¤å‚æ•°è¦ç‰¢è®°ä¸€ç‚¹ï¼šé»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ï¼ ä¿®æ”¹ä¸Šé¢çš„ä¾‹å­ï¼Œä½¿å…¶è°ƒç”¨å¤šæ¬¡éƒ½ä¸ä¼šæœ‰é—®é¢˜ï¼š def add_end(L=None): if L is None: L = [] L.append('END') return L å¯å˜å‚æ•°\rè·Ÿå…¶ä»–è¯­è¨€ä¸€æ ·ï¼ŒPythonä¹Ÿå¯ä»¥å®šä¹‰å¯å˜å‚æ•°ï¼Œåœ¨å‚æ•°å‰é¢åŠ ä¸Šä¸€ä¸ª * å·å³å¯ã€‚ def calc(*numbers): sum = 0 for n in numbers: sum = sum + n * n return sum print(calc(1, 2)) # è¾“å‡ºï¼š5 print(calc()) # è¾“å‡ºï¼š0 å¦‚æœå·²ç»æœ‰ä¸€ä¸ªlistæˆ–è€…tupleï¼Œè¦è°ƒç”¨ä¸€ä¸ªå¯å˜å‚æ•°æ€ä¹ˆåŠï¼Ÿå¯ä»¥è¿™æ ·åšï¼š nums = [1, 2, 3] calc(nums[0], nums[1], nums[2]) # æ–¹æ³•ä¸€ calc(*nums) # æ–¹æ³•äºŒï¼Œæ¨èåšæ³• å…³é”®å­—å‚æ•°\rå¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ª å«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ª dictã€‚è¯·çœ‹ç¤ºä¾‹ï¼š # è¯¥å‡½æ•°é™¤äº†å¿…é€‰å‚æ•°nameå’Œageå¤–ï¼Œè¿˜æ¥å—å…³é”®å­—å‚æ•°kwã€‚ def person(name, age, **kw): print('name:', name, 'age:', age, 'other:', kw) person('Michael', 30) # è¾“å‡ºï¼šname: Michael age: 30 other: {} person('Adam', 45, gender='M', job='Engineer') # è¾“å‡ºï¼šname: Adam age: 45 other: {'gender': 'M', 'job': 'Engineer'} å…³é”®å­—å‚æ•°æœ‰ä»€ä¹ˆç”¨ï¼Ÿå®ƒå¯ä»¥ æ‰©å±•å‡½æ•°çš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œåœ¨personå‡½æ•°é‡Œï¼Œæˆ‘ä»¬ä¿è¯èƒ½æ¥æ”¶åˆ°nameå’Œageè¿™ä¸¤ä¸ªå‚æ•°ï¼Œä½†æ˜¯ï¼Œå¦‚æœè°ƒç”¨è€…æ„¿æ„æä¾›æ›´å¤šçš„å‚æ•°ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½æ”¶åˆ°ã€‚è¯•æƒ³ä½ æ­£åœ¨åšä¸€ä¸ªç”¨æˆ·æ³¨å†Œçš„åŠŸèƒ½ï¼Œé™¤äº†ç”¨æˆ·åå’Œå¹´é¾„æ˜¯å¿…å¡«é¡¹å¤–ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰é¡¹ï¼Œåˆ©ç”¨å…³é”®å­—å‚æ•°æ¥å®šä¹‰è¿™ä¸ªå‡½æ•°å°±èƒ½æ»¡è¶³æ³¨å†Œçš„éœ€æ±‚ã€‚ å’Œå¯å˜å‚æ•°ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥å…ˆç»„è£…å‡ºä¸€ä¸ªdictï¼Œç„¶åï¼ŒæŠŠè¯¥dictè½¬æ¢ä¸ºå…³é”®å­—å‚æ•°ä¼ è¿›å»ï¼š extra = {'city': 'Beijing', 'job': 'Engineer'} person('Jack', 24, city=extra['city'], job=extra['job']) # è¾“å‡ºï¼šname: Jack age: 24 other: {'city': 'Beijing', 'job': 'Engineer'} å½“ç„¶ï¼Œä¹Ÿå¯ä½¿ç”¨ç®€åŒ–çš„å†™æ³•ï¼š person('Jack', 24, **extra) å‘½åå…³é”®å­—å‚æ•°\rå¯¹äºå…³é”®å­—å‚æ•°ï¼Œå‡½æ•°çš„è°ƒç”¨è€…å¯ä»¥ä¼ å…¥ä»»æ„ä¸å—é™åˆ¶çš„å…³é”®å­—å‚æ•°ã€‚å¦‚æœæƒ³è¦é™åˆ¶å…³é”®å­—å‚æ•°çš„åå­—ï¼Œå°±å¯ä»¥ä½¿ç”¨å‘½åå…³é”®å­—å‚æ•°ã€‚ å®šä¹‰æ–¹å¼å¦‚ä¸‹ï¼š # æ–¹å¼ä¸€ï¼šæ²¡æœ‰å¯å˜å‚æ•°ï¼Œå‘½åå…³é”®å­—å‚æ•°å‰éœ€è¦ä¸€ä¸ª * åˆ†éš”ç¬¦ï¼Œå³ * åé¢çš„å‚æ•°éƒ½æ˜¯å‘½åå…³é”®å­—å‚æ•° def person(name, age, *, city, job): print(name, age, city, job) # æ–¹å¼äºŒï¼šæœ‰å¯å˜å‚æ•°ï¼Œå¯å˜å‚æ•°åé¢çš„å‚æ•°éƒ½æ˜¯å‘½åå…³é”®å­—å‚æ•° def person(name, age, *args, city, job): print(name, age, args, city, job) Note: å‘½åå…³é”®å­—å‚æ•°å¿…é¡»ä¼ å…¥å‚æ•°åï¼ï¼ï¼å‘½åå…³é”®å­—å‚æ•°ä¹Ÿèƒ½æœ‰é»˜è®¤å€¼ã€‚ å‚æ•°ç»„åˆ\råœ¨Pythonä¸­å®šä¹‰å‡½æ•°ï¼Œå¯ä»¥ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ï¼Œè¿™5ç§å‚æ•°éƒ½å¯ä»¥ç»„åˆä½¿ç”¨ã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼Œå‚æ•°å®šä¹‰çš„é¡ºåº å¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚ ä¿®æ”¹å®å‚å€¼\råœ¨ Python ä¸­ï¼Œå½“å®å‚æ˜¯ ã€Œå¯å˜å¯¹è±¡ã€ æ—¶ï¼ˆä¾‹å¦‚åˆ—è¡¨ã€å­—å…¸ã€é›†åˆç­‰ï¼‰ï¼Œåœ¨å‡½æ•°å†…å¯¹è¯¥å¯¹è±¡çš„ä¿®æ”¹ä¼šç›´æ¥å½±å“åˆ°å®å‚çš„å€¼ã€‚è¿™æ˜¯å› ä¸ºå¯å˜å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’çš„ã€‚ å¦‚æœå®å‚æ˜¯ä¸å¯å˜å¯¹è±¡ï¼ˆå¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ã€å…ƒç»„ç­‰ï¼‰ï¼Œåœ¨å‡½æ•°å†…éƒ¨å¯¹å®ƒä»¬çš„ä»»ä½•ä¿®æ”¹å®é™…ä¸Šæ˜¯åˆ›å»ºäº†æ–°çš„å¯¹è±¡ï¼Œä¸ä¼šå½±å“åˆ°åŸå§‹çš„å®å‚ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:3:2","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"é«˜çº§ç‰¹æ€§\r","date":"2024-11-20","objectID":"/posts/92c957a/:4:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"åˆ‡ç‰‡\rå–ä¸€ä¸ªlistæˆ–tupleçš„éƒ¨åˆ†å…ƒç´ æ˜¯éå¸¸å¸¸è§çš„æ“ä½œã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªlistå¦‚ä¸‹ï¼š L = ['Michael', 'Sarah', 'Tracy', 'Bob', 'Jack'] å¦‚æœè¦å–å‰3ä¸ªå…ƒç´ ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿç›´æ¥é‡‡ç”¨å¾ªç¯æ¥åšå—ï¼Ÿ å½“ç„¶å¯ä»¥ç”¨å¾ªç¯æ¥åšï¼Œä½†è¿™ååˆ†ç¹çï¼Œä¸€ç‚¹éƒ½ä¸ä¼˜é›…ï¼Œæ‰€ä»¥ï¼ŒPythonæä¾›äº†åˆ‡ç‰‡æ“ä½œç¬¦ï¼Œèƒ½ç›´æ¥ä¼˜é›…çš„è¿›è¡Œè¿™ç§æ“ä½œï¼Œç›´æ¥çœ‹ä¾‹å­ï¼š L = ['Michael', 'Sarah', 'Tracy', 'Bob', 'Jack'] print(L[0:3]) # é‡‡ç”¨åˆ‡ç‰‡æ“ä½œç›´æ¥å–å‡ºå‰ä¸‰ä¸ªå…ƒç´  åˆ‡ç‰‡çš„è¯¦ç»†è¯­æ³•ä¸ºï¼štest[start_idx : end_idx : step] testä¸ºä»»æ„åºåˆ—ç±»å‹ï¼Œæ¯”å¦‚åˆ—è¡¨ã€å­—ç¬¦ä¸²ã€å…ƒç»„ç­‰ï¼›test[start_idx : end_idx ] è¡¨ç¤ºå–å‡ºtestä¸­ç´¢å¼•ä¸º [start_idx : end_idx) çš„å…ƒç´ ï¼Œå¦‚æœ start_idx ä¸º 0 æˆ– end_idx ä¸ºæœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ—¶å‡å¯ä¸å†™ï¼Œä¾‹å¦‚ test[ : 3], test[1 : ], test[ : ]ï¼›test[start_idx : end_idx : step] è¡¨ç¤ºåœ¨ [start_idx : end_idx)ä¸­ä¾æ¬¡å–å‡ºç´¢å¼•ä¸º start_idxã€start_idx + stepã€start_idx + step * 2ã€start_idx + step * 3Â·Â·Â·çš„å…ƒç´ ï¼Œå½“æ­¥é•¿ä¸º1æ—¶ï¼Œå¯çœç•¥ä¸å†™ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:4:1","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è¿­ä»£\råœ¨Pythonä¸­ï¼Œè¿­ä»£æ˜¯é€šè¿‡ for ... in æ¥å®ç°çš„ï¼Œå®ƒå¯ä»¥è¿­ä»£ä»»æ„ å¯è¿­ä»£å¯¹è±¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œdict é»˜è®¤è¿­ä»£çš„æ˜¯keyã€‚å¦‚æœè¦è¿­ä»£ valueï¼Œå¯ä»¥ç”¨for value in d.values()ï¼Œå¦‚æœè¦åŒæ—¶è¿­ä»£ key å’Œ valueï¼Œå¯ä»¥ç”¨for k, v in d.items()ã€‚ é‚£ä¹ˆï¼Œå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿæ–¹æ³•æ˜¯é€šè¿‡collections.abcæ¨¡å—çš„Iterableç±»å‹åˆ¤æ–­ï¼š # å¼•å…¥å¤´æ–‡ä»¶ from collections.abc import Iterable print(isinstance('abc', Iterable)) # stræ˜¯å¦å¯è¿­ä»£ï¼Œè¾“å‡º True print(isinstance([1,2,3], Iterable)) # listæ˜¯å¦å¯è¿­ä»£ï¼Œè¾“å‡º True print(isinstance(123, Iterable)) # æ•´æ•°æ˜¯å¦å¯è¿­ä»£ï¼Œè¾“å‡º False å¦‚æœæƒ³è¦å®ç°åƒå…¶ä»–è¯­è¨€ä¸€æ ·çš„ä¸‹æ ‡å¾ªç¯ï¼Œå¯ä»¥ä½¿ç”¨Pythonå†…ç½®çš„enumerateå‡½æ•°ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:4:2","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"åˆ—è¡¨ç”Ÿæˆå¼\råˆ—è¡¨ç”Ÿæˆå¼ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥ç”Ÿæˆåˆ—è¡¨çš„ã€‚æ ¹æ®å‰é¢çš„çŸ¥è¯†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨list(rang(1, 11))çš„æ–¹å¼æ¥ç”Ÿæˆlistï¼Œä½†å¦‚æœè¦ç”Ÿæˆ[1x1, 2x2, 3x3, ..., 10x10]æ€ä¹ˆåšï¼Ÿ ç›´æ¥ç”¨å¾ªç¯æ˜¯ååˆ†ç¹ççš„ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œåˆ—è¡¨ç”Ÿæˆå¼çš„å­¦ä¹ å¯ç›´æ¥çœ‹æ­¤æ•™ç¨‹ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:4:3","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"ç”Ÿæˆå™¨\ré€šè¿‡åˆ—è¡¨ç”Ÿæˆå¼ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”Ÿæˆä¸€ç³»åˆ—çš„å…ƒç´ ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ã€‚ä½†æ˜¯ï¼Œå—åˆ°å†…å­˜é™åˆ¶ï¼Œåˆ—è¡¨å®¹é‡è‚¯å®šæ˜¯æœ‰é™çš„ã€‚é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•èƒ½é€ä¸ªç”Ÿæˆå€¼ï¼Œåœ¨éœ€è¦çš„ç”Ÿæˆçš„æ—¶å€™æ‰ç”Ÿæˆå€¼å‘¢ï¼Ÿå½“ç„¶æœ‰ï¼è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨Pythonä¸­çš„ç”Ÿæˆå™¨ï¼šgeneratorã€‚ è¦åˆ›å»ºä¸€ä¸ªgeneratorï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•å¾ˆç®€å•ï¼Œåªè¦æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„[]æ”¹æˆ()ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªgeneratorï¼š g = (x * x for x in range(10)) # gå°±æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ print(g) # è¾“å‡ºï¼š\u003cgenerator object \u003cgenexpr\u003e at 0x7f12d2c69ba0\u003e print(next(g)) # è¾“å‡º: 0 print(next(g)) # è¾“å‡º: 1 print(next(g)) # è¾“å‡º: 2 é€šè¿‡next()å‡½æ•°å¯ä»¥è·å–ç”Ÿæˆå™¨çš„ä¸‹ä¸€ä¸ªè¿”å›å€¼ï¼Œç›´åˆ°æ²¡æœ‰æ›´å¤šçš„å…ƒç´ æ—¶ï¼Œæ²¡æœ‰æ›´å¤šçš„å…ƒç´ æ—¶ï¼ŒæŠ›å‡ºStopIterationçš„é”™è¯¯ã€‚ å½“ç„¶ï¼Œä¸Šé¢è¿™ç§ä¸æ–­è°ƒç”¨next(g)çš„åšæ³•æ˜¯ååˆ†ä¸ä¼˜é›…çš„ï¼Œæ­£ç¡®çš„æ–¹æ³•æ˜¯ä½¿ç”¨forå¾ªç¯ï¼Œå› ä¸ºgeneratorä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼š g = (x * x for x in range(10)) for n in g: print(n) generatoréå¸¸å¼ºå¤§ã€‚å¦‚æœæ¨ç®—çš„ç®—æ³•æ¯”è¾ƒå¤æ‚ï¼Œç”¨ç±»ä¼¼åˆ—è¡¨ç”Ÿæˆå¼çš„forå¾ªç¯æ— æ³•å®ç°çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥ç”¨å‡½æ•°æ¥å®ç°ã€‚åœ¨å‡½æ•°ä¸­ä½¿ç”¨ yield å…³é”®å­—ï¼Œå°±å¯å°†å‡½æ•°è½¬æ¢ä¸ºgeneratorå‡½æ•°ï¼Œè°ƒç”¨generatorå‡½æ•°å°†è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ã€‚ generatorå‡½æ•°çš„æ‰§è¡Œé¡ºåºå’Œä¸åŒå‡½æ•°æ˜¯ä¸åŒçš„ï¼Œgeneratorå‡½æ•°åœ¨æ¯æ¬¡è°ƒç”¨next()å‡½æ•°ï¼ˆæˆ–æ¯æ¬¡å¾ªç¯ï¼‰æ—¶æ‰§è¡Œï¼Œé‡åˆ°yieldè¯­å¥å°±è¿”å›ï¼Œå†æ¬¡æ‰§è¡Œæ—¶ä»ä¸Šæ¬¡yieldè¯­å¥çš„ ä¸‹ä¸€æ¡è¯­å¥ å¼€å§‹æ‰§è¡Œã€‚ def odd(): print(\"step 1\") yield 1 print(\"step 2\") yield (3) print(\"step 3\") yield (5) o1 = odd() print(next(o1)) # è¾“å‡º: # step 1 # 1 print(next(o1)) # è¾“å‡º: # step 2 # 3 print(next(o1)) # è¾“å‡º: # step 3 # 5 o2 = odd() for n in o2: print(n) # ä¾æ¬¡è¾“å‡ºè·Ÿå‰é¢ä¸€æ ·çš„ç»“æœ Note: è°ƒç”¨generatorå‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œå¤šæ¬¡è°ƒç”¨generatorå‡½æ•°ä¼šåˆ›å»º å¤šä¸ªç›¸äº’ç‹¬ç«‹ çš„generatorã€‚å³åå¤æ‰§è¡Œè¯­å¥ next(odd())ï¼Œå®ƒåªä¼šåå¤è¾“å‡º step 1 generatorå‡½æ•°ä¸­å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨returnè¯­å¥ï¼Œä½†ä½ ä¼šå‘ç°ç›´æ¥æ˜¯æ‹¿ä¸åˆ°è¯¥å‡½æ•°çš„è¿”å›å€¼çš„ï¼Œå› ä¸ºå½“æ²¡æœ‰å…ƒç´ å¯ä»¥ç”Ÿæˆæ—¶å®ƒä¼šæŠ›å‡ºä¸€ä¸ªStopIterationé”™è¯¯ï¼Œæƒ³è¦è·å¾—è¿”å›å€¼å°±å¿…é¡»æ•è· StopIteration é”™è¯¯ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:4:4","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è¿­ä»£å™¨\råœ¨Pythonä¸­ï¼Œå¯ä»¥ç›´æ¥ä½œç”¨äºforå¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼šIterableï¼Œå¯ä»¥è¢«next()å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªå€¼çš„å¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨ï¼šIteratorï¼Œè¿­ä»£å¯¹è±¡å¯é€šè¿‡iter()å‡½æ•°å˜ä¸ºè¿­ä»£å™¨ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨forå¾ªç¯æ¥å˜é‡ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡æ—¶ï¼ŒPythonä¼šé¦–å…ˆå°†è°ƒç”¨ iter() å‡½æ•°å°†è¯¥å¯¹è±¡å˜ä¸ºè¿­ä»£å™¨ï¼Œå†ä¾æ¬¡è°ƒç”¨next()å‡½æ•°æ¥è·å–æ¯ä¸€ä¸ªå€¼ã€‚ æ›´å¤šè¯¦ç»†ä¿¡æ¯å¯çœ‹æ­¤æ•™ç¨‹ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:4:5","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å‡½æ•°å¼ç¼–ç¨‹\r","date":"2024-11-20","objectID":"/posts/92c957a/:5:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"é«˜é˜¶å‡½æ•°\rè·Ÿå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œåœ¨Pythonä¸­å‡½æ•°åä¹Ÿæ˜¯å˜é‡ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™å…¶ä»–å˜é‡ï¼Œä¹Ÿå¯ä»¥å°†å…¶æŒ‡å‘å…¶ä»–å¯¹è±¡ï¼ˆä½†ä¸æ¨èè¿™ä¹ˆåšï¼‰ã€‚å½“ä¸€ä¸ªå‡½æ•°æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°æ—¶ï¼Œè¯¥å‡½æ•°å°±è¢«ç§°ä¸ºé«˜é˜¶å‡½æ•°ã€‚ # è¿™é‡Œçš„ add å‡½æ•°å°±æ˜¯é«˜é˜¶å‡½æ•° def add(x, y, f): return f(x) + f(y) map/reduce\rmap() å‡½æ•°ä¼šå°†æŒ‡å®šçš„å‡½æ•°åº”ç”¨åˆ°å¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ è¿­ä»£å™¨å¯¹è±¡ã€‚å®ƒå¯ä»¥è½»æ¾åœ°å°†åŒä¸€æ“ä½œåº”ç”¨åˆ°åºåˆ—çš„æ¯ä¸ªå…ƒç´ ä¸Šã€‚ è¯­æ³•ä¸ºï¼šmap(function, iterable1, iterable2, ...) functionï¼šè¦åº”ç”¨çš„å‡½æ•°ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°çš„å‡½æ•°ã€‚ iterableï¼šä¸€ä¸ªæˆ–å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨ã€å…ƒç»„ã€é›†åˆç­‰ï¼‰ï¼Œå¯ä»¥æœ‰å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ã€‚ è¿”å›å€¼ï¼šmap å¯¹è±¡ï¼ˆä¸€ä¸ªè¿­ä»£å™¨ï¼‰ã€‚ ç¤ºä¾‹ï¼š def f(x): return x * x # å°†åˆ—è¡¨ä¸­çš„æ¯ä¸ªæ•°å¹³æ–¹ nums = [1, 2, 3, 4] squared = map(f, nums) print(list(squared)) # è¾“å‡º: [1, 4, 9, 16] å¦‚æœæœ‰å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œmap()ä¼šå°†å®ƒä»¬çš„æ¯ä¸ªå…ƒç´ åˆ†åˆ«ä¼ é€’ç»™å‡½æ•°å‚æ•°ï¼Œä½† é•¿åº¦å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™ä¼šæŒ‰æœ€çŸ­çš„å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ˜ å°„ã€‚ def f(x, y): return x + y # å°†ä¸¤ä¸ªåˆ—è¡¨å¯¹åº”ä½ç½®çš„æ•°ç›¸åŠ  nums1 = [1, 2, 3, 4] nums2 = [1, 2, 3, 4] sum = map(f, nums1, nums2) print(list(sum)) # è¾“å‡º: [2, 4, 6, 8] reduceæŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªåºåˆ—[x1, x2, x3, â€¦]ä¸Šï¼Œè¿™ä¸ªå‡½æ•° å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ŒreduceæŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ï¼Œæœ€åè¿”å›ä¸€ä¸ª å€¼ï¼Œå…¶æ•ˆæœå°±æ˜¯ï¼š reduce(f, [x1, x2, x3, x4]) ç­‰ä»·äº f(f(f(x1, x2), x3), x4) ç¤ºä¾‹ï¼š # å°†ä¸€ä¸ªæ•´æ•°åºåˆ—å˜æˆä¸€ä¸ªæ•´æ•° from functools import reduce def fn(x, y): return x * 10 + y print(reduce(fn, [1, 2, 3, 4, 5, 6, 7])) åœ¨ Python 3 ä¸­ï¼Œreduce() å‡½æ•°ä½äº functools æ¨¡å—ä¸­ï¼Œéœ€è¦å¯¼å…¥åä½¿ç”¨ã€‚ filter\ré¡¾åæ€ä¹‰ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨å°±æ˜¯è¿‡æ»¤åºåˆ—ï¼Œå’Œmap()ç±»ä¼¼ï¼Œfilter()ä¹Ÿæ¥æ”¶ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªåºåˆ—ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€‚å’Œmap()ä¸åŒçš„æ˜¯ï¼Œfilter()æŠŠä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œç„¶åæ ¹æ®è¿”å›å€¼æ˜¯Trueè¿˜æ˜¯Falseå†³å®šä¿ç•™è¿˜æ˜¯ä¸¢å¼ƒè¯¥å…ƒç´ ã€‚ ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªlistä¸­ï¼Œåˆ æ‰å¶æ•°ï¼Œåªä¿ç•™å¥‡æ•°ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š def is_odd(n): return n % 2 == 1 list(filter(is_odd, [1, 2, 4, 5, 6, 9, 10, 15])) # ç»“æœ: [1, 5, 9, 15] sorted\rè¯¥å‡½æ•°ç”¨äºæ’åºï¼Œè¯¦ç»†ä¿¡æ¯å‚è€ƒæ­¤æ•™ç¨‹ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:5:1","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è¿”å›å‡½æ•°\råœ¨ Python ä¸­ï¼Œé«˜é˜¶å‡½æ•°å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ä½œä¸ºç»“æœã€‚ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å®šä¹‰ä¸€ä¸ªæ±‚å’Œå‡½æ•°å¹¶å°†å…¶è¿”å›ï¼Œè€Œä¸æ˜¯ç«‹å³è®¡ç®—ç»“æœï¼š def lazy_sum(*args): def sum(): ax = 0 for n in args: ax += n return ax return sum f = lazy_sum(1, 3, 5, 7, 9) print(f()) # è¾“å‡º 25 è°ƒç”¨ lazy_sum æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ï¼ˆæœªè®¡ç®—çš„å’Œå‡½æ•°ï¼‰ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ª æ–°çš„å‡½æ•°ï¼Œå³ä½¿ä¼ å…¥ç›¸åŒçš„å‚æ•°ã€‚è°ƒç”¨è¿”å›çš„å‡½æ•°æ—¶æ‰ä¼šè®¡ç®—ç»“æœã€‚ å½“ä¸€ä¸ªå‡½æ•°å†…éƒ¨å®šä¹‰äº†å¦ä¸€ä¸ªå‡½æ•°ï¼Œä¸”å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆè¿™ç§ç»“æ„ç§°ä¸º ã€Œé—­åŒ…ã€ã€‚é—­åŒ…å¯ä»¥ä¿å­˜å¤–éƒ¨å‡½æ•°çš„çŠ¶æ€ï¼Œåœ¨å¤–éƒ¨å‡½æ•°è¿”å›åä»ç„¶å¯ä»¥è®¿é—®è¿™äº›çŠ¶æ€ã€‚ åœ¨å†…éƒ¨å‡½æ•°ä¸­ä½¿ç”¨çš„å¤–éƒ¨å‡½æ•°å˜é‡ä¼šè¢«å½“æˆ é™æ€å˜é‡ï¼ˆæˆ‘æ˜¯è¿™æ ·æ¥ç†è§£çš„ï¼‰ï¼Œæ‰€ä»¥ï¼Œå½“ä½ è¿”å›å¤šä¸ªä¸åŒçš„å†…éƒ¨å‡½æ•°æ—¶ï¼Œå®ƒä»¬çš„è¿è¡Œç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚ç›´æ¥çœ‹ä¾‹å­ï¼š def count(): fs = [] for i in range(1, 4): def f(): return i * i fs.append(f) return fs f1, f2, f3 = count() print(f1()) print(f2()) print(f3()) # ä½ ä»¥ä¸ºçš„è¾“å‡ºç»“æœï¼š 1 4 9 # å®é™…çš„è¾“å‡ºç»“æœï¼š 9 9 9 å½“å†…å®¹å‡½æ•°ä½¿ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡iæ—¶ï¼Œè¯¥å˜é‡å°±å˜æˆäº†é™æ€å˜é‡ï¼Œè€Œå¾ªç¯ç»“æŸæ—¶ï¼Œiçš„å€¼ä¸º3ã€‚æ‰€ä»¥ï¼Œè¿”å›çš„ä¸‰ä¸ªå‡½æ•°è¾“å‡ºå€¼éƒ½æ˜¯9ã€‚ å¦‚æœæƒ³è¦å¯¹å¤–éƒ¨å‡½æ•°çš„å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œå°±å¿…é¡»åœ¨å†…éƒ¨å‡½æ•°ä¸­ä½¿ç”¨å…³é”®å­—nonlocalæ¥å£°æ˜è¯¥å˜é‡æ˜¯å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œç›´æ¥çœ‹ä¾‹å­ï¼š # ä¸‹é¢çš„ä»£ç ä¼šæŠ¥é”™ï¼Œå› ä¸ºxä½œä¸ºå±€éƒ¨å˜é‡æ˜¯æ²¡æœ‰åˆå§‹åŒ–çš„ def inc(): x = 0 def fn(): # nonlocal x x = x + 1 return x return fn f = inc() print(f()) # 1 print(f()) # 2 #ä¸‹é¢è¿™æ ·å°±æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºxä½œä¸ºå¤–éƒ¨å˜é‡å·²ç»åˆå§‹åŒ–äº† def inc(): x = 0 def fn(): nonlocal x x = x + 1 return x return fn ","date":"2024-11-20","objectID":"/posts/92c957a/:5:2","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"åŒ¿åå‡½æ•°\råŒæ ·çš„Pythonä¹Ÿæ”¯æŒlambdaåŒ¿åå‡½æ•°ï¼Œè¯­æ³•ä¸ºï¼šlambda arguments: expression lambdaå‡½æ•°èƒ½å¤Ÿæ¥æ”¶é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸ç”¨å†™returnï¼Œè¿”å›å€¼å°±æ˜¯è¯¥è¡¨è¾¾å¼çš„ç»“æœã€‚ Pythonå¯¹åŒ¿åå‡½æ•°çš„æ”¯æŒæœ‰é™ï¼Œåªæœ‰ä¸€äº›ç®€å•çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:5:3","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è£…é¥°å™¨\råœ¨ Python ä¸­ï¼Œè£…é¥°å™¨æ˜¯ä¸€ç§ç”¨äºå¢å¼ºå‡½æ•°åŠŸèƒ½çš„ç‰¹æ®Šå‡½æ•°ã€‚è£…é¥°å™¨é€šå¸¸ç”¨äºæ·»åŠ æ—¥å¿—ã€æƒé™æ ¡éªŒã€æ€§èƒ½æµ‹è¯•ã€ç¼“å­˜ç­‰åŠŸèƒ½ï¼Œè€Œä¸æ”¹å˜åŸå§‹å‡½æ•°çš„ä»£ç ã€‚å®ƒçš„å®ç°åŸºäº é—­åŒ…åŸç†ï¼Œå¹¶ä¸”é€šå¸¸ä»¥ @decorator_name çš„å½¢å¼æ¥ä½¿ç”¨ã€‚ è£…é¥°å™¨æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ˆæˆ–åŸå‡½æ•°çš„ä¿®æ”¹ç‰ˆï¼‰ã€‚å…¶è¯­æ³•å¦‚ä¸‹ï¼š @decorator_name def function_to_decorate(): pass è¿™ç­‰ä»·äºï¼š function_to_decorate = decorator_name(function_to_decorate) ç›´æ¥æ¥çœ‹ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š def simple_decorator(func): def wrapper(): print(\"Function is being called.\") func() print(\"Function has been called.\") return wrapper @simple_decorator def say_hello(): print(\"Hello!\") say_hello() è¾“å‡ºï¼š Function is being called. Hello! Function has been called. åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ@simple_decorator è£…é¥°äº† say_hello å‡½æ•°ï¼Œä½¿å¾— say_hello() åœ¨æ‰§è¡Œæ—¶è‡ªåŠ¨æ‰§è¡Œ wrapper ä¸­çš„å…¶ä»–é€»è¾‘ã€‚ è£…é¥°å™¨å¯ä»¥åº”ç”¨äºå¸¦å‚æ•°çš„å‡½æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè£…é¥°å™¨å†…éƒ¨çš„å‡½æ•°éœ€è¦æ¥æ”¶å¹¶è½¬å‘å‚æ•°ï¼š def decorator_with_args(func): def wrapper(*args, **kwargs): print(\"Arguments were:\", args, kwargs) return func(*args, **kwargs) return wrapper @decorator_with_args def greet(name): print(f\"Hello, {name}!\") greet(\"Alice\") è¾“å‡ºï¼š Arguments were: ('Alice',) {} Hello, Alice! è£…é¥°å™¨ä¹Ÿå¯ä»¥æ“ä½œå’Œè¿”å›è¢«è£…é¥°å‡½æ•°çš„è¿”å›å€¼ï¼š def square_decorator(func): def wrapper(x): result = func(x) return result ** 2 return wrapper @square_decorator def double(x): return x * 2 print(double(3)) # è¾“å‡º 36ï¼Œå› ä¸º (3*2)^2 = 36 æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›è£…é¥°å™¨æœ¬èº«å¯ä»¥æ¥å—å‚æ•°ï¼Œè¿™å¯ä»¥é€šè¿‡åµŒå¥—å‡½æ•°æ¥å®ç°ï¼Œå³ä½¿è£…é¥°å™¨å˜ä¸ºä¸‰å±‚åµŒå¥—ï¼š def repeat(num_times): def decorator(func): def wrapper(*args, **kwargs): for _ in range(num_times): func(*args, **kwargs) return wrapper return decorator @repeat(3) def greet(): print(\"Hello!\") greet() è¾“å‡ºï¼š Hello! Hello! Hello! Python æä¾›äº† functools.wraps æ¥ä¿ç•™è¢«è£…é¥°å‡½æ•°çš„å…ƒæ•°æ®ï¼ˆå¦‚å‡½æ•°åã€æ–‡æ¡£å­—ç¬¦ä¸²ç­‰ï¼‰ã€‚è‹¥ä¸ä½¿ç”¨ wrapsï¼Œè£…é¥°åçš„å‡½æ•° __name__ å’Œ __doc__ å±æ€§ä¼šå˜ä¸º wrapper å‡½æ•°çš„å±æ€§ã€‚ from functools import wraps def my_decorator(func): @wraps(func) def wrapper(*args, **kwargs): print(\"Calling decorated function\") return func(*args, **kwargs) return wrapper @my_decorator def example(): \"\"\"This is an example function.\"\"\" print(\"Example function\") print(example.__name__) # è¾“å‡º: example print(example.__doc__) # è¾“å‡º: This is an example function. ","date":"2024-11-20","objectID":"/posts/92c957a/:5:4","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"åå‡½æ•°\rPythonçš„functoolsæ¨¡å—æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯åå‡½æ•°ï¼ˆPartial functionï¼‰ã€‚è¦æ³¨æ„ï¼Œè¿™é‡Œçš„åå‡½æ•°å’Œæ•°å­¦æ„ä¹‰ä¸Šçš„åå‡½æ•°ä¸ä¸€æ ·ã€‚ åœ¨ä»‹ç»å‡½æ•°å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®²åˆ°ï¼Œé€šè¿‡è®¾å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå¯ä»¥é™ä½å‡½æ•°è°ƒç”¨çš„éš¾åº¦ã€‚è€Œåå‡½æ•°ä¹Ÿå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š int()å‡½æ•°å¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°ï¼Œå½“ä»…ä¼ å…¥å­—ç¬¦ä¸²æ—¶ï¼Œint()å‡½æ•°é»˜è®¤æŒ‰åè¿›åˆ¶è½¬æ¢ï¼š print(int('12345')) # è¾“å‡ºï¼š12345 ä½†int()å‡½æ•°è¿˜æä¾›é¢å¤–çš„baseå‚æ•°ï¼Œé»˜è®¤å€¼ä¸º10ã€‚å¦‚æœä¼ å…¥baseå‚æ•°ï¼Œå°±å¯ä»¥åšNè¿›åˆ¶çš„è½¬æ¢ï¼š print(int('12345', base = 8)) # è¾“å‡ºï¼š5349 print(int('12345', base = 16)) # è¾“å‡ºï¼š74565 å‡è®¾è¦è½¬æ¢å¤§é‡çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡éƒ½ä¼ å…¥int(x, base=2)éå¸¸éº»çƒ¦ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬æƒ³åˆ°ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªint2()çš„å‡½æ•°ï¼Œé»˜è®¤æŠŠbase=2ä¼ è¿›å»ï¼š def int2(x, base=2): return int(x, base) print(int2('10000')) # ç›´æ¥å°†è¯¥å­—ç¬¦ä¸²è½¬æ¢æˆäºŒè¿›åˆ¶çš„æ•° functools.partialå°±æ˜¯å¸®åŠ©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåå‡½æ•°çš„ï¼Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å®šä¹‰int2()ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°int2ï¼š import functools int2 = functools.partial(int, base=2) print(int2('1000000')) æ‰€ä»¥ï¼Œç®€å•æ€»ç»“functools.partialçš„ä½œç”¨å°±æ˜¯ï¼ŒæŠŠä¸€ä¸ªå‡½æ•°çš„æŸäº›å‚æ•°ç»™å›ºå®šä½ï¼ˆä¹Ÿå°±æ˜¯è®¾ç½®é»˜è®¤å€¼ï¼‰ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªæ–°å‡½æ•°ä¼šæ›´ç®€å•ã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ç»™è¯¥æ–°å‡½æ•°ä¸­æœ‰é»˜è®¤å€¼çš„å‚æ•°ä¼ å€¼ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:5:5","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"æ¨¡å—\rå‰é¢å·²ç»ä»‹ç»è¿‡ï¼Œå¦‚ä½•åœ¨condaä¸­å®‰è£…åŒ…ï¼Œé‚£ä¹ˆå®‰è£…åŒ…åå¦‚ä½•åœ¨ç¨‹åºä¸­è¿›è¡Œå¯¼å…¥å‘¢ï¼Ÿå…¶è¯­æ³•å¦‚ä¸‹ï¼š import module_name import math print(match.sqrt(16)) è¯¥æ–¹æ³•ä¼šå¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼Œä¼šå…è®¸è®¿é—®è¯¥æ¨¡å—ä¸­æ‰€æœ‰å…¬å¼€å±æ€§å’Œæ–¹æ³•ã€‚ä½¿ç”¨è¯¥æ¨¡å—ä¸­çš„å‡½æ•°æˆ–å±æ€§æ—¶ï¼Œéœ€è¦åŠ ä¸Šæ¨¡å—åå‰ç¼€ã€‚ å¦‚æœåªæƒ³å¯¼å…¥è¯¥æ¨¡å—ä¸­çš„éƒ¨åˆ†å‡½æ•°æˆ–å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨è¯­æ³•ï¼šfrom module_name import ... è¿™ç§æ–¹å¼åªä¼šå¯¼å…¥è¯¥æ¨¡æ¿çš„æŒ‡å®šæˆå‘˜ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬è€Œæ— éœ€æ¨¡å—å‰ç¼€åã€‚ å½“æˆ‘ä»¬æƒ³è¦æ¨¡å—ä¸­çš„æŸäº›æ“ä½œåœ¨æ‰§è¡Œè¯¥æ¨¡å—æ—¶å¯ä»¥æ‰§è¡Œï¼Œè€Œè¯¥æ¨¡å—è¢«å¯¼å…¥æ—¶ä¸æ‰§è¡Œï¼Œå¯ä»¥ä½¿ç”¨ if __name__=='__main__': æ¥è¿›è¡Œæ“ä½œã€‚ Python æ¨¡å—åœ¨ é¦–æ¬¡å¯¼å…¥ æ—¶ä¼šè¢«è§£é‡Šå™¨æ‰§è¡Œï¼ˆä¾‹å¦‚åˆå§‹åŒ–å˜é‡ã€åŠ è½½èµ„æºç­‰ï¼‰ã€‚å¦‚æœè¯¥æ¨¡å—æ˜¯æˆ‘ä»¬é€šè¿‡åœ¨å‘½ä»¤ç›´æ¥æ‰§è¡Œçš„ï¼Œé‚£ä¹ˆè¯¥æ¨¡å—çš„__name__ä¼šè¢«èµ‹å€¼ä¸º __main__ï¼Œå¦‚æœè¯¥æ¨¡å—æ˜¯è¢«å¯¼å…¥æ—¶æ‰§è¡Œçš„ï¼Œé‚£ä¹ˆ __name__ä¼šè¢«èµ‹å€¼ä¸º __è¯¥æ¨¡å—çš„æ–‡ä»¶å__ã€‚ å½“æŸä¸ªå‡½æ•°æˆ–å˜é‡åªæƒ³è¢«è¯¥æ¨¡å—æ‰€è®¿é—®ï¼Œå°±å¯ä»¥ä»¥_xxxæˆ–__xxxçš„å½¢å¼å‘½ä»¤ã€‚è¿™æ ·å°±å°†å…¶å®šä¹‰ä¸ºéå…¬å¼€çš„ï¼Œä¸åº”è¯¥è¢«ç›´æ¥å¼•ç”¨ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:6:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"é¢å‘å¯¹è±¡ç¼–ç¨‹\r","date":"2024-11-20","objectID":"/posts/92c957a/:7:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"ç±»å’Œå®ä¾‹\råœ¨Pythonä¸­ï¼Œç±»çš„å®šä¹‰è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š # å½“æ²¡æœ‰åˆé€‚çš„åŸºç±»æ—¶ï¼Œå°±å†™objectï¼Œå› ä¸ºè¿™æ˜¯æ‰€æœ‰ç±»çš„çš„åŸºç±» class ClassName(BaseName): pass å®šä¹‰å¥½ä¸€ä¸ªç±»åï¼Œå°±å¯ä»¥åˆ›å»ºè¯¥ç±»çš„å®ä¾‹äº†ï¼Œç”±äºPythonä¸­æ²¡æœ‰æŒ‡é’ˆï¼Œæ‰€ä»¥ï¼Œåªèƒ½é€šè¿‡ ç±»å() çš„æ–¹å¼æ¥åˆ›å»ºå®ä¾‹ï¼Œç„¶åé€šè¿‡ . è¿ç®—è®¿é—®ç±»çš„æˆå‘˜ã€‚ ç±»çš„æ„é€ å‡½æ•°çš„å®šä¹‰è¯­æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š class Example(object): def __init__(self, arg1, arg2, ...): pass init å‰åæœ‰ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼Œå’Œæ™®é€šå‡½æ•°ç›¸æ¯”ï¼Œç±»æˆå‘˜å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ selfï¼Œè¡¨ç¤ºå®ä¾‹æœ¬èº«ï¼ˆç›¸å½“äºå…¶ä»–è¯­è¨€çš„thisï¼‰ã€‚åœ¨Pythonä¸­ï¼Œç±»æˆå‘˜å˜é‡æ˜¯ä¸éœ€è¦æå‰å£°æ˜çš„ï¼Œç›´æ¥ä½¿ç”¨ self.å˜é‡å æ¥åˆ›å»ºæˆå‘˜å˜é‡ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:7:1","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è®¿é—®é™åˆ¶\rå¦‚æœè¦è®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œå¯ä»¥æŠŠå±æ€§çš„åç§°å‰åŠ ä¸Šä¸¤ä¸ªä¸‹åˆ’çº¿ __ï¼Œåœ¨Pythonä¸­ï¼Œå®ä¾‹çš„å˜é‡åå¦‚æœä»¥__å¼€å¤´ï¼Œå°±å˜æˆäº†ä¸€ä¸ª ç§æœ‰å˜é‡ï¼ˆprivateï¼‰ï¼Œåªæœ‰å†…éƒ¨å¯ä»¥è®¿é—®ï¼Œå¤–éƒ¨ä¸èƒ½è®¿é—®ã€‚ Note: åœ¨Pythonä¸­ï¼Œå˜é‡åç±»ä¼¼__xxx__çš„ï¼Œä¹Ÿå°±æ˜¯ä»¥åŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œå¹¶ä¸”ä»¥åŒä¸‹åˆ’çº¿ç»“å°¾çš„ï¼Œæ˜¯ ç‰¹æ®Šå˜é‡ ï¼Œä¸æ˜¯privateå˜é‡ï¼Œç‰¹æ®Šå˜é‡æ˜¯å¯ä»¥ç›´æ¥è®¿é—®çš„ã€‚ æœ‰äº›æ—¶å€™ï¼Œä½ ä¼šçœ‹åˆ°ä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡åï¼Œæ¯”å¦‚_nameï¼Œè¿™æ ·çš„å®ä¾‹å˜é‡å¤–éƒ¨æ˜¯å¯ä»¥è®¿é—®çš„ï¼Œä½†æ˜¯ï¼ŒæŒ‰ç…§çº¦å®šä¿—æˆçš„è§„å®šï¼Œå½“ä½ çœ‹åˆ°è¿™æ ·çš„å˜é‡æ—¶ï¼Œæ„æ€å°±æ˜¯ï¼Œâ€œè™½ç„¶æˆ‘å¯ä»¥è¢«è®¿é—®ï¼Œä½†æ˜¯ï¼Œè¯·æŠŠæˆ‘è§†ä¸ºç§æœ‰å˜é‡ï¼Œä¸è¦éšæ„è®¿é—®â€ã€‚ åŒä¸‹åˆ’çº¿å¼€å¤´çš„å®ä¾‹å˜é‡æ˜¯ä¸æ˜¯ä¸€å®šä¸èƒ½ä»å¤–éƒ¨è®¿é—®å‘¢ï¼Ÿå…¶å®ä¹Ÿä¸æ˜¯ã€‚ä¸èƒ½ç›´æ¥è®¿é—®__exampleæ˜¯å› ä¸ºPythonè§£é‡Šå™¨å¯¹å¤–æŠŠ__exampleå˜é‡æ”¹æˆäº†_ClassName__exmapleï¼Œæ‰€ä»¥ï¼Œä»ç„¶å¯ä»¥é€šè¿‡_ClassName__exmapleæ¥è®¿é—®__exampleå˜é‡ï¼š class Student(object): def __init__(self, name): self.__name = name def get_name(self): return self.__name def set_name(self, name): self.__name = name # ä»¥ä¸‹æ–¹å¼ä»ç„¶å¯ä»¥ç›´æ¥è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ stu = Student(\"Ami\") print(stu._Student__name) ä½†æ˜¯å¼ºçƒˆå»ºè®®ä¸è¦è¿™ä¹ˆå¹²ï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„Pythonè§£é‡Šå™¨å¯èƒ½ä¼šæŠŠ__nameæ”¹æˆä¸åŒçš„å˜é‡åã€‚ æ€»çš„æ¥è¯´å°±æ˜¯ï¼ŒPythonæœ¬èº«æ²¡æœ‰ä»»ä½•æœºåˆ¶é˜»æ­¢ä½ å¹²åäº‹ï¼Œä¸€åˆ‡å…¨é è‡ªè§‰ã€‚ æœ€åæ³¨æ„ä¸‹é¢çš„è¿™ç§ é”™è¯¯å†™æ³•ï¼š class Student(object): def __init__(self, name): self.__name = name def get_name(self): return self.__name def set_name(self, name): self.__name = name stu = Student(\"Ami\") stu.__name = \"New Name\" print(stu.get_name()) # è¾“å‡ºï¼šAmi print(stu.__name) # è¾“å‡ºï¼šNew Name è¡¨é¢ä¸Šçœ‹ï¼Œå¤–éƒ¨ä»£ç â€œæˆåŠŸâ€åœ°è®¾ç½®äº†__nameå˜é‡ï¼Œä½†å®é™…ä¸Šè¿™ä¸ª__nameå˜é‡å’Œclasså†…éƒ¨çš„__nameå˜é‡ä¸æ˜¯ä¸€ä¸ªå˜é‡ï¼å†…éƒ¨çš„__nameå˜é‡å·²ç»è¢«Pythonè§£é‡Šå™¨è‡ªåŠ¨æ”¹æˆäº†_Student__nameï¼Œè€Œå¤–éƒ¨ä»£ç ç»™stuæ–°å¢äº†ä¸€ä¸ª__nameå˜é‡ã€‚ æœ€åå†æ¬¡å£°æ˜ä¸€ä¸‹ï¼šåœ¨Pythonä¸­ï¼Œç±»å®ä¾‹çš„æˆå‘˜å˜é‡ï¼ˆå±æ€§ï¼‰æ˜¯åŠ¨æ€çš„ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥éšæ—¶ä¸ºå®ä¾‹æ·»åŠ æ–°çš„å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ã€åˆ é™¤å·²æœ‰çš„å±æ€§ï¼ˆé€šè¿‡å®ä¾‹ä¹Ÿå¯ä»¥ä¿®æ”¹ï¼‰ã€‚è¿™æ˜¯Pythonçµæ´»æ€§çš„ä½“ç°ï¼Œå®ƒå…è®¸ä½ åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ”¹å˜å¯¹è±¡çš„çŠ¶æ€ã€‚æ‰€ä»¥ï¼Œåœ¨Pythonä¸­åŒä¸€ä¸ªç±»çš„å®ä¾‹æ˜¯å¯ä»¥æœ‰ä¸åŒçš„ç±»æˆå‘˜çš„ï¼ï¼ï¼ä¸€å®šè¦æ³¨æ„ä»£ç çš„ç»„ç»‡å’Œå°è£…ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:7:2","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"ç»§æ‰¿å’Œå¤šæ€\rè¿™æ²¡ä»€ä¹ˆå¥½è¯´ï¼Œè·Ÿå…¶ä»–è¯­è¨€ä¸€æ ·ç†è§£å°±è¡Œã€‚ï¼ˆè™½ç„¶æˆ‘æ„Ÿè§‰åœ¨Pythonä¸­æ²¡ä»€ä¹ˆä½œç”¨ï¼Œä¹Ÿå°±æ˜¯è®©å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„æˆå‘˜è€Œå·²ã€‚å› ä¸ºä½ Pythonæœ¬æ¥å˜é‡å°±æ˜¯åŠ¨æ€ç±»å‹çš„ï¼Œæ ¹æœ¬å°±ä¸å­˜åœ¨å¯¹äºæ¯ä¸ªæ´¾ç”Ÿç±»éƒ½éœ€è¦å®šä¹‰ä¸€ä¸ªå˜é‡æ¥è°ƒç”¨çš„æƒ…å†µï¼‰ ","date":"2024-11-20","objectID":"/posts/92c957a/:7:3","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è·å–å¯¹è±¡ä¿¡æ¯\rä¸€èˆ¬ä½¿ç”¨ isinstance() å‡½æ•°æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æŸç§ç±»å‹ã€‚ å¦‚æœè¦è·å¾—ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨dir()å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²çš„listï¼Œæ¯”å¦‚ï¼Œè·å¾—ä¸€ä¸ªstrå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼š print(dir('ABC')) # è¾“å‡ºï¼š['__add__', '__class__',..., '__subclasshook__', 'capitalize', 'casefold',..., 'zfill'] ä»…ä»…æŠŠå±æ€§å’Œæ–¹æ³•åˆ—å‡ºæ¥æ˜¯ä¸å¤Ÿçš„ï¼Œé…åˆgetattr()ã€setattr()ä»¥åŠhasattr()ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ“ä½œä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€ï¼š class MyObject(object): def __init__(self): self.x = 9 def power(self): return self.x * self.x obj = MyObject() print(hasattr(obj, \"x\")) # æœ‰å±æ€§'x'å—ï¼Ÿ print(getattr(obj, \"x\")) # è·å–å±æ€§'x' print(hasattr(obj, \"power\")) # æœ‰å±æ€§'power'å—ï¼Ÿ print(getattr(obj, \"power\")) # è·å–å±æ€§'power' print(hasattr(obj, \"y\")) # æœ‰å±æ€§'y'å—ï¼Ÿ setattr(obj, \"y\", 23) # è®¾ç½®ä¸€ä¸ªå±æ€§ 'y', å…¶å€¼ä¸º 23 print(hasattr(obj, \"y\")) # æœ‰å±æ€§'y'å—ï¼Ÿ print(getattr(obj, \"y\")) # è·å–å±æ€§'y' è¾“å‡ºï¼š True 9 True \u003cbound method MyObject.power of \u003c__main__.MyObject object at 0x7fea3e503fd0\u003e\u003e False True 23 å¦‚æœè¯•å›¾è·å–ä¸å­˜åœ¨çš„å±æ€§ï¼Œä¼šæŠ›å‡ºAttributeErrorçš„é”™è¯¯ã€‚getattr()å‡½æ•°å¯ä»¥ä¼ å…¥ä¸€ä¸ªdefaultå‚æ•°ï¼Œå¦‚æœå±æ€§ä¸å­˜åœ¨ï¼Œå°±è¿”å›é»˜è®¤å€¼ï¼š getattr(obj, 'z', 101) # è·å–å±æ€§'z'ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›é»˜è®¤å€¼101 ","date":"2024-11-20","objectID":"/posts/92c957a/:7:4","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å®ä¾‹å±æ€§å’Œç±»å±æ€§\rå‰é¢å·²ç»è¯´è¿‡äº†ï¼Œç”±äºPythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œæ ¹æ®ç±»åˆ›å»ºçš„å®ä¾‹å¯ä»¥ä»»æ„ç»‘å®šå±æ€§ã€‚ ç»™å®ä¾‹ç»‘å®šå±æ€§çš„æ–¹æ³•æ˜¯é€šè¿‡ å®ä¾‹å˜é‡ï¼Œæˆ–è€…é€šè¿‡ selfå˜é‡ï¼š class Student(object): def __init__(self, name): self.name = name s = Student('Bob') s.score = 90 # ç»‘å®šäº†ä¸€ä¸ª score æˆå‘˜ ä½†æ˜¯ï¼Œå¦‚æœStudentç±»æœ¬èº«éœ€è¦ç»‘å®šä¸€ä¸ªå±æ€§å‘¢ï¼Ÿå¯ä»¥ç›´æ¥åœ¨classä¸­å®šä¹‰å±æ€§ï¼Œè¿™ç§å±æ€§æ˜¯ç±»å±æ€§ï¼Œå½’Studentç±»æ‰€æœ‰ï¼š class Student(object): name = 'Student' å½“æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç±»å±æ€§åï¼Œè¿™ä¸ªå±æ€§å½’ç±»æ‰€æœ‰ï¼Œç±»çš„æ‰€æœ‰å®ä¾‹éƒ½å¯ä»¥è®¿é—®åˆ°ï¼ˆåªè¦è¿™ä¸ªç±»æ²¡æœ‰å®šä¹‰ç›¸åŒåç§°çš„ç±»å±æ€§ï¼‰ã€‚æ¥æµ‹è¯•ä¸€ä¸‹ï¼š class Student(object): name = \"Student\" s = Student() # åˆ›å»ºå®ä¾‹s print(s.name) # æ‰“å°nameå±æ€§ï¼Œå› ä¸ºå®ä¾‹å¹¶æ²¡æœ‰nameå±æ€§ï¼Œæ‰€ä»¥ä¼šç»§ç»­æŸ¥æ‰¾classçš„nameå±æ€§ print(Student.name) # æ‰“å°ç±»çš„nameå±æ€§ s.name = \"Michael\" # ç»™å®ä¾‹ç»‘å®šnameå±æ€§ print(s.name) # ç”±äºå®ä¾‹å±æ€§ä¼˜å…ˆçº§æ¯”ç±»å±æ€§é«˜ï¼Œå› æ­¤ï¼Œå®ƒä¼šå±è”½æ‰ç±»çš„nameå±æ€§ print(Student.name) # ä½†æ˜¯ç±»å±æ€§å¹¶æœªæ¶ˆå¤±ï¼Œç”¨Student.nameä»ç„¶å¯ä»¥è®¿é—® del s.name # å¦‚æœåˆ é™¤å®ä¾‹çš„nameå±æ€§ print(s.name) # å†æ¬¡è°ƒç”¨s.nameï¼Œç”±äºå®ä¾‹çš„nameå±æ€§æ²¡æœ‰æ‰¾åˆ°ï¼Œç±»çš„nameå±æ€§å°±æ˜¾ç¤ºå‡ºæ¥äº† è¾“å‡ºï¼š Student Student Michael Student Student å½“æŸä¸ªå®ä¾‹è¦è®¿é—®æŸä¸ªå±æ€§æ—¶ï¼Œä¼šå…ˆå»è¯¥å®ä¾‹ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰ç›¸å…³å±æ€§ï¼Œå¦‚æœæ²¡æœ‰æ‰ä¼šå–ç±»ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰ç›¸å…³å±æ€§ã€‚å³ ç›¸åŒåç§°çš„å®ä¾‹å±æ€§ä¼šå±è”½æ‰ç±»å±æ€§ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:7:5","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹\r","date":"2024-11-20","objectID":"/posts/92c957a/:8:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"ä½¿ç”¨__slots__\råœ¨å‰é¢æˆ‘ä»¬è¯´äº†ï¼ŒPythonæ˜¯ä¸€ä¸ªååˆ†çµæ´»çš„è¯­è¨€ï¼Œæ¯ä¸ªç±»çš„å®ä¾‹éƒ½å¯ä»¥è‡ªå·±æ·»åŠ è‡ªå·±æƒ³è¦çš„å±æ€§ï¼ˆå˜é‡å±æ€§ã€å‡½æ•°å±æ€§éƒ½å¯ä»¥ï¼‰ã€‚ä½†è¿™ä¼šå ç”¨å¾ˆå¤šå†…å­˜ï¼Œä¸”å¯èƒ½ä¼šå‘ç”Ÿå±æ€§è¯¯ç”¨çš„æƒ…å†µã€‚ åœ¨ Python ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡çš„å±æ€§é»˜è®¤å­˜å‚¨åœ¨ä¸€ä¸ªå« __dict__ çš„å­—å…¸ä¸­ã€‚å­—å…¸ä¼šå ç”¨é¢å¤–çš„å†…å­˜ï¼Œç‰¹åˆ«æ˜¯å½“ç±»çš„å®ä¾‹æ•°é‡è¾ƒå¤§ã€å±æ€§è¾ƒå°‘æ—¶ï¼Œå†…å­˜å¼€é”€ä¼šæ˜¾å¾—è¾ƒå¤§ã€‚ä½¿ç”¨ __slots__ å¯ä»¥è®© Python ä¸å†ä¸ºæ¯ä¸ªå®ä¾‹åˆ›å»º __dict__ï¼Œä»è€ŒèŠ‚çœå†…å­˜ã€‚ ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨__slots__æ¥é™åˆ¶å¯ä»¥æ·»åŠ çš„å®ä¾‹å±æ€§ã€‚ class MyClass: __slots__ = ['name', 'age'] # é™å®šå®ä¾‹å±æ€§ class_attr = \"I am a class attribute\" # å®šä¹‰ä¸€ä¸ªç±»å±æ€§ def __init__(self, name, age): self.name = name self.age = age obj = MyClass(\"Alice\", 30) # è®¿é—®å®ä¾‹å±æ€§ print(obj.name) # è¾“å‡º: Alice print(obj.age) # è¾“å‡º: 30 # å°è¯•æ·»åŠ æœªåœ¨ __slots__ ä¸­å®šä¹‰çš„å®ä¾‹å±æ€§ try: obj.gender = \"Female\" # ä¼šå¼•å‘ AttributeError except AttributeError as e: print(e) # è¾“å‡º: 'MyClass' object has no attribute 'gender' # è®¿é—®ç±»å±æ€§ print(MyClass.class_attr) # è¾“å‡º: I am a class attribute # ä¿®æ”¹ç±»å±æ€§ MyClass.class_attr = \"New class attribute value\" print(MyClass.class_attr) # è¾“å‡º: New class attribute value # åŠ¨æ€æ·»åŠ æ–°çš„ç±»å±æ€§ MyClass.new_class_attr = \"Another class attribute\" print(MyClass.new_class_attr) # è¾“å‡º: Another class attribute Note: __slots__åªä¼šé™åˆ¶å¯ä»¥æ·»åŠ çš„å®ä¾‹å±æ€§ï¼Œä¸ä¼šé™åˆ¶ç±»å±æ€§çš„ä¿®æ”¹ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:8:1","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"ä½¿ç”¨@property\rå‰é¢è¯´è¿‡äº†ï¼Œå¯¹äºç§æœ‰æˆå‘˜ï¼Œæˆ‘ä»¬è¦è®¾ç½®å•ç‹¬çš„å‡½æ•°æ¥å¯¹å…¶è¿›è¡Œè®¿é—®å’Œä¿®æ”¹ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•èƒ½ç”¨ç±»ä¼¼å±æ€§è¿™æ ·ç®€å•çš„æ–¹å¼æ¥è®¿é—®ç±»çš„å˜é‡å‘¢ï¼Ÿ å½“ç„¶æœ‰ï¼Pythonå†…ç½®çš„ @property è£…é¥°å™¨å°±æ˜¯è´Ÿè´£æŠŠä¸€ä¸ªæ–¹æ³•å˜æˆå±æ€§è°ƒç”¨çš„ï¼š class Student(object): @property def score(self): return self._score @score.setter def score(self, value): if not isinstance(value, int): raise ValueError('score must be an integer!') if value \u003c 0 or value \u003e 100: raise ValueError('score must between 0 ~ 100!') self._score = value @propertyçš„å®ç°æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å…ˆè€ƒå¯Ÿå¦‚ä½•ä½¿ç”¨ã€‚æŠŠä¸€ä¸ªgetteræ–¹æ³•å˜æˆå±æ€§ï¼Œåªéœ€è¦åŠ ä¸Š@propertyå°±å¯ä»¥äº†ï¼Œæ­¤æ—¶ï¼Œ@propertyæœ¬èº«åˆè‡ªåŠ¨åˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨@score.setter(ä½ ä¸ä½¿ç”¨è¿™ä¸ªæ–°çš„è‡ªåŠ¨åˆ›å»ºçš„è£…é¥°å™¨ï¼Œé‚£ä¹ˆè¯¥å˜é‡å°±æ˜¯åªè¯»çš„)ï¼Œè´Ÿè´£æŠŠä¸€ä¸ªsetteræ–¹æ³•å˜æˆå±æ€§èµ‹å€¼ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬å°±æ‹¥æœ‰ä¸€ä¸ªå¯æ§çš„å±æ€§æ“ä½œï¼š s = Student() s.score = 90 # OKï¼Œå®é™…è½¬åŒ–ä¸ºs.set_score(90) print(s.score) # OKï¼Œå®é™…è½¬åŒ–ä¸ºs.get_score() s.score = 9999 è¾“å‡ºï¼š 90 Traceback (most recent call last): ... ValueError: score must between 0 ~ 100! è¿˜å¯ä»¥å®šä¹‰åªè¯»å±æ€§ï¼Œåªå®šä¹‰getteræ–¹æ³•ï¼Œä¸å®šä¹‰setteræ–¹æ³•å°±æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼š class Student(object): @property def birth(self): return self._birth @birth.setter def birth(self, value): self._birth = value @property def age(self): return 2015 - self._birth ä¸Šé¢çš„birthæ˜¯å¯è¯»å†™å±æ€§ï¼Œè€Œageå°±æ˜¯ä¸€ä¸ª åªè¯»å±æ€§ï¼Œå› ä¸ºageå¯ä»¥æ ¹æ®birthå’Œå½“å‰æ—¶é—´è®¡ç®—å‡ºæ¥ã€‚ Note: å±æ€§çš„æ–¹æ³•åä¸è¦å’Œå®ä¾‹å˜é‡é‡åã€‚å› ä¸ºå½“å±æ€§æ–¹æ³•åå’Œå®ä¾‹å˜é‡é‡åï¼Œä½ åœ¨å±æ€§æ–¹æ³•ä¸­è°ƒç”¨åŒåçš„å˜é‡ï¼Œä¼šè®¤ä¸ºåœ¨è°ƒç”¨å±æ€§æ–¹æ³•ï¼Œé€ æˆé€’å½’è°ƒç”¨ï¼Œå¯¼è‡´æ ˆæº¢å‡ºæŠ¥é”™ï¼ ","date":"2024-11-20","objectID":"/posts/92c957a/:8:2","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å¤šé‡ç»§æ‰¿\rå’Œ C++ ä¸€æ ·ï¼Œå…è®¸ä¸€ä¸ªå­ç±»ç»§æ‰¿å¤šä¸ªçˆ¶ç±»ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:8:3","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å®šåˆ¶ç±»\rPythonçš„classå…è®¸å®šä¹‰è®¸å¤šå®šåˆ¶æ–¹æ³•ï¼Œå¯ä»¥è®©æˆ‘ä»¬éå¸¸æ–¹ä¾¿åœ°ç”Ÿæˆç‰¹å®šçš„ç±»ã€‚æ¯”å¦‚ï¼Œ__str__å‡½æ•°å¯ä»¥è®©print(ç±»)æ˜¯æ‰“å°æ›´ç®€æ´ç›´æ¥çš„å†…å®¹ç­‰ã€‚æ›´å¤šä¿¡æ¯å¯å‚è€ƒæ­¤æ•™ç¨‹ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:8:4","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"ä½¿ç”¨æšä¸¾ç±»\rPythonä¸­çš„æšä¸¾ï¼ˆEnumerationï¼‰ç±»æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œç”¨äºå®šä¹‰ä¸€ç»„å‘½åçš„ å¸¸é‡ã€‚æšä¸¾ç±»åœ¨Python 3.4ä¸­é€šè¿‡enumæ¨¡å—å¼•å…¥ï¼Œæä¾›äº†ä¸€ç§ç±»å‹å®‰å…¨çš„æ–¹å¼æ¥è¡¨ç¤ºå›ºå®šçš„ä¸€ç»„å€¼ã€‚ä½¿ç”¨æšä¸¾ç±»å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å›ºå®šé›†åˆçš„å€¼æ—¶ï¼Œå¦‚ä¸€å‘¨çš„å¤©æ•°ã€æœˆä»½ã€çŠ¶æ€ç ç­‰ã€‚ ä½¿ç”¨æšä¸¾ç±»æ—¶ï¼Œé¦–å…ˆè¦ä»enumæ¨¡å—å¯¼å…¥Enumç±»ï¼šfrom enum import Enum å®šä¹‰ä¸€ä¸ªæšä¸¾ç±»ä¸å®šä¹‰ä¸€ä¸ªå¸¸è§„ç±»ç±»ä¼¼ï¼Œä½†æ˜¯æšä¸¾ç±»çš„æˆå‘˜ä¼šè¢«è‡ªåŠ¨èµ‹å€¼ä¸ºæšä¸¾å€¼ï¼ˆä½ ä¸æ˜¾ç¤ºçš„èµ‹å€¼ï¼Œå®ƒä»¬å°†è‡ªåŠ¨ä»1å¼€å§‹é€’å¢ï¼‰ï¼š class Color(Enum): RED = 1 GREEN = 2 BLUE = 3 favorite_color = Color.RED print(favorite_color) # è¾“å‡º: Color.RED print(favorite_color.value) # è¾“å‡º: 1 print(favorite_color.name) # è¾“å‡º: 'RED' æšä¸¾æˆå‘˜æ˜¯å¯æ¯”è¾ƒçš„ï¼Œä½ å¯ä»¥ä½¿ç”¨==å’Œ!=æ“ä½œç¬¦ï¼š if favorite_color == Color.RED: print(\"Favorite color is red.\") ä½ å¯ä»¥ä½¿ç”¨Enumç±»çš„__members__å±æ€§æˆ–è€…enum.auto()å‡½æ•°æ¥è·å–æšä¸¾ç±»çš„æ‰€æœ‰æˆå‘˜ï¼š # ä½¿ç”¨ __members__ å±æ€§ for name, member in Color.__members__.items(): print(name, member) # ä½¿ç”¨ enum.auto() for member in enum.auto(): print(member) ","date":"2024-11-20","objectID":"/posts/92c957a/:8:5","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"é”™è¯¯ã€è°ƒå¼å’Œæµ‹è¯•\r","date":"2024-11-20","objectID":"/posts/92c957a/:9:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"é”™è¯¯å¤„ç†\råœ¨Pythonä¸­ï¼Œé”™è¯¯å¤„ç†çš„è¯­æ³•ä¸ºï¼š try: ... except class1Error as e: ... except class1Error as e: ... ... else: ... finally: ... å…¶ä¸­ elseå’Œfinallyéƒ½æ˜¯å¯é€‰çš„ï¼Œelseæ˜¯æ²¡æœ‰å‘ç”Ÿé”™è¯¯æ—¶è¦æ‰§è¡Œçš„å†…å®¹ï¼Œfinallyæ˜¯æœ€åæ‰§è¡Œçš„å†…å®¹ï¼ˆæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸æƒ…å†µï¼‰ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:9:1","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è°ƒå¼\rç›´æ¥ä½¿ç”¨IEDé‡Œé¢çš„è°ƒå¼åŠŸèƒ½ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:9:2","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å•å…ƒæµ‹è¯•\rç¼–å†™Pythonä¸­çš„å•å…ƒæµ‹è¯•ï¼Œéœ€è¦å¼•ç”¨Pythonè‡ªå¸¦çš„unittestæ¨¡å—ã€‚ï¼ˆè¿™é‡Œåªæ˜¯è®°å½•ä¸€ä¸‹ï¼Œéœ€è¦ç”¨æ—¶æ‰å»å­¦ä¹ ï¼Œè¯¥æ¨¡å—å°±ç±»ä¼¼äºC++ä¸­çš„gtestï¼‰ ","date":"2024-11-20","objectID":"/posts/92c957a/:9:3","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"æ–‡æ¡£æµ‹è¯•\råœ¨ Python ä¸­ï¼Œdoctest æ¨¡å—æ˜¯ä¸€ç§ç”¨äºåœ¨æ–‡æ¡£å­—ç¬¦ä¸²ä¸­ç›´æ¥åµŒå…¥æµ‹è¯•ä»£ç çš„å·¥å…·ã€‚é€šè¿‡ doctestï¼Œå¯ä»¥ç¼–å†™å’Œè¿è¡Œä¸ä»£ç ç¤ºä¾‹ä¸€è‡´çš„æµ‹è¯•ï¼Œç¡®ä¿ä»£ç ç¤ºä¾‹ä¿æŒå‡†ç¡®ã€‚doctest å¸¸ç”¨äºç®€å•çš„å•å…ƒæµ‹è¯•æˆ–ç¤ºä¾‹ä»£ç çš„éªŒè¯ã€‚ doctest ä¼šæ‰«ææ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆdocstringï¼‰ä¸­å½¢å¦‚ Python äº¤äº’å¼è§£é‡Šå™¨ä¸­çš„ä»£ç ï¼Œå¹¶æ‰§è¡Œè¿™äº›ä»£ç ã€‚è‹¥æ‰§è¡Œç»“æœä¸ç¤ºä¾‹ä¸­ç»™å‡ºçš„ç»“æœä¸ç¬¦ï¼Œdoctest ä¼šæŠ¥å‘Šé”™è¯¯ã€‚åœ¨å‡½æ•°çš„ docstring ä¸­ä¹¦å†™æµ‹è¯•ç¤ºä¾‹ã€‚ç¤ºä¾‹ä»£ç ä»¥ \u003e\u003e\u003e å¼€å¤´ï¼Œç»“æœç´§è·Ÿåœ¨ç¤ºä¾‹ä»£ç ä¸‹æ–¹ã€‚ def add(a, b): \"\"\" è¿”å›ä¸¤ä¸ªæ•°çš„å’Œã€‚ ç¤ºä¾‹ï¼š \u003e\u003e\u003e add(2, 3) 5 \u003e\u003e\u003e add(-1, 1) 0 \"\"\" return a + b doctest çš„æµ‹è¯•å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼è¿è¡Œï¼š æ–¹å¼ä¸€ï¼šå‘½ä»¤è¡Œè¿è¡Œ ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œæ‰§è¡Œè¯¥ Python æ–‡ä»¶ï¼Œæ·»åŠ  -m doctest é€‰é¡¹ï¼š python -m doctest filename.py æ­¤æ–¹å¼ä¼šæ‰«ææ–‡ä»¶ä¸­çš„æ‰€æœ‰ doctestï¼Œå¹¶æŠ¥å‘Šæµ‹è¯•ç»“æœã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæµ‹è¯•é€šè¿‡åˆ™æ²¡æœ‰è¾“å‡ºï¼Œä»…å½“æµ‹è¯•å¤±è´¥æ—¶æ‰ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚ æ–¹å¼äºŒï¼šç›´æ¥åœ¨ä»£ç ä¸­è¿è¡Œ å¯ä»¥åœ¨ä»£ç ä¸­è°ƒç”¨ doctest.testmod() å‡½æ•°æ¥è¿è¡Œæµ‹è¯•ï¼š if __name__ == \"__main__\": import doctest doctest.testmod() æ­¤æ–¹å¼é€‚ç”¨äºåœ¨è„šæœ¬ä¸­åµŒå…¥æµ‹è¯•ï¼Œè¿è¡Œè„šæœ¬æ—¶è‡ªåŠ¨æµ‹è¯•ã€‚ doctest æ›´é€‚åˆç®€å•çš„è¾“å…¥è¾“å‡ºæµ‹è¯•ï¼Œå¤æ‚çš„é€»è¾‘æµ‹è¯•é€šå¸¸ä½¿ç”¨ unittestæ¨¡å—ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:9:4","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"IOç¼–ç¨‹\rå…ˆè®°å½•åœ¨è¿™ï¼Œè¦ä½¿ç”¨æ—¶å†å­¦ä¹ ï¼Œå­¦ä¹ åœ°å€ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:10:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"è¿›ç¨‹å’Œçº¿ç¨‹\rå…ˆè®°å½•åœ¨è¿™ï¼Œè¦ä½¿ç”¨æ—¶å†å­¦ä¹ ï¼Œå­¦ä¹ åœ°å€ã€‚ ","date":"2024-11-20","objectID":"/posts/92c957a/:11:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["Python"],"content":"å‚è€ƒèµ„æ–™\rhttps://liaoxuefeng.com/books/python/introduction/index.html ","date":"2024-11-20","objectID":"/posts/92c957a/:12:0","tags":["ç¬”è®°"],"title":"Pythonå­¦ä¹ ç¬”è®°","uri":"/posts/92c957a/"},{"categories":["ç®—æ³•"],"content":"Aæ˜Ÿç®—æ³•ç®€ä»‹\rA*ï¼ˆAæ˜Ÿï¼‰ç®—æ³•æ˜¯ä¸€ç§åŸºäºæ ¼å­ï¼ˆGridï¼‰çš„å¯»è·¯ç®—æ³•ï¼Œç”¨äºä»ä¼—å¤šè·¯å¾„ä¸­ï¼Œå¯»æ‰¾ä¸€æ¡ä»èµ·ç‚¹åˆ°ç»ˆç‚¹ä»£ä»·æœ€å°çš„è·¯å¾„ã€‚åŸºäºæ ¼å­ä¹Ÿå°±æ˜¯è¯´ä¼šæŠŠåœ°å›¾çœ‹ä½œæ˜¯ç”± w*h ä¸ªæ ¼å­ç»„æˆçš„ï¼Œå› æ­¤å¯»å¾—çš„è·¯å¾„ä¹Ÿå°±æ˜¯ç”±ä¸€è¿ä¸²ç›¸é‚»çš„æ ¼å­æ‰€ç»„æˆçš„è·¯å¾„ã€‚ æ—¢ç„¶æ˜¯è¦å¯»æ‰¾ä»£ä»·æœ€å°çš„è·¯å¾„ï¼Œé‚£ä¹ˆéå†èŠ‚ç‚¹æ—¶ï¼Œå°±ä¸èƒ½ç›²ç›®åœ°éå†ï¼Œè€Œæ˜¯æŒ‘é‚£äº› ã€Œæœ€æœ‰å¯èƒ½ä»£ä»·å¾ˆå°ã€ çš„èŠ‚ç‚¹æ¥è¿ç®—ã€‚å¦‚ä½•è·å¾—è¿™ç§ä»£ä»·å¾ˆå°çš„èŠ‚ç‚¹å‘¢ï¼Ÿè¿™å°±éœ€è¦ä½¿ç”¨å¯å‘å‡½æ•°æ¥è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ä»£ä»·äº†ï¼ˆåœ¨A*ä¸­å¯å‘å‡½æ•°ä¹Ÿè¢«ç§°ä¸º ä¼°ä»·å‡½æ•° ï¼‰ã€‚ ä¸€æ¡è·¯å¾„çš„ä»£ä»·æ— éå°±æ˜¯è·¯å¾„é•¿åº¦ï¼ˆä¸å¸¦æƒé‡æ—¶ï¼‰ï¼Œå¯æ˜¯å½“å¯»æ‰¾è·¯å¾„æ—¶ï¼Œè¯¥å¦‚ä½•è®¡ç®—ä»£ä»·å‘¢ï¼Ÿé‚£å°±æ˜¯å°†ä»£ä»·åˆ†ä¸ºä¸¤ä¸ªæ–¹é¢ï¼š å·²çŸ¥ä»£ä»·ã€‚ å³ä»èµ·ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ã€‚ æœªæ¥å¯èƒ½ä¼šæœ‰çš„ä»£ä»·ã€‚ ç”¨ â€œçŒœâ€ çš„ï¼Œå‡è®¾å½“å‰èŠ‚ç‚¹åˆ°ç»ˆç‚¹ä¹‹é—´æ²¡æœ‰éšœç¢ï¼Œä»£ä»·æ˜¯å¤šå°‘ã€‚ é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¼°ä»·å‡½æ•°ä¸ºï¼šf(n) = g(n) + h(n)ï¼Œå…¶ä¸­g(n)è¡¨ç¤ºèµ·ç‚¹åˆ°æ ¼å­nçš„ä»£ä»·ï¼Œh(n)è¡¨ç¤ºæ ¼å­nåˆ°ç»ˆç‚¹çš„ä»£ä»·ï¼Œf(n)è¡¨ç¤ºæ ¼å­nçš„ä»£ä»·ã€‚ ç”±äºåœ¨EDAä¸­ï¼Œæ˜¯ä½¿ç”¨æ›¼å“ˆé¡¿è·ç¦»æ¥è¡¨ç¤ºä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œæ‰€ä»¥æœ¬æ–‡é‡‡ç”¨æ›¼å“ˆé¡¿è·ç¦»æ¥è®¡ç®—ä»£ä»·ã€‚ çŸ¥é“å¯å‘å‡½æ•°æ˜¯æ€ä¹ˆå›äº‹ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹éå†èŠ‚ç‚¹äº†ã€‚ä»èµ·ç‚¹å¼€å§‹ï¼Œè®¡ç®—å…¶å››å‘¨èŠ‚ç‚¹çš„ä»£ä»·ï¼Œå¹¶æŠŠé‚£äº›èŠ‚ç‚¹æ”¾åˆ°ä¸€ä¸ª ã€Œæ± å­ã€ é‡Œé¢å»ï¼Œä¹‹åæ¯æ¬¡éƒ½ä»æ± å­é‡Œé¢æå‡ºæ¥ä»£ä»·æœ€å°çš„èŠ‚ç‚¹ï¼Œç»§ç»­è®¡ç®—å…¶å‘¨å›´èŠ‚ç‚¹çš„ä»£ä»·ã€‚ å¦‚æœéå†åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œæˆ–è€…æ± å­ç©ºäº†ä¹‹åï¼Œå¯»è·¯å°±ç»“æŸäº†ã€‚é‚£ä¹ˆå¦‚ä½•è·å¾—è·¯å¾„å‘¢ï¼Ÿæˆ‘ä»¬ä»éå†çš„è¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼ŒèŠ‚ç‚¹åŠ å…¥åˆ°æ± å­ä¹‹å‰ï¼Œæˆ‘ä»¬çŸ¥é“è¿™äº›åŠ å…¥åˆ°æ± å­ä¸­çš„èŠ‚ç‚¹æ˜¯æ¥è‡ªäºå½“å‰èŠ‚ç‚¹çš„ï¼Œæ‰€ä»¥åœ¨åŠ å…¥æ± å­ä¹‹å‰å°†é‚£äº›èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œç­‰å¯»è·¯åˆ°ç›®æ ‡èŠ‚ç‚¹ä¹‹åæˆ‘ä»¬é€ä¸ªèŠ‚ç‚¹éå†å…¶çˆ¶èŠ‚ç‚¹ï¼Œå°±å¯ä»¥éå†å®Œæœ€çŸ­è·¯å¾„ã€‚ å¯¹äºç®—æ³•ï¼Œæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š è®¡ç®—å½“å‰èŠ‚ç‚¹çš„å‘¨å›´èŠ‚ç‚¹çš„ä»£ä»·å€¼æ—¶ï¼Œå¦‚æœéœ€è®¡ç®—çš„èŠ‚ç‚¹åŸå…ˆå°±å·²ç»ç®—è¿‡ä»£ä»·å€¼ï¼Œä¸”å½“å‰ç®—å‡ºæ¥çš„ä»£ä»·å€¼æ¯”åŸå…ˆçš„å°ï¼Œè¯´æ˜è¿™ä¸ªèŠ‚ç‚¹ä»å½“å‰èŠ‚ç‚¹è¿‡å»è·¯å¾„ä¼šæ›´çŸ­ä¸€äº›ï¼Œåº”æ›´æ–°å…¶çˆ¶èŠ‚ç‚¹å’Œä»£ä»·å€¼ã€‚ æˆ‘ä»¬æ¯æ¬¡éƒ½æ˜¯ä»ã€Œæ± å­ã€ä¸­æå‡ºä»£ä»·æœ€å°çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥ç”¨å°æ ¹å †æ¥å®ç°ã€Œæ± å­ã€æ˜¯ååˆ†é«˜æ•ˆçš„ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œå¯ä»¥ç”»å‡º A* ç®—æ³•æµç¨‹å›¾ï¼š ","date":"2024-09-18","objectID":"/posts/1d723ce/:1:0","tags":["Astar","C++"],"title":"Astarç®—æ³•","uri":"/posts/1d723ce/"},{"categories":["ç®—æ³•"],"content":"Aæ˜Ÿç®—æ³•çš„å®ç°\rä½œè€…é‡‡ç”¨ C++ æ¥å®ç° A* ç®—æ³•ï¼Œä»£ç å·²ä¸Šä¼ è‡³æ­¤ä»“åº“ ","date":"2024-09-18","objectID":"/posts/1d723ce/:2:0","tags":["Astar","C++"],"title":"Astarç®—æ³•","uri":"/posts/1d723ce/"},{"categories":["Linux"],"content":"è½¯ä»¶å®‰è£…ä¸æ›´æ–°\råœ¨Linuxä¸‹ï¼Œä¸€èˆ¬ç”¨åŒ…ç®¡ç†å™¨æ¥å®‰è£…è½¯ä»¶ï¼Œå®ƒèƒ½è‡ªåŠ¨åŒ–åœ°å®Œæˆè½¯ä»¶çš„å®‰è£…ã€æ›´æ–°ã€é…ç½®å’Œç§»é™¤åŠŸèƒ½ï¼Œä¼˜é›…è€Œå¿«é€Ÿã€‚ è½¯ä»¶åŒ…ç®¡ç†å™¨çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†æ˜¯è½¯ä»¶ä»“åº“ã€‚è½¯ä»¶ä»“åº“æ˜¯æ”¶è—äº†äº’è”ç½‘ä¸Šå¯ç”¨è½¯ä»¶åŒ…ï¼ˆåº”ç”¨ç¨‹åºï¼‰çš„å›¾ä¹¦é¦†ï¼Œé‡Œé¢å¾€å¾€åŒ…å«äº†æ•°ä¸‡ä¸ªå¯ä¾›ä¸‹è½½ å’Œå®‰è£…çš„å¯ç”¨è½¯ä»¶åŒ…ã€‚ æœ‰äº†è½¯ä»¶ä»“åº“ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨ä¸‹è½½å¤§é‡çš„è½¯ä»¶åŒ…å†é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ã€‚åªéœ€è¦çŸ¥é“è½¯ä»¶åœ¨è½¯ä»¶ä»“åº“ä¸­çš„åç§°ï¼Œå³å¯è®©åŒ…ç®¡ç†å™¨ä»ç½‘ç»œä¸­æŠ“å–åˆ°ç›¸åº”çš„è½¯ä»¶åŒ…åˆ°æœ¬åœ°ï¼Œè‡ªåŠ¨è¿›è¡Œå®‰è£…ã€‚ ä½†æ˜¯ä¸åº”ç”¨å•†åº—ç›¸æ¯”ï¼Œä½¿ç”¨åŒ…ç®¡ç†å™¨å®‰è£…éœ€è¦é¢„å…ˆçŸ¥é“æ‰€éœ€è½¯ä»¶åœ¨è½¯ä»¶ä»“åº“ä¸­çš„å¯¹åº”åŒ…åï¼Œå’Œåº”ç”¨å•†åº—ç›¸æ¯”æ— æ³•è¿›è¡Œæ¨¡ç³Šæœç´¢ï¼ˆä¸è¿‡ä½ ä¹Ÿå¯ä»¥åœ¨åŒ…ç®¡ç†å™¨å®˜ç½‘ä¸Šè¿›è¡ŒæŸ¥æ‰¾åŒ…åï¼Œå†é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼‰ã€‚ ä½œè€…ä½¿ç”¨çš„æ˜¯Ubuntuç³»ç»Ÿï¼ŒUbuntuä¸‹é»˜è®¤çš„åŒ…ç®¡ç†å™¨ä¸ºaptï¼Œæ‰€æœ‰åé¢çš„è®²è§£ä»¥aptä¸ºä¾‹ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:1:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ä½¿ç”¨åŒ…ç®¡ç†å™¨ç³»ç»Ÿå®‰è£…\ræœç´¢\rå®‰è£…å‰ï¼Œå…ˆåœ¨æµè§ˆå™¨ä¸­æœç´¢æ‰€éœ€çš„è½¯ä»¶ï¼ŒæŸ¥æ‰¾åŒ…åï¼Œå†ä½¿ç”¨ apt search package_name å‘½ä»¤æœç´¢è½¯ä»¶ä»“åº“ï¼ŒæŸ¥çœ‹å¯¹åº”çš„åŒ…åæ˜¯å¦åœ¨è½¯ä»¶ä»“åº“ä¸­(è¿™æ­¥å¯è·³è¿‡ï¼Œåªè¦çŸ¥é“è¦å®‰è£…çš„è½¯ä»¶åŒ…åå³å¯)ã€‚ å®‰è£…\ræ‰¾åˆ°è¦å®‰è£…çš„è½¯ä»¶çš„åŒ…ååï¼Œä½¿ç”¨å‘½ä»¤ apt install package_name è¿›è¡Œå®‰è£…ã€‚ PSï¼š å¦‚æœæç¤ºå½“å‰ç”¨æˆ·æ— å®‰è£…è½¯ä»¶æƒé™ï¼Œåˆ™åœ¨å‘½ä»¤å‰åŠ ä¸Š sudoï¼Œå³ sudo apt install package_nameï¼Œè¾“å…¥æ­¤å‘½ä»¤åä¼šè¦æ±‚ç”¨æˆ·è¾“å…¥å¯†ç (è¾“å…¥çš„å¯†ç ä¸ä¼šåœ¨ç»ˆç«¯æ˜¾ç¤º)ã€‚ å®˜æ–¹è½¯ä»¶æºé•œåƒ\ré€šè¿‡ apt å®‰è£…çš„è½¯ä»¶éƒ½æ¥æºäºç›¸å¯¹åº”çš„è½¯ä»¶æºï¼Œæ¯ä¸ª Linux å‘è¡Œç‰ˆä¸€èˆ¬éƒ½å¸¦æœ‰å®˜æ–¹çš„è½¯ä»¶æºï¼Œåœ¨å®˜æ–¹çš„è½¯ä»¶æºä¸­å·²ç»åŒ…å«äº†ä¸°å¯Œçš„è½¯ä»¶ï¼Œapt çš„è½¯ä»¶æºåˆ—è¡¨åœ¨ /etc/apt/sources.list ä¸‹ã€‚ Ubuntu å®˜æ–¹æºä½äºå›½å¤–ï¼Œå¾€å¾€ä¼šæœ‰é€Ÿåº¦ä¸å»¶è¿Ÿä¸Šçš„é™åˆ¶ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹å®˜æ–¹æºä¸ºå…¶é•œåƒå®ç°æ›´å¿«çš„ä¸‹è½½é€Ÿåº¦ã€‚é•œåƒç¼“å­˜äº†å®˜æ–¹æºä¸­çš„è½¯ä»¶åˆ—è¡¨ï¼Œä¸å®˜æ–¹æºåŸºæœ¬ä¸€è‡´ã€‚ ä¿®æ”¹å®˜æ–¹æºä¸ºé•œåƒæ­¥éª¤ æœ¬ä¾‹ä»¥ä¿®æ”¹å®˜æ–¹æºä¸º USTC Mirror ä¸ºä¾‹ã€‚æ³¨æ„ï¼šåœ¨æ“ä½œå‰è¯·åšå¥½å¤‡ä»½ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ/etc/apt/sources.list ä¸‹çš„å®˜æ–¹æºåœ°å€ä¸º http://archive.ubuntu.com/ ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å…¶æ›¿æ¢ä¸º http://mirrors.ustc.edu.cn å³å¯ã€‚ å¦‚æœä½ ä½¿ç”¨ Ubuntu å›¾å½¢å®‰è£…å™¨å®‰è£…ï¼Œé»˜è®¤çš„æºåœ°å€é€šå¸¸ä¸æ˜¯ http://archive.ubuntu.com/ ï¼Œ è€Œæ˜¯ http://\u003ccountry-code\u003e.archive.ubuntu.com/ubuntu/ ï¼Œå¦‚ http://cn.archive.ubuntu.com/ubuntu/ï¼ŒåŒæ ·ä¹Ÿå°†å…¶æ›¿æ¢ä¸º http://mirrors.ustc.edu.cn å³å¯ã€‚ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š $ sudo sed -i 's|//.*archive.ubuntu.com|//mirrors.ustc.edu.cn|g' /etc/apt/sources.list å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ vimã€nano ç­‰æ–‡æœ¬ç¼–è¾‘å™¨è¿›è¡Œä¿®æ”¹ã€‚ ç¬¬ä¸‰æ–¹è½¯ä»¶æº\ræœ‰æ—¶å€™ï¼Œç”±äºç§ç§åŸå› ï¼Œå®˜æ–¹è½¯ä»¶æºä¸­å¹¶æ²¡æœ‰æˆ‘ä»¬éœ€è¦çš„è½¯ä»¶ï¼Œä½†æ˜¯ç¬¬ä¸‰æ–¹è½¯ä»¶æä¾›å•†å¯ä»¥æä¾›è‡ªå·±çš„è½¯ä»¶æºã€‚åœ¨å°†ç¬¬ä¸‰æ–¹è½¯ä»¶æºæ·»åŠ åˆ°Â /etc/apt/sources.listÂ ä¸­ä¹‹åï¼Œå°±å¯ä»¥è·å–åˆ°ç¬¬ä¸‰æ–¹æä¾›çš„è½¯ä»¶åˆ—è¡¨ï¼Œå†é€šè¿‡Â apt install package_nameÂ å®‰è£…æˆ‘ä»¬éœ€è¦çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚ä¸€èˆ¬å¯ä»¥åœ¨éœ€è¦çš„ç¬¬ä¸‰æ–¹è½¯ä»¶å®˜ç½‘æ‰¾åˆ°å¯¹åº”çš„é…ç½®è¯´æ˜ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:1:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ä½¿ç”¨åŒ…ç®¡ç†å™¨æ‰‹åŠ¨å®‰è£…\råœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œè½¯ä»¶ä»“åº“ä¸­å¹¶æ²¡æœ‰åŠ å…¥æˆ‘ä»¬æ‰€éœ€è¦çš„è½¯ä»¶ã€‚é™¤äº†æ·»åŠ ç¬¬ä¸‰æ–¹è½¯ä»¶æºï¼Œä»æºå®‰è£…å¤–ï¼Œæœ‰æ—¶å€™è¿˜å¯ä»¥ç›´æ¥ä¸‹è½½å®‰è£…è½¯ä»¶ä¾›åº”å•†æ‰“åŒ…å¥½çš„ debã€rpm ç­‰äºŒè¿›åˆ¶åŒ…ã€‚ å®‰è£…è½¯ä»¶åŒ…éœ€è¦ç›¸åº”çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œdeb æ ¼å¼çš„è½¯ä»¶åŒ…å¯¹åº”çš„æ˜¯Â dpkgã€‚ ç›¸å¯¹äºÂ aptÂ è€Œè¨€ï¼ŒdpkgÂ ä¼šæ›´åŠ åº•å±‚ï¼ŒaptÂ æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å™¨çš„å‰ç«¯ï¼Œå¹¶ä¸ç›´æ¥æ‰§è¡Œè½¯ä»¶åŒ…çš„å®‰è£…å·¥ä½œï¼Œæ˜¯äº¤ç”±Â dpkgÂ å®Œæˆã€‚dpkgÂ åé¦ˆçš„ä¾èµ–ä¿¡æ¯åˆ™ä¼šå‘ŠçŸ¥Â aptÂ è¿˜éœ€è¦å®‰è£…çš„å…¶ä»–è½¯ä»¶åŒ…ï¼Œå¹¶ä»è½¯ä»¶ä»“åº“ä¸­è·å–åˆ°ç›¸åº”çš„è½¯ä»¶åŒ…è¿›è¡Œå®‰è£…ï¼Œä»è€Œå®Œæˆä¾èµ–ç®¡ç†é—®é¢˜ã€‚ ç›´æ¥é€šè¿‡Â dpkgÂ å®‰è£… deb å¹¶ä¸ä¼šå®‰è£…éœ€è¦çš„ä¾èµ–ï¼Œåªä¼šæŠ¥å‘Šå‡ºç›¸åº”çš„ä¾èµ–ç¼ºå¤±äº†ã€‚ æ‰€ä»¥ï¼Œæ¨èä½¿ç”¨aptæ¥å®‰è£…devæ–‡ä»¶ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š sudo apt install devFileName.dev å¦‚æœä½¿ç”¨dpkg -i å®‰è£…è½¯ä»¶ï¼Œå¯¼è‡´å‡ºç°ä¾èµ–åŒ…é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š sudo apt -f install æ¥å¸®åŠ©ä¿®å¤ä¾èµ–ç®¡ç† ","date":"2024-08-15","objectID":"/posts/3d623e4/:1:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æ›´æ–°è½¯ä»¶åˆ—è¡¨ä¸æ›´æ–°è½¯ä»¶\råœ¨è®¡ç®—æœºæœ¬åœ°ï¼Œç³»ç»Ÿä¼šç»´æŠ¤ä¸€ä¸ªåŒ…åˆ—è¡¨ï¼Œåœ¨è¿™ä¸ªåˆ—è¡¨é‡Œé¢ï¼ŒåŒ…å«äº†è½¯ä»¶ä¿¡æ¯ä»¥åŠè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»ï¼Œåœ¨æ‰§è¡ŒÂ apt installÂ å‘½ä»¤æ—¶ï¼Œä¼šä»è¿™ä¸ªåˆ—è¡¨ä¸­è¯»å–å‡ºæƒ³è¦å®‰è£…çš„è½¯ä»¶ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸‹è½½åœ°å€ã€è½¯ä»¶ç‰ˆæœ¬ã€ä¾èµ–çš„åŒ…ï¼ŒåŒæ—¶ apt ä¼šå¯¹ä¾èµ–çš„åŒ…é€’å½’æ‰§è¡Œå¦‚ä¸Šæ“ä½œï¼Œç›´åˆ°ä¸å†æœ‰æ–°çš„ä¾èµ–åŒ…ã€‚å¦‚ä¸Šå¾—åˆ°çš„æ‰€æœ‰åŒ…ï¼Œå°†ä¼šæ˜¯åœ¨Â apt install some-packageÂ æ—¶å®‰è£…çš„ã€‚ ä½¿ç”¨å‘½ä»¤ï¼šsudo apt update è·å–æ–°çš„è½¯ä»¶ç‰ˆæœ¬ã€è½¯ä»¶ä¾èµ–å…³ç³»ã€‚åœ¨æ›´æ–°å¥½åŒ…åˆ—è¡¨åï¼Œå†ä½¿ç”¨å‘½ä»¤ sudo apt upgrade å°†å®‰è£…çš„è½¯ä»¶è¿›è¡Œæ›´æ–°å‡çº§ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:1:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æ–‡ä»¶å’Œç›®å½•æ“ä½œ\råœ¨ Linux åœ¨è¿›è¡Œæ“ä½œæ–‡ä»¶ä¸ç›®å½•æ˜¯ä½¿ç”¨ Linux æœ€åŸºç¡€çš„ä¸€ä¸ªæŠ€èƒ½ã€‚ä¸åƒåœ¨ Windows å’Œ macOS ä¸‹æœ‰å›¾å½¢åŒ–ç•Œé¢ï¼Œæ‹–æ‹½æ–‡ä»¶å³å¯å®Œæˆæ–‡ä»¶çš„ç§»åŠ¨ï¼Œå¾ˆå®¹æ˜“ç®¡ç†æ–‡ä»¶ä¸ç›®å½•ï¼ŒLinux çš„å‘½ä»¤è¡Œæ“ä½œè™½ç„¶ç¹çä¸€äº›ï¼Œä½†ä¸€æ—¦ä¸Šæ‰‹ï¼Œå°±å¯ä»¥é€šè¿‡å‘½ä»¤ä¸å‚æ•°çš„ç»„åˆå®Œæˆé€šè¿‡å›¾å½¢åŒ–ç•Œé¢éš¾ä»¥å®ç°æˆ–è€…æ— æ³•å®ç°çš„åŠŸèƒ½ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æŸ¥çœ‹æ–‡ä»¶å†…å®¹\rcatå‘½ä»¤\rä½¿ç”¨è¯¥å‘½ä»¤ä¼šä¸€æ¬¡æ€§å°†æ•´ä¸ªæ–‡ä»¶å†…å®¹æ‰“å°åˆ°ç»ˆç«¯ï¼Œé€‚ç”¨äºçœ‹å†…å®¹ä¸å¤šçš„æ–‡ä»¶ï¼Œcat å‘½ä»¤ç”¨æ³•å¦‚ä¸‹ï¼š æŸ¥çœ‹ file.txt çš„å…¨éƒ¨å†…å®¹ cat file.txt æŸ¥çœ‹ file1.txt ä¸ file2.txt è¿æ¥åçš„å…¨éƒ¨å†…å®¹ cat file1.txt file2.txt lesså‘½ä»¤\rè¯¥å‘½ä»¤ä¸catå‘½ä»¤çš„åŒºåˆ«åœ¨äºï¼Œæ­¤å‘½ä»¤ä¸€æ¬¡åªä¼šæ˜¾ç¤ºä¸€é¡µï¼Œä¸”æ”¯æŒå‘å‰/åæ»šåŠ¨ã€æœç´¢ç­‰åŠŸèƒ½ï¼Œé€‚ç”¨äºæŸ¥çœ‹å¤§å‹æ–‡ä»¶ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š less FILE åœ¨æŸ¥çœ‹æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¿«æ·é”®ï¼š æŒ‰é”® æ•ˆæœ d/u å‘ä¸‹/ä¸Šæ»šåŠ¨åŠé¡µ f/b or Page Down/Page Up å‘ä¸‹/ä¸Šæ»šåŠ¨ä¸€é¡µ g/G è·³è½¬åˆ°æ–‡ä»¶å¼€å¤´/ç»“å°¾ j/Down å‘ä¸‹ç§»åŠ¨ä¸€è¡Œ k/Up å‘ä¸Šç§»åŠ¨ä¸€è¡Œ /PATTERN åœ¨æ–‡ä»¶ä¸­æœç´¢å†…å®¹PATTERN n/N è·³è½¬åˆ°ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªæ‰¾åˆ°çš„æœç´¢å†…å®¹ q é€€å‡º ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç¼–è¾‘æ–‡ä»¶å†…å®¹\rNano æ˜¯åœ¨å¾ˆå¤šæœºå™¨ä¸Šè‡ªå¸¦çš„å‘½ä»¤è¡Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç›¸æ¯”äº vim å’Œ emacs æ¥è¯´ï¼Œå¯¹æ–°æ‰‹æ›´åŠ å‹å¥½ï¼Œä¸éœ€è¦æå‰è®°å¿†å¤æ‚çš„é”®ä½ã€‚ å‘½ä»¤ï¼šnano file.txt ä½¿ç”¨ nano ç¼–è¾‘ file.txt æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºã€‚ Nano å¯åŠ¨åï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥å¼€å§‹è¾“å…¥éœ€è¦çš„å†…å®¹ï¼Œä½¿ç”¨æ–¹å‘é”®ç§»åŠ¨å…‰æ ‡ã€‚åœ¨ç»ˆç«¯æœ€ä¸‹æ–¹æ˜¯ nano çš„å¿«æ·é”®ï¼Œ^Â ä»£è¡¨éœ€è¦æŒ‰ä¸‹ Ctrl é”®ï¼ˆä¾‹å¦‚ï¼Œ^XÂ å°±æ˜¯éœ€è¦åŒæ—¶æŒ‰ä¸‹ Ctrl + Xï¼‰ã€‚åœ¨ç¼–è¾‘å®Œæˆåï¼ŒæŒ‰ä¸‹ Ctrl + Xï¼Œç¡®è®¤æ˜¯å¦ä¿å­˜åå³å¯ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ Vi/Vim æ¥ç¼–è¾‘æ–‡ä»¶å†…å®¹ã€‚ Vim è¢«èª‰ä¸ºã€Œç¼–è¾‘å™¨ä¹‹ç¥ã€ï¼Œä½†æ˜¯å…¶é™¡å³­çš„å­¦ä¹ æ›²çº¿ä¹Ÿè®©äººæœ›è€Œå´æ­¥ã€‚å› ä¸ºä¸ä¸€å®šæ‰€æœ‰çš„æœºå™¨ä¸Šéƒ½æœ‰ nanoï¼Œä½†æ˜¯å¯ä»¥è‚¯å®šå‡ ä¹æ‰€æœ‰çš„æœºå™¨ä¸Šéƒ½ä¼šå®‰è£… viï¼ˆvim çš„å‰èº«ï¼‰ï¼Œæ‰€ä»¥äº†è§£å¦‚ä½•ä½¿ç”¨ vimï¼Œææ€•æ˜¯ä¸€ä»¶éš¾ä»¥é¿å…çš„äº‹æƒ…ã€‚æ‰€å¹¸ï¼Œvim çš„åŸºç¡€æ“ä½œå¹¶ä¸ç®—éš¾ã€‚å›¾å½¢ç•Œé¢ä¸‹ä¹Ÿå¯ä»¥å®‰è£…Â gvimÂ è·å¾—å›¾å½¢ç•Œé¢ã€‚ åœ¨æ‰“å¼€ vim åï¼Œé»˜è®¤è¿›å…¥çš„æ˜¯æ™®é€šæ¨¡å¼ï¼ŒæŒ‰ä¸‹ i å°±è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¿›å…¥ç¼–è¾‘æ¨¡å¼åå°±å¯ä»¥éšæ„ç¼–è¾‘æ–‡ä»¶äº†ã€‚åœ¨è¿™ä¸¤ä¸ªæ¨¡å¼ä¸­ï¼Œéƒ½å¯ä»¥ä½¿ç”¨é”®ç›˜æ–¹å‘é”®ç§»åŠ¨å…‰æ ‡ã€‚åœ¨ç¼–è¾‘å®Œæˆåï¼ŒæŒ‰ä¸‹Â EscÂ å›åˆ°æ™®é€šæ¨¡å¼ï¼Œç„¶åè¾“å…¥Â :wqÂ å°±å¯ä»¥ä¿å­˜æ–‡ä»¶å¹¶é€€å‡ºï¼›å¦‚æœä¸æƒ³ä¿å­˜æ–‡ä»¶ç›´æ¥é€€å‡ºï¼Œåˆ™è¾“å…¥Â :q!Â å³å¯ã€‚ ä»¥ä¸Šçš„ç®€å•æ•™å­¦å·²ç»å¯ä»¥å¸®åŠ©ä½ æ­£å¸¸æ“ä½œ vim äº†ï¼Œvim ä¹Ÿè‡ªå¸¦Â vimtutorÂ æ•™å­¦ç¨‹åº(éå¸¸å¥½ï¼ï¼ï¼å¢™è£‚æ¨èï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥vimtutorå³å¯å¯åŠ¨ç¨‹åº)ï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€ŸæŒæ¡ vim çš„åŸºæœ¬æ“ä½œã€‚ç†Ÿç»ƒä½¿ç”¨ vim æœ‰åŠ©äºæé«˜ç¼–è¾‘æ–‡æœ¬æ—¶çš„å·¥ä½œæ•ˆç‡ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"å¤åˆ¶æ–‡ä»¶å’Œç›®å½•\rå‘½ä»¤æ ¼å¼ä¸ºï¼šcp [opt1] [opt2] ... [optn] source dest source è¡¨ç¤ºè¦å¤åˆ¶çš„æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ dest è¡¨ç¤ºç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ [opt] è¡¨ç¤ºå¯é€‰å‚æ•° å¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š å‚æ•° å«ä¹‰ -r, -R, --recursive é€’å½’å¤åˆ¶ï¼Œå¸¸ç”¨äºå¤åˆ¶ç›®å½• -f, --force è¦†ç›–ç›®æ ‡åœ°å€åŒåæ–‡ä»¶ -u, --update ä»…å½“æºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æ‰è¿›è¡Œå¤åˆ¶ -l, --link åˆ›å»ºç¡¬é“¾æ¥ -s, --symbolic-link åˆ›å»ºè½¯é“¾æ¥ ç¡¬é“¾æ¥å’Œè½¯é“¾æ¥\rç®€å•è€Œè¨€ï¼Œä¸€ä¸ªæ–‡ä»¶çš„ç¡¬é“¾æ¥å’Œè½¯é“¾æ¥éƒ½æŒ‡å‘æ–‡ä»¶è‡ªèº«ï¼Œä½†æ˜¯åœ¨åº•å±‚æœ‰ä¸åŒçš„å®ç°ã€‚\réœ€è¦å…ˆäº†è§£ä¸€ä¸ªæ¦‚å¿µï¼šinodeã€‚åœ¨è®¸å¤šâ€œç±» Unix æ–‡ä»¶ç³»ç»Ÿâ€ä¸­ï¼Œinode ç”¨æ¥æè¿°æ–‡ä»¶ç³»ç»Ÿçš„å¯¹è±¡ï¼Œå¦‚æ–‡ä»¶å’Œç›®å½•ã€‚inode è®°å½•äº†æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡çš„å±æ€§å’Œç£ç›˜å—çš„ä½ç½®ã€‚å¯ä»¥è¢«è§†ä¸ºä¿å­˜åœ¨ç£ç›˜ä¸­çš„æ–‡ä»¶çš„ç´¢å¼•ï¼ˆè‹±æ–‡ï¼šindex nodeï¼‰ã€‚ å…³äº inode çš„è¿›ä¸€æ­¥è®²è§£å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ã€‚ ç¡¬é“¾æ¥ä¸æºæ–‡ä»¶æœ‰ç€ç›¸åŒçš„ inodeï¼Œéƒ½æŒ‡å‘ç£ç›˜ä¸­çš„åŒä¸€ä¸ªä½ç½®ã€‚åˆ é™¤å…¶ä¸­ä¸€ä¸ªï¼Œå¹¶ä¸å½±å“å¦ä¸€ä¸ªã€‚ è½¯é“¾æ¥ä¸æºæ–‡ä»¶çš„ inode ä¸åŒã€‚è½¯é“¾æ¥ä¿å­˜äº†æºæ–‡ä»¶çš„è·¯å¾„ï¼Œåœ¨è®¿é—®è½¯é“¾æ¥çš„æ—¶å€™ï¼Œè®¿é—®çš„è·¯å¾„è¢«æ›¿æ¢ä¸ºæºæ–‡ä»¶çš„è·¯å¾„ï¼Œå› æ­¤è®¿é—®è½¯é“¾æ¥ä¹Ÿç­‰åŒäºè®¿é—®æºæ–‡ä»¶ã€‚ä½†æ˜¯å¦‚æœåˆ é™¤äº†æºæ–‡ä»¶ï¼Œè½¯é“¾æ¥æ‰€ä¿å­˜çš„è·¯å¾„ä¹Ÿå°±æ— æ•ˆäº†ï¼Œè½¯é“¾æ¥å› æ­¤ä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚ lnå‘½ä»¤ä¹Ÿå¯ä»¥ç”¨æ¥ç¡¬é“¾æ¥å’Œè½¯é“¾æ¥ ln -s file symlink # åˆ›å»ºæŒ‡å‘æ–‡ä»¶ file çš„è½¯é“¾æ¥ symlink ln file hardlink # åˆ›å»ºæŒ‡å‘æ–‡ä»¶ file çš„ç¡¬é“¾æ¥ hardlink ä¸‹é¢æ˜¯ä¸€äº›cpå‘½ä»¤çš„ä½¿ç”¨ç¤ºä¾‹ï¼š å°† file.txt æ–‡ä»¶å¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸‹çš„ dir/ ä¸‹ cp file1.txt dir/ å°†ç›®å½• dir1/ åŠå…¶æ‰€æœ‰å†…å®¹é€’å½’åœ°å¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸‹çš„ dir2/ ä¸­ cp -r dir1/ dir2/ å°†æ–‡ä»¶ file1.txt å¤åˆ¶ä¸º file2.txtï¼Œå¹¶ä¸”åœ¨å¤åˆ¶ä¹‹å‰è¯¢é—®æ˜¯å¦è¦†ç›–å·²å­˜åœ¨çš„ file2.txt cp -i file1.txt file2.txt å°†æ–‡ä»¶ file1.txt å¤åˆ¶ä¸º file2.txtï¼Œå¹¶ä¸”å¼ºåˆ¶è¦†ç›–å·²å­˜åœ¨çš„ file2.txtï¼Œè€Œä¸æç¤º cp -f file1.txt file2.txt é€’å½’åœ°å¤åˆ¶å½“å‰ç›®å½•ä¸‹çš„ dir1/ åŠå…¶æ‰€æœ‰å†…å®¹åˆ°å½“å‰ç›®å½•ä¸‹çš„ dir2/ï¼Œå¹¶ä¸”ä¿ç•™æºæ–‡ä»¶çš„æƒé™ã€æ‰€æœ‰æƒå’Œæ—¶é—´æˆ³ä¿¡æ¯ cp -rp dir1/ dir2/ å°†å¤šä¸ªæ–‡ä»¶ä¸€åŒå¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸‹çš„dir2/ä¸­ cp file1.txt file2.txt file3.txt dir2/ ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç§»åŠ¨æ–‡ä»¶å’Œç›®å½•\rå‘½ä»¤æ ¼å¼ä¸ºï¼šmv [opt1] [opt2]... source dest mvä¸cp çš„ä½¿ç”¨æ–¹å¼ç±»ä¼¼(sourceæ–‡ä»¶ä¹Ÿå¯ä»¥æœ‰å¤šä¸ª)ï¼Œæ•ˆæœå°±æ˜¯ Windows ä¸‹çš„å‰ªåˆ‡ï¼Œå³mvå‘½ä»¤é»˜è®¤æ˜¯é€’å½’çš„ã€‚ å¸¸ç”¨å‚æ•°ï¼š å‚æ•° å«ä¹‰ -f è¦†ç›–ç›®æ ‡åœ°å€åŒåæ–‡ä»¶ -u ä»…å½“æºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ–°æ‰è¿›è¡Œç§»åŠ¨ ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:4","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"åˆ é™¤æ–‡ä»¶å’Œç›®å½•\rå‘½ä»¤æ ¼å¼ï¼šrm [opt1] [opt2] ... FILE ... å¸¸ç”¨å‚æ•°ï¼š å‚æ•° å«ä¹‰ -f ä¸éœ€è¦æç¤ºï¼Œç›´æ¥åˆ é™¤æ–‡ä»¶ï¼Œå³ä½¿æ–‡ä»¶å±æ€§ä¸ºåªè¯» -i åˆ é™¤å‰é€ä¸€è¯¢é—®æ˜¯å¦åˆ é™¤ -r é€’å½’åˆ é™¤ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚åˆ é™¤é™¤ç©ºç›®å½•å¤–çš„ç›®å½•å¿…é¡»åŠ æ­¤å‚æ•° rm file1.txt # åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„ file1.txt æ–‡ä»¶ rm -r test/ # åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„ test ç›®å½• rm -rf test1/ test2/ file1.txt #åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„ test1ã€test2ç›®å½• å’Œ file1.txt æ–‡ä»¶ ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:5","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"åˆ›å»ºç›®å½•\rå‘½ä»¤æ ¼å¼ï¼šmkdir [opt1] ... DirName ... å¸¸ç”¨å‚æ•°ï¼š å‚æ•° å«ä¹‰ -p å¦‚æœä¸­é—´ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºï¼›å¦‚æœè¦åˆ›å»ºçš„ç›®å½•å·²ç»å­˜åœ¨ï¼Œåˆ™ä¸æŠ¥é”™ mkdir test1 #åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºç›®å½•test1 mkdir test1 test2 #åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºç›®å½•test1å’Œtest2 mkdir -p test1/test2/test3/ #åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºè·¯å¾„ test1/test2/test3 ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:6","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"åˆ›å»ºæ–‡ä»¶\rå‘½ä»¤æ ¼å¼ï¼štouch file1 ... touch file1.txt test.md #åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»º file1.txt å’Œ test.md æ–‡ä»¶ ä¸ºä»€ä¹ˆåå­—æ˜¯touchè€Œä¸æ˜¯createå‘¢ï¼Ÿ\rtouch å·¥å…·å®é™…ä¸Šçš„åŠŸèƒ½æ˜¯ä¿®æ”¹æ–‡ä»¶çš„è®¿é—®æ—¶é—´ï¼ˆaccess time, atimeï¼‰å’Œä¿®æ”¹æ—¶é—´ï¼ˆmodification time, mtimeï¼‰ï¼Œå¯ä»¥å½“ä½œæ˜¯æ‘¸ï¼ˆtouchï¼‰äº†ä¸€ä¸‹æ–‡ä»¶ï¼Œä½¿å¾—å®ƒçš„è®¿é—®ä¸ä¿®æ”¹æ—¶é—´å‘ç”Ÿäº†å˜åŒ–ã€‚å½“æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œtouch ä¼šåˆ›å»ºæ–°æ–‡ä»¶ï¼Œæ‰€ä»¥åˆ›å»ºæ–‡ä»¶ä¹Ÿå°±æˆä¸ºäº† touch æœ€å¸¸è§çš„ç”¨é€”ã€‚\rä½¿ç”¨ stat filename å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:7","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æœç´¢æ–‡ä»¶å’Œç›®å½•\rå‘½ä»¤æ ¼å¼ï¼šfind PATH [opt1] [opt2] ... PATH ç”¨äºæŒ‡å®šæŸ¥æ‰¾è·¯å¾„ã€‚å¦‚æœä¸æŒ‡å®šï¼Œåˆ™é»˜è®¤åœ¨å½“å‰ç›®å½•ä¸‹è¿›è¡ŒæŸ¥æ‰¾ï¼Œå³ find . ç­‰ä»·äº find å¸¸ç”¨å‚æ•°ï¼š å‚æ•° å«ä¹‰ -name '*.ext' æŸ¥æ‰¾åç¼€ä¸ºextçš„æ–‡ä»¶ï¼Œ*æ˜¯ä»»æ„åŒ¹é…ç¬¦ -type d æŒ‡å®šæŸ¥æ‰¾çš„æ–‡ä»¶ç±»å‹ä¸ºç›®å½• -size +1M æŸ¥æ‰¾æ–‡ä»¶å¤§å°å¤§äº1Mçš„æ–‡ä»¶ï¼Œ+è¡¨ç¤ºå¤§äºè¿™ä¸ªå¤§å°ï¼Œ-è¡¨ç¤ºå°äºè¿™ä¸ªå¤§å° -or æˆ–è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºå®ƒå‰åä¸¤ä¸ªæ¡ä»¶æ»¡è¶³ä¸€ä¸ªå³å¯ find -name 'report.pdf' #åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾ report.pdf æ–‡ä»¶ find / -size +1G #åœ¨å…¨ç›˜æŸ¥æ‰¾å¤§äº1Gçš„æ–‡ä»¶ find ~/ -name 'node_modules' -type d #åœ¨ç”¨äºç›®å½•ä¸‹æŸ¥æ‰¾åä¸ºnode_modulesçš„ç›®å½• ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:8","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æ¨¡å¼åŒ¹é…\rè®¸å¤šç°ä»£çš„ shell éƒ½æ”¯æŒä¸€å®šç¨‹åº¦çš„æ¨¡å¼åŒ¹é…ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œbash çš„åŒ¹é…æ¨¡å¼è¢«ç§°ä¸ºÂ globï¼Œæ”¯æŒçš„æ“ä½œå¦‚ä¸‹ï¼š æ¨¡å¼ åŒ¹é…çš„å­—ä¸² * ä»»æ„å­—ä¸² foo* ä»¥fooå¼€å¤´çš„å­—ä¸² *x* å«æœ‰xçš„å­—ä¸² ? ä¸€ä¸ªä»»æ„å­—ç¬¦ a?b acbã€a0bç­‰ï¼Œä½†ä¸èƒ½æ˜¯accbè¿™ç§ï¼Œ?åªèƒ½è¡¨ç¤ºä¸€ä¸ªä»»æ„å­—ç¬¦ *.[ch] ä»¥ .c æˆ– .h ç»“å°¾çš„å­—ä¸² å’Œä¸Šé¢æåˆ°çš„å‘½ä»¤ç»“åˆï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ“ä½œæ•ˆç‡ã€‚ä¾‹å¦‚ï¼š rm *.tar.gz #åˆ é™¤å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä»¥ .tar.gz ç»“å°¾çš„å‹ç¼©æ–‡ä»¶ mv *.[ch] /path #å°†å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰ä»¥ .c å’Œ .h ç»“å°¾çš„æ–‡ä»¶ç§»åŠ¨åˆ° /path ä¸‹ PSï¼š ä½¿ç”¨é€šé…ç¬¦å‰è¯·å†ä¸‰ç¡®è®¤è¾“å…¥æ— è¯¯ï¼Œå¦åˆ™å¯èƒ½å‡ºç°ä¸¥é‡çš„åæœï¼ˆå»ºè®®ç»“åˆChatGPTæ¥ä½¿ç”¨ï¼‰ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:9","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ä½¿ç”¨taræ“ä½œæ–‡æ¡£ã€å‹ç¼©æ–‡ä»¶\rç»å¸¸ï¼Œæˆ‘ä»¬å¸Œæœ›å°†è®¸å¤šæ–‡ä»¶æ‰“åŒ…ç„¶åå‘é€ç»™å…¶ä»–äººï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°Â tarÂ å‘½ä»¤ï¼Œä½œä¸ºä¸€ä¸ªå­˜æ¡£å·¥å…·ï¼Œå®ƒå¯ä»¥å°†è®¸å¤šæ–‡ä»¶æ‰“åŒ…ä¸ºä¸€ä¸ªå­˜æ¡£æ–‡ä»¶ã€‚ é€šå¸¸ï¼Œå¯ä»¥ä½¿ç”¨å…¶è‡ªå¸¦çš„ gzip æˆ– bzip2 ç®—æ³•è¿›è¡Œå‹ç¼©ï¼Œç”Ÿæˆå‹ç¼©æ–‡ä»¶ï¼štar [opt1] [opt2] ... FILE ... å¸¸ç”¨é€‰é¡¹ï¼š é€‰é¡¹ å«ä¹‰ -A å°†ä¸€ä¸ªå­˜æ¡£æ–‡ä»¶ä¸­çš„å†…å®¹è¿½åŠ åˆ°å¦ä¸€ä¸ªå­˜æ¡£æ–‡ä»¶ä¸­ -r,Â --append å°†ä¸€äº›æ–‡ä»¶è¿½åŠ åˆ°ä¸€ä¸ªå­˜æ¡£æ–‡ä»¶ä¸­ -c,Â --create ä»ä¸€äº›æ–‡ä»¶åˆ›å»ºå­˜æ¡£æ–‡ä»¶ -t,Â --list åˆ—å‡ºä¸€ä¸ªå­˜æ¡£æ–‡ä»¶çš„å†…å®¹ -x,Â --extract, --get ä»å­˜æ¡£æ–‡ä»¶ä¸­æå–å‡ºæ–‡ä»¶ -f,Â --file=ARCHIVE ä½¿ç”¨æŒ‡å®šçš„å­˜æ¡£æ–‡ä»¶ -C,Â --directory=DIR æŒ‡å®šè¾“å‡ºçš„ç›®å½• æ·»åŠ å‹ç¼©é€‰é¡¹å¯ä»¥ä½¿ç”¨å‹ç¼©ç®—æ³•è¿›è¡Œåˆ›å»ºå‹ç¼©æ–‡ä»¶æˆ–è€…è§£å‹å‹ç¼©æ–‡ä»¶ï¼š é€‰é¡¹ å«ä¹‰ -z,Â --gzip,Â --gunzip,Â --ungzip ä½¿ç”¨ gzip ç®—æ³•å¤„ç†å­˜æ¡£æ–‡ä»¶ -j,Â --bzip2 ä½¿ç”¨ bzip2 ç®—æ³•å¤„ç†å­˜æ¡£æ–‡ä»¶ -J,Â --xz ä½¿ç”¨ xz ç®—æ³•å¤„ç†å­˜æ¡£æ–‡ä»¶ ä¸‹é¢æ˜¯ä¸€äº›tar çš„ä½¿ç”¨ç¤ºä¾‹ï¼š tar -c -f target.tar file1 file2 file3 # å°†Â file1ã€file2ã€file3Â æ‰“åŒ…ä¸ºÂ target.tar tar -x -f target.tar -C test/ # å°†Â target.tarÂ ä¸­çš„æ–‡ä»¶æå–åˆ°Â testÂ ç›®å½•ä¸­ tar -cz -f target.tar.gz file1 file2 file3 # å°†Â file1ã€file2ã€file3Â æ‰“åŒ…ï¼Œå¹¶ä½¿ç”¨ gzip ç®—æ³•å‹ç¼©ï¼Œå¾—åˆ°å‹ç¼©æ–‡ä»¶Â target.tar.gz tar -xz -f target.tar.gz -C test/ # å°†å‹ç¼©æ–‡ä»¶Â target.tar.gzÂ è§£å‹åˆ°Â testÂ ç›®å½•ä¸­ tar -Af archive.tar archive1.tar archive2.tar archive3.tar # å°†Â archive1.tarã€archive2.tarã€archive3.tarÂ ä¸‰ä¸ªå­˜æ¡£æ–‡ä»¶ä¸­çš„æ–‡ä»¶è¿½åˆ°Â archive.tarÂ ä¸­ tar -t -f target.tar # åˆ—å‡ºÂ target.tarÂ å­˜æ¡£æ–‡ä»¶ä¸­çš„å†…å®¹ tar -tv -f target.tar # åˆ—å‡ºÂ target.tarÂ å­˜æ¡£æ–‡ä»¶ä¸­çš„æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ ä¸å¤§éƒ¨åˆ† Linux å‘½ä»¤ç›¸åŒï¼Œtar å‘½ä»¤å…è®¸å°†å¤šä¸ªå•å­—æ¯ï¼ˆä½¿ç”¨å•ä¸ª -Â ç¬¦å·çš„ï¼‰é€‰é¡¹ç»„åˆä¸ºä¸€ä¸ªå‚æ•°ï¼Œä¾¿äºç”¨æˆ·è¾“å…¥ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹å‘½ä»¤æ˜¯ç­‰ä»·çš„ï¼š tar -c -z -v -f target.tar test/ tar -czvf target.tar test/ tar -f target.tar -czv test/ å­˜æ¡£æ–‡ä»¶çš„åç¼€å\råç¼€åå¹¶ä¸èƒ½å†³å®šæ–‡ä»¶ç±»å‹ï¼Œä½†åç¼€åé€šå¸¸ç”¨äºå¸®åŠ©äººä»¬è¾¨è®¤è¿™ä¸ªæ–‡ä»¶çš„å¯èƒ½æ–‡ä»¶ç±»å‹ï¼Œä»è€Œé€‰æ‹©åˆé€‚çš„æ‰“å¼€æ–¹æ³•ã€‚\råœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œåˆ›å»ºå¾—åˆ°çš„æ–‡ä»¶åä¸ºÂ target.tarï¼Œåç¼€åä¸ºÂ tarï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰è¿›è¡Œå‹ç¼©çš„å­˜æ¡£æ–‡ä»¶ã€‚ åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œåˆ›å»ºå¾—åˆ°çš„æ–‡ä»¶åä¸ºÂ target.tar.gzã€‚å°†Â tar.gzÂ æ•´ä½“è§†ä¸ºåç¼€åï¼Œå¯ä»¥åˆ¤æ–­å‡ºï¼Œä¸ºç»è¿‡ gzip ç®—æ³•å‹ç¼©ï¼ˆgzï¼‰çš„å­˜æ¡£æ–‡ä»¶ï¼ˆtarï¼‰ã€‚å¯çŸ¥åœ¨æå–æ–‡ä»¶æ—¶ï¼Œéœ€è¦æ·»åŠ Â -zÂ é€‰é¡¹ä½¿å…¶ç»è¿‡ gzip ç®—æ³•å¤„ç†åå†è¿›è¡Œæ­£å¸¸ tar æ–‡ä»¶çš„æå–ã€‚ åŒæ ·åœ°ï¼Œé€šè¿‡ä¸åŒå‹ç¼©ç®—æ³•å¾—åˆ°çš„æ–‡ä»¶åº”è¯¥æœ‰ä¸åŒçš„åç¼€åï¼Œä»¥ä¾¿äºé€‰æ‹©æ­£ç¡®çš„å‚æ•°ã€‚å¦‚ç»è¿‡Â xzÂ ç®—æ³•å¤„ç†å¾—åˆ°çš„å­˜æ¡£æ–‡ä»¶ï¼Œå…¶åç¼€åæœ€å¥½é€‰æ‹©Â tar.xzï¼Œè¿™æ ·å¯ä»¥çŸ¥é“ä¸ºäº†æå–å…¶ä¸­çš„æ–‡ä»¶ï¼Œåº”è¯¥æ·»åŠ Â --xzÂ é€‰é¡¹ã€‚ ä¸ºä»€ä¹ˆä½¿ç”¨ tar åˆ›å»ºå‹ç¼©åŒ…éœ€è¦ä¸¤æ¬¡å¤„ç†ï¼Ÿ\rtar åå­—æ¥æºäºè‹±æ–‡Â tapeÂ archiveï¼ŒåŸå…ˆè¢«ç”¨æ¥å‘åªèƒ½é¡ºåºå†™å…¥çš„ç£å¸¦å†™å…¥æ•°æ®ã€‚tar æ ¼å¼æœ¬èº«æ‰€åšçš„äº‹æƒ…éå¸¸ç®€å•ï¼šæŠŠæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬å®ƒä»¬çš„â€œå…ƒæ•°æ®â€ï¼ŒåŒ…å«äº†æ–‡ä»¶æƒé™ã€æ—¶é—´æˆ³ç­‰ä¿¡æ¯ï¼‰æ”¾åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ã€‚æ³¨æ„ï¼Œè¿™ä¸­é—´æ²¡æœ‰å‹ç¼©çš„è¿‡ç¨‹ã€‚\rä¸ºäº†å¾—åˆ°æ›´å°çš„æ‰“åŒ…æ–‡ä»¶ï¼Œæ–¹ä¾¿å­˜å‚¨å’Œç½‘ç»œä¼ è¾“ï¼Œå°±éœ€è¦ä½¿ç”¨ä¸€äº›å‹ç¼©ç®—æ³•ï¼Œç¼©å° tar æ–‡ä»¶çš„å¤§å°ã€‚è¿™å°±æ˜¯ tar å¤„ç†å®ƒè‡ªå·±çš„æ‰“åŒ…æ–‡ä»¶çš„é€»è¾‘ã€‚åœ¨ Windows ä¸‹çš„ä¸€éƒ¨åˆ†å‹ç¼©è½¯ä»¶ä¸­ï¼Œä¸ºäº†è·å–å‹ç¼©åçš„ tar æ‰“åŒ…æ–‡ä»¶çš„å†…å®¹ï¼Œç”¨æˆ·éœ€è¦æ‰‹åŠ¨å…ˆæŠŠè¢«å‹ç¼©çš„ tar åŒ…è§£å‹å‡ºæ¥ï¼Œç„¶åå†æå– tar åŒ…ä¸­çš„æ–‡ä»¶ã€‚ åœ¨ Linux ä¸Šçš„ tar ä¸€èˆ¬åªæ”¯æŒ gzipã€bzipã€xz å’Œ lzip å‡ ç§å‹ç¼©ç®—æ³•ã€‚å¦‚æœéœ€è¦è§£å‹ Windows ä¸Šæ›´ä¸ºå¸¸è§çš„ 7zã€zip å’Œ rar ç­‰ï¼Œåˆ™éœ€è¦å¯»æ±‚æ›¿ä»£è½¯ä»¶ï¼Œè¿™é‡Œæ¨èä½¿ç”¨ unar è½¯ä»¶ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:2:10","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"è¿›ç¨‹\rç®€å•è€Œä¸å¤ªä¸¥è°¨åœ°æ¥è¯´ï¼Œè¿›ç¨‹å°±æ˜¯æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼šå½“æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šä»ç¡¬ç›˜ä¸­è¯»å–ç¨‹åºæ–‡ä»¶ï¼Œå°†ç¨‹åºå†…å®¹åŠ è½½å…¥å†…å­˜ä¸­ï¼Œä¹‹å CPU å°±ä¼šæ‰§è¡Œè¿™ä¸ªç¨‹åºã€‚ è¿›ç¨‹æ˜¯ç°ä»£æ“ä½œç³»ç»Ÿä¸­å¿…ä¸å¯å°‘çš„æ¦‚å¿µã€‚åœ¨ Windows ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ã€Œä»»åŠ¡ç®¡ç†å™¨ã€æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œä¸­çš„è¿›ç¨‹ï¼›Linux ä¸­åŒæ ·ä¹Ÿæœ‰è¿›ç¨‹çš„æ¦‚å¿µã€‚ä¸‹é¢ç®€å•ä»‹ç» Linux ä¸­çš„è¿›ç¨‹ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:3:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æŸ¥çœ‹å½“å‰è¿è¡Œçš„è¿›ç¨‹\rä½¿ç”¨htopè½¯ä»¶\rhtop å¯ä»¥ç®€å•æ–¹ä¾¿æŸ¥çœ‹å½“å‰è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹ï¼Œä»¥åŠç³»ç»Ÿ CPUã€å†…å­˜å ç”¨æƒ…å†µä¸ç³»ç»Ÿè´Ÿè½½ç­‰ä¿¡æ¯ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ htop å³å¯å¯åŠ¨ã€‚ ä½¿ç”¨é¼ æ ‡ä¸é”®ç›˜éƒ½å¯ä»¥æ“ä½œ htopã€‚Htop ç•Œé¢çš„æœ€ä¸‹æ–¹æ˜¯ä¸€äº›é€‰é¡¹ï¼Œä½¿ç”¨é¼ æ ‡ç‚¹å‡»æˆ–æŒ‰é”®ç›˜çš„Â F1Â è‡³Â F10Â åŠŸèƒ½é”®å¯ä»¥é€‰æ‹©è¿™äº›åŠŸèƒ½ï¼Œå¸¸ç”¨çš„åŠŸèƒ½ä¾‹å¦‚æœç´¢è¿›ç¨‹ï¼ˆF3, Searchï¼‰ã€è¿‡æ»¤è¿›ç¨‹ï¼ˆF4, Filterï¼Œä½¿å¾—ç•Œé¢ä¸­åªæœ‰æ»¡è¶³æ¡ä»¶çš„è¿›ç¨‹ï¼‰ã€åˆ‡æ¢æ ‘å½¢ç»“æ„/åˆ—è¡¨æ˜¾ç¤ºï¼ˆF5, Tree/Listï¼‰ç­‰ç­‰ã€‚ ä½¿ç”¨ ps å‘½ä»¤\rpsï¼ˆprocessÂ statusï¼‰æ˜¯å¸¸ç”¨çš„è¾“å‡ºè¿›ç¨‹çŠ¶æ€çš„å·¥å…·ã€‚ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ ps å‘½ä»¤å³å¯å¯åŠ¨ã€‚ psÂ å‘½ä»¤ä»…ä¼šæ˜¾ç¤ºæœ¬ç»ˆç«¯ä¸­è¿è¡Œçš„ç›¸å…³è¿›ç¨‹ï¼Œå¦‚æœéœ€è¦æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼Œå¯¹åº”çš„å‘½ä»¤ä¸ºÂ ps auxã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:3:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"è¿›ç¨‹æ ‡è¯†ç¬¦\ré¦–å…ˆï¼Œæœ‰åŒºåˆ†æ‰æœ‰ç®¡ç†ã€‚è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆPIDï¼ŒProcess Identifierï¼‰æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ˜¯è¿›ç¨‹çš„å”¯ä¸€æ ‡è¯†ã€‚åœ¨ htop ä¸­ï¼Œæœ€å·¦ä¾§ä¸€åˆ—å³ä¸º PIDã€‚å½“ç”¨æˆ·æƒ³æŒ‚èµ·ã€ç»§ç»­æˆ–ç»ˆæ­¢è¿›ç¨‹æ—¶å¯ä»¥ä½¿ç”¨ PID ä½œä¸ºç´¢å¼•ã€‚ åœ¨ htop ä¸­ï¼Œç›´æ¥å•å‡»ç»¿è‰²æ¡å†…çš„ PID æ ï¼Œå¯ä»¥å°†è¿›ç¨‹é¡ºåºæŒ‰ç…§ PID å‡åºæ’åˆ—ï¼Œå†æ¬¡ç‚¹å‡»ä¸ºé™åºæ’åˆ—ï¼ŒåŒç†å¯åº”ç”¨äºå…¶ä»–åˆ—ã€‚ Linuxè¿›ç¨‹å¯åŠ¨é¡ºåº\ræŒ‰ç…§ PID æ’åºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿç³»ç»Ÿå¯åŠ¨çš„è¿‡ç¨‹ã€‚Linux ç³»ç»Ÿå†…æ ¸ä»å¼•å¯¼ç¨‹åºæ¥æ‰‹æ§åˆ¶æƒåï¼Œå¼€å§‹å†…æ ¸åˆå§‹åŒ–ï¼Œéšåå˜ä¸º init_taskï¼Œåˆå§‹åŒ–è‡ªå·±çš„ PID ä¸º 0ã€‚éšååˆ›å»ºå‡º 1 å·è¿›ç¨‹ï¼ˆinit ç¨‹åºï¼Œç›®å‰ä¸€èˆ¬ä¸º systemdï¼‰è¡ç”Ÿå‡ºç”¨æˆ·ç©ºé—´çš„æ‰€æœ‰è¿›ç¨‹ï¼Œåˆ›å»º 2 å·è¿›ç¨‹ kthreadd è¡ç”Ÿå‡ºæ‰€æœ‰å†…æ ¸çº¿ç¨‹ã€‚éšå 0 å·è¿›ç¨‹æˆä¸º idle è¿›ç¨‹ï¼Œ1 å·ã€2 å·å¹¶éç‰¹æ„é¢„ç•™ï¼Œè€Œæ˜¯äº§ç”Ÿè¿›ç¨‹çš„è‡ªç„¶é¡ºåºä½¿ç„¶ã€‚\rç”±äº kthreadd è¿è¡Œäºå†…æ ¸ç©ºé—´ï¼Œæ•…éœ€æŒ‰å¤§å†™ Kï¼ˆShiftÂ +Â kï¼‰é”®æ˜¾ç¤ºå†…æ ¸è¿›ç¨‹åæ‰èƒ½çœ‹åˆ°ã€‚ç„¶è€Œæ— è®ºå¦‚ä½•ä¹Ÿä¸å¯èƒ½åœ¨ htop ä¸­çœ‹åˆ° 0 å·è¿›ç¨‹æœ¬ä½“ï¼Œåªèƒ½å‘ç° 1 å·å’Œ 2 å·è¿›ç¨‹çš„ PPID æ˜¯ 0ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:3:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"è¿›ç¨‹ä¼˜å…ˆçº§ä¸çŠ¶æ€\ræˆ‘ä»¬å¹³æ—¶ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„æ—¶å€™ï¼Œå¯èƒ½åŒæ—¶ä¼šå¼€å¯æµè§ˆå™¨ã€èŠå¤©è½¯ä»¶ã€éŸ³ä¹æ’­æ”¾å™¨ã€æ–‡æœ¬ç¼–è¾‘å™¨â€¦â€¦å‰é¢æåˆ°å®ƒä»¬éƒ½æ˜¯è¿›ç¨‹ï¼Œä½†æ˜¯å•ä¸ª CPU æ ¸å¿ƒä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªè¿›ç¨‹ã€‚ä¸ºäº†è®©è¿™äº›è½¯ä»¶çœ‹èµ·æ¥ ã€ŒåŒæ—¶ã€ åœ¨æ‰§è¡Œï¼Œæ“ä½œç³»ç»Ÿéœ€è¦ç”¨éå¸¸å¿«çš„é€Ÿåº¦å°†è®¡ç®—èµ„æºåœ¨è¿™äº›è¿›ç¨‹ä¹‹é—´åˆ‡æ¢ï¼Œè¿™ä¹Ÿå°±å¼•å…¥äº†è¿›ç¨‹ä¼˜å…ˆçº§å’Œè¿›ç¨‹çŠ¶æ€çš„æ¦‚å¿µã€‚ ä¼˜å…ˆçº§ä¸ nice å€¼\ræœ‰äº†è¿›ç¨‹ï¼Œè°å…ˆè¿è¡Œï¼Ÿè°ç»™ä¸€ç‚¹æ—¶é—´å°±å¤Ÿäº†ï¼Œè°è¦å ç”¨å¤§éƒ¨åˆ† CPU æ—¶é—´ï¼Ÿè¿™åˆæ˜¯å¦‚ä½•å†³å®šçš„ï¼Ÿè¿™äº›é—®é¢˜ä¹‹ä¸­ä½“ç°ç€ ã€Œä¼˜å…ˆæƒã€ çš„æ¦‚å¿µã€‚å¦‚æœè¯´ä¸Šé¢æ‰€ä»‹ç»çš„é‚£äº›è¿›ç¨‹å±æ€§æè¿°äº†è¿›ç¨‹çš„æ§åˆ¶ä¿¡æ¯ï¼Œé‚£ä¹ˆ ã€Œä¼˜å…ˆæƒã€ åˆ™åæ˜ æ“ä½œç³»ç»Ÿè°ƒåº¦è¿›ç¨‹çš„æ‰‹æ®µã€‚ åœ¨ htop çš„æ˜¾ç¤ºä¸­æœ‰ä¸¤ä¸ªä¸ä¼˜å…ˆçº§æœ‰å…³çš„å€¼ï¼š Priorityï¼ˆPRIï¼‰ å’ŒÂ niceï¼ˆNIï¼‰ã€‚ä»¥ä¸‹ä¸»è¦ä»‹ç»ç”¨æˆ·å±‚ä½¿ç”¨çš„ nice å€¼ã€‚ Nice å€¼è¶Šé«˜ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹å¯¹å…¶å®ƒè¿›ç¨‹è¶Š â€œniceâ€ï¼ˆå‹å¥½ï¼‰ï¼Œå¯¹åº”çš„ä¼˜å…ˆçº§ä¹Ÿå°±æ›´ä½ã€‚Nice å€¼æœ€é«˜ä¸º 19ï¼Œæœ€ä½ä¸º -20ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬è¿è¡Œçš„ç¨‹åºçš„ nice å€¼ä¸º 0ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€ htop è§‚å¯Ÿä¸è°ƒæ•´æ¯ä¸ªè¿›ç¨‹çš„ nice å€¼ã€‚ ç”¨æˆ·å¯ä»¥ä½¿ç”¨Â niceÂ å‘½ä»¤åœ¨è¿è¡Œç¨‹åºæ—¶æŒ‡å®šä¼˜å…ˆçº§ï¼Œè€ŒÂ reniceÂ å‘½ä»¤åˆ™å¯ä»¥é‡æ–°æŒ‡å®šä¼˜å…ˆçº§ã€‚å½“ç„¶ï¼Œè‹¥æƒ³è°ƒä½ nice å€¼ï¼Œè¿˜éœ€è¦Â sudoï¼ˆæ¯•ç«Ÿä¸èƒ½éšä¾¿å°±æŠŠè‡ªå·±çš„ä¼˜å…ˆçº§è®¾ç½®å¾—æ›´é«˜ï¼Œä¸ç„¶å¯¹å…¶ä»–çš„ç”¨æˆ·ä¸å…¬å¹³ï¼‰ã€‚ nice -n 10 vim # ä»¥ 10 ä¸º nice å€¼è¿è¡Œ vim renice -n 10 -p 12345 # è®¾ç½® PID ä¸º 12345 çš„è¿›ç¨‹çš„ nice å€¼ä¸º 10 PRIå€¼\rå¦‚æœä½ åœ¨ htop ä¸­æµ‹è¯•è°ƒæ•´è¿›ç¨‹çš„ nice å€¼ï¼Œå¯èƒ½ä¼šå‘ç°ä¸€ä¸ªå…¬å¼ï¼šã€ŒPRI = nice + 20ã€ã€‚è¿™å¯¹äºæ™®é€šè¿›ç¨‹æ˜¯æˆç«‹çš„â€”â€”æ™®é€šè¿›ç¨‹çš„ PRI ä¼šè¢«æ˜ å°„åˆ°ä¸€ä¸ªã€Œéè´Ÿã€æ•´æ•°ã€‚\rä½†åœ¨æ­£å¸¸è¿è¡Œçš„ Linux ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°æœ‰äº›è¿›ç¨‹çš„ PRI å€¼æ˜¯ RTï¼Œæˆ–è€…æ˜¯è´Ÿæ•°ã€‚è¿™è¡¨æ˜å¯¹åº”çš„è¿›ç¨‹æœ‰æ›´é«˜çš„å®æ—¶æ€§è¦æ±‚ï¼ˆä¾‹å¦‚å†…æ ¸è¿›ç¨‹ã€éŸ³é¢‘ç›¸å…³è¿›ç¨‹ç­‰ï¼‰ï¼Œé‡‡ç”¨äº†ä¸æ™®é€šè¿›ç¨‹ä¸åŒçš„è°ƒåº¦ç­–ç•¥ï¼Œä¼˜å…ˆçº§ä¹Ÿç›¸åº”æ›´é«˜ã€‚ è¿›ç¨‹çŠ¶æ€\ré…åˆä¸Šé¢çš„è¿›ç¨‹è°ƒåº¦ç­–ç•¥ï¼Œæˆ‘ä»¬å¯ä»¥ç²—ç•¥åœ°å°†è¿›ç¨‹åˆ†ä¸ºä¸‰ç±»ï¼š ä¸€ç±»æ˜¯æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œå³å¤„äºè¿è¡Œæ€ï¼ˆrunningï¼‰ ä¸€ç±»æ˜¯å¯ä»¥è¿è¡Œä½†æ­£åœ¨æ’é˜Ÿç­‰å¾…çš„ç¨‹åºï¼Œå³å¤„äºå°±ç»ªæ€ï¼ˆreadyï¼‰ æœ€åä¸€ç±»æ˜¯æ­£åœ¨ç­‰å¾…å…¶ä»–èµ„æºï¼ˆä¾‹å¦‚ç½‘ç»œæˆ–è€…ç£ç›˜ç­‰ï¼‰è€Œæ— æ³•ç«‹åˆ»å¼€å§‹è¿è¡Œçš„ç¨‹åºï¼Œå³å¤„äºé˜»å¡æ€ï¼ˆblockedï¼‰ã€‚ è°ƒåº¦æ—¶æ“ä½œç³»ç»Ÿè½®æµé€‰æ‹©å¯ä»¥è¿è¡Œçš„ç¨‹åºè¿è¡Œï¼Œæ„æˆå°±ç»ªæ€ä¸è¿è¡Œæ€å¾ªç¯ã€‚è¿è¡Œä¸­çš„ç¨‹åºå¦‚æœéœ€è¦å…¶ä»–èµ„æºï¼Œåˆ™è¿›å…¥é˜»å¡æ€ï¼›é˜»å¡æ€ä¸­çš„ç¨‹åºå¦‚æœå¾—åˆ°äº†ç›¸åº”çš„èµ„æºï¼Œåˆ™è¿›å…¥å°±ç»ªæ€ã€‚ åœ¨å®é™…çš„ Linux ç³»ç»Ÿä¸­ï¼Œè¿›ç¨‹çš„çŠ¶æ€åˆ†ç±»è¦ç¨å¾®å¤æ‚ä¸€äº›ã€‚åœ¨ htop ä¸­ï¼ŒæŒ‰ä¸‹ H é”®åˆ°å¸®åŠ©é¡µï¼Œå¯ä»¥çœ‹åˆ°å¯¹è¿›ç¨‹çŠ¶æ€çš„å¦‚ä¸‹æè¿°ï¼š Status: R: running; S: sleeping; T: traced/stopped; Z: zombie; D: disk sleep å…¶ä¸­ R çŠ¶æ€å¯¹åº”ä¸Šæ–‡çš„è¿è¡Œå’Œå°±ç»ªæ€ï¼ˆå³è¡¨æ˜è¯¥ç¨‹åºå¯ä»¥è¿è¡Œï¼‰ï¼ŒS å’Œ D çŠ¶æ€å¯¹åº”ä¸Šæ–‡é˜»å¡æ€ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒS å¯¹åº”çš„ sleeping åˆç§° interruptible sleepï¼Œå­—é¢æ„æ€æ˜¯ã€Œå¯ä»¥è¢«ä¸­æ–­ã€ï¼›è€Œ D å¯¹åº”çš„ disk sleep åˆç§° uninterruptible sleepï¼Œä¸å¯è¢«ä¸­æ–­ï¼Œä¸€èˆ¬æ˜¯å› ä¸ºé˜»å¡åœ¨ç£ç›˜è¯»å†™æ“ä½œä¸Šã€‚ Zombie æ˜¯åƒµå°¸è¿›ç¨‹ï¼Œè¯¥çŠ¶æ€ä¸‹è¿›ç¨‹å·²ç»ç»“æŸï¼Œåªæ˜¯ä»ç„¶å ç”¨ä¸€ä¸ª PIDï¼Œä¿å­˜ä¸€ä¸ªè¿”å›å€¼ã€‚è€Œ traced/stopped çŠ¶æ€æ­£æ˜¯ä¸‹æ–‡ä½¿ç”¨ Ctrl + Z å¯¼è‡´çš„æŒ‚èµ·çŠ¶æ€ï¼ˆå¤§å†™ Tï¼‰ï¼Œæˆ–è€…æ˜¯åœ¨ä½¿ç”¨ gdb ç­‰è°ƒè¯•ï¼ˆDebugï¼‰å·¥å…·è¿›è¡Œè·Ÿè¸ªæ—¶çš„çŠ¶æ€ï¼ˆå°å†™ tï¼‰ã€‚ è¿›ç¨‹çŠ¶æ€è¡¨ï¼š çŠ¶æ€ ç¼©å†™è¡¨ç¤º è¯´æ˜ Running R æ­£åœ¨è¿è¡Œ/å¯ä»¥ç«‹åˆ»è¿è¡Œ Sleeping S å¯ä»¥è¢«ä¸­æ–­çš„ç¡çœ  Disk Sleep D ä¸å¯ä»¥è¢«ä¸­æ–­çš„ç¡çœ  Traced / Stopped T è¢«è·Ÿè¸ª/è¢«æŒ‚èµ·çš„è¿›ç¨‹ Zombie Z åƒµå°¸è¿›ç¨‹ ","date":"2024-08-15","objectID":"/posts/3d623e4/:3:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç”¨æˆ·è¿›ç¨‹æ§åˆ¶\rè¦æƒ³æ§åˆ¶è¿›ç¨‹ï¼Œé¦–å…ˆè¦ä¸è¿›ç¨‹å¯¹è¯ï¼Œé‚£ä¹ˆå¿…ç„¶éœ€è¦äº†è§£è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ã€‚ç”±äº ã€Œè¿›ç¨‹ä¹‹é—´ä¸å…±äº«è‡ªå·±çš„å†…å­˜ç©ºé—´ã€ï¼Œä¹Ÿå°±æ— æ³•ç›´æ¥å‘é€ä¿¡æ¯ï¼Œå¿…é¡»è¦æ“ä½œç³»ç»Ÿå¸®å¿™ï¼Œäºæ˜¯ä¿¡å·æœºåˆ¶å°±äº§ç”Ÿäº†ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:4:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ä¿¡å·\rä¿¡å·æ˜¯ Unix ç³»åˆ—ç³»ç»Ÿä¸­è¿›ç¨‹ä¹‹é—´ç›¸äº’é€šä¿¡çš„ä¸€ç§æœºåˆ¶ã€‚å‘é€ä¿¡å·çš„ Linux å‘½ä»¤å«ä½œÂ killã€‚è¢«ç§°ä½œ â€œkillâ€ çš„åŸå› æ˜¯ï¼šæ—©æœŸä¿¡å·çš„ä½œç”¨å°±æ˜¯å…³é—­ï¼ˆæ€æ­»ï¼‰è¿›ç¨‹ã€‚ ä¿¡å·åˆ—è¡¨å¯ä»¥ä½¿ç”¨å‘½ä»¤Â man 7 signalÂ æŸ¥çœ‹ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:4:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"å‰åå°åˆ‡æ¢\rä¸Šé¢çš„å›¾ç‰‡ä¸­ï¼Œå‡ºç°äº†Â fgï¼ŒbgÂ å’Œ Ctrl + Zï¼Œæ¶‰åŠåˆ°çš„æ­£æ˜¯ shell ä¸­å‰åå°çš„æ¦‚å¿µã€‚ ä¸€ä¸ªç¨‹åºè¿è¡Œåœ¨å‰å°æŒ‡çš„æ˜¯ï¼š å½“å‰ç»ˆç«¯çª—å£ä¼šä¸èƒ½æ¥å—å…¶ä»–æŒ‡ä»¤ï¼Œç›´åˆ°å½“å‰ç¨‹åºæš‚åœæˆ–è¿è¡Œç»“æŸ å…³é—­å½“å‰ç»ˆç«¯çª—å£æ—¶ï¼Œè¯¥ç¨‹åºä¹Ÿä¼šè¢«å…³é—­ ä¸€ä¸ªç¨‹åºè¿è¡Œåœ¨åå°æŒ‡çš„æ˜¯ï¼š ç¨‹åºè¿è¡Œåœ¨åå°ï¼Œå½“å‰ç»ˆç«¯çª—å£å¯ä»¥æ¥å—å…¶ä»–æŒ‡ä»¤ å…³é—­å½“å‰ç»ˆç«¯çª—å£æ—¶ï¼Œè¯¥ç¨‹åºä¹Ÿä¼šè¢«å…³é—­ PSï¼š æ— è®ºç¨‹åºè¿è¡Œåœ¨å‰å°è¿˜æ˜¯åå°ï¼Œå¦‚æœæœ‰è¾“å‡ºåˆ°ç»ˆç«¯çš„ç¨‹åºæŒ‡ä»¤ï¼Œå¦‚coutï¼Œcerrç­‰ï¼Œéƒ½ä¼šåœ¨è¿è¡Œçš„ç»ˆç«¯ä¸Šè¾“å‡º é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ shell ä¸­è¿è¡Œçš„å‘½ä»¤éƒ½åœ¨å‰å°è¿è¡Œï¼Œå¦‚æœéœ€è¦åœ¨åå°è¿è¡Œç¨‹åºï¼Œéœ€è¦åœ¨æœ€ååŠ ä¸ŠÂ \u0026 ç¬¦å·ï¼š ./matmul \u0026 # ä¾‹å­ï¼šå°†è€—æ—¶çš„è®¡ç®—æ”¾åœ¨åå°è¿è¡ŒåŒæ—¶è¿›è¡Œå…¶ä»–æ“ä½œ ps PID TTY TIME CMD 1720 pts/0 00:00:00 bash 1861 pts/0 00:00:06 matmul 1862 pts/0 00:00:00 ps # ä½¿ç”¨ ps å‘½ä»¤ï¼Œå¯ä»¥å‘ç° matmul ç¨‹åºåœ¨åå°è¿è¡Œï¼ŒåŒæ—¶æˆ‘ä»¬ä»ç„¶å¯ä»¥æ“ä½œ shell è€Œå¦‚æœéœ€è¦å°†å‰å°ç¨‹åºåˆ‡æ¢åˆ°åå°ï¼Œåˆ™éœ€ä½¿ç”¨å‘½ä»¤ ã€ŒCtrl + Zã€ å‘é€ SIGTSTP ä¿¡å·ä½¿è¿›ç¨‹æŒ‚èµ·ï¼ˆå³å°†ç¨‹åºæš‚åœè¿è¡Œå¹¶æ”¾å…¥åå°ï¼‰ï¼Œæ§åˆ¶æƒè¿˜ç»™ shellã€‚å†ä½¿ç”¨ ã€Œjobsã€ å‘½ä»¤ï¼ŒæŸ¥çœ‹å½“å‰ shell ä¸Šæ‰€æœ‰ç›¸å…³è¿›ç¨‹ã€‚ æ­¤æ—¶å±å¹•è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼Œåˆšæ‰æŒ‚èµ·çš„è¿›ç¨‹ ä»£å·ä¸º 2ï¼ˆä¸æ˜¯pidï¼‰ï¼ŒçŠ¶æ€ä¸º stoppedï¼Œå‘½ä»¤ä¸ºÂ ping localhostã€‚ ä»»åŠ¡å‰çš„ä»£å·åœ¨ fgï¼Œbgï¼Œä¹ƒè‡³ kill å‘½ä»¤ä¸­å‘æŒ¥ä½œç”¨ã€‚ä½¿ç”¨æ—¶éœ€è¦åœ¨å‰é¢åŠ Â %ã€‚ bg %2 #è¡¨ç¤ºè®©ä»£å·ä¸º2çš„ä»»åŠ¡åœ¨åå°ç»§ç»­è¿è¡Œ fg %2 #è¡¨ç¤ºè®©ä»£å·ä¸º2çš„ä»»åŠ¡åœ¨å‰å°ç»§ç»­è¿è¡Œ ä¹Ÿè®¸ä½ æ³¨æ„åˆ°äº†ç¼–å·åé¢è·Ÿç€ + å’Œ - å·ï¼š [1] - running ./signal handle [2] + suspended ping localhost è¿™é‡Œçš„åŠ å·æ ‡è®°äº† fg å’Œ bg å‘½ä»¤é»˜è®¤ä½œç”¨åˆ°çš„ä»»åŠ¡ä¸º 2ï¼Œæ‰€ä»¥è¿™é‡ŒÂ bg %2Â ä¹Ÿå¯ä»¥ç›´æ¥ç®€åŒ–ä¸ºÂ bgã€‚å‡å·è¡¨ç¤ºå¦‚æœåŠ å·æ ‡è®°çš„è¿›ç¨‹é€€å‡ºäº†ï¼Œå®ƒå°±ä¼šæˆä¸ºåŠ å·æ ‡è®°è¿›ç¨‹ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨Â %+Â å’ŒÂ %-Â æŒ‡ä»£è¿™ä¸¤ä¸ªä»»åŠ¡ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:4:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç»ˆæ­¢è¿›ç¨‹\ræ­£å¦‚ä¸Šæ‰€è¿°ï¼Œè®¸å¤šä¿¡å·éƒ½ä¼šå¼•å‘è¿›ç¨‹çš„ç»ˆç»“ï¼Œç„¶è€Œæ ‡å‡†çš„ç»ˆæ­¢è¿›ç¨‹ä¿¡å·æ˜¯ SIGTERMï¼Œæ„å‘³ç€ä¸€ä¸ªè¿›ç¨‹çš„è‡ªç„¶æ­»äº¡ã€‚ ä½¿ç”¨ htop å‘é€ä¿¡å·\rå¯åŠ¨ htop åï¼Œä½¿ç”¨ ã€Œç©ºæ ¼ã€ æ ‡è®°è¦å‘é€ä¿¡å·çš„è¿›ç¨‹(è¢«æ ‡è®°çš„è¿›ç¨‹ä¼šå˜è‰²)ï¼Œå†æŒ‰ä¸‹ K é”®ï¼Œåœ¨å·¦ä¾§æç¤ºæ ä¸­é€‰æ‹©è¦å‘é€çš„ä¿¡å·ï¼ŒæŒ‰ä¸‹å›è½¦å‘é€ä¿¡å·ã€‚ ä½¿ç”¨ kill å‘½ä»¤å‘é€ä¿¡å·\rå‘½ä»¤æ ¼å¼ï¼škill -signal PID -signal å‚æ•°ä¸ºä¿¡å·çš„åç§°æˆ–ç¼–å·ã€‚å¦‚æœä¸ä½¿ç”¨æ­¤å‚æ•°ï¼Œå°†é»˜è®¤ä½¿ç”¨ 15ï¼ˆSIGTERMï¼‰ ä½œä¸ºä¿¡å·å‚æ•° ä½¿ç”¨ kill -l å¯æŸ¥çœ‹æ‰€æœ‰ä¿¡å· $ kill -l # æ˜¾ç¤ºæ‰€æœ‰ä¿¡å·åç§° 1) SIGHUP 2) SIGINT 3) SIGQUIT 4) SIGILL 5) SIGTRAP 6) SIGABRT 7) SIGBUS 8) SIGFPE 9) SIGKILL 10) SIGUSR1 11) SIGSEGV 12) SIGUSR2 13) SIGPIPE 14) SIGALRM 15) SIGTERM 16) SIGSTKFLT 17) SIGCHLD 18) SIGCONT 19) SIGSTOP 20) SIGTSTP 21) SIGTTIN 22) SIGTTOU 23) SIGURG 24) SIGXCPU 25) SIGXFSZ 26) SIGVTALRM 27) SIGPROF 28) SIGWINCH 29) SIGIO 30) SIGPWR 31) SIGSYS 34) SIGRTMIN 35) SIGRTMIN+1 36) SIGRTMIN+2 37) SIGRTMIN+3 38) SIGRTMIN+4 39) SIGRTMIN+5 40) SIGRTMIN+6 41) SIGRTMIN+7 42) SIGRTMIN+8 43) SIGRTMIN+9 44) SIGRTMIN+10 45) SIGRTMIN+11 46) SIGRTMIN+12 47) SIGRTMIN+13 48) SIGRTMIN+14 49) SIGRTMIN+15 50) SIGRTMAX-14 51) SIGRTMAX-13 52) SIGRTMAX-12 53) SIGRTMAX-11 54) SIGRTMAX-10 55) SIGRTMAX-9 56) SIGRTMAX-8 57) SIGRTMAX-7 58) SIGRTMAX-6 59) SIGRTMAX-5 60) SIGRTMAX-4 61) SIGRTMAX-3 62) SIGRTMAX-2 63) SIGRTMAX-1 64) SIGRTMAX ","date":"2024-08-15","objectID":"/posts/3d623e4/:4:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"è„±ç¦»ç»ˆç«¯\rå‰é¢è¯´è¿‡ï¼Œæ— è®ºæ˜¯å‰å°è¿˜æ˜¯åå°è¿è¡Œçš„ç¨‹åºï¼Œåªè¦å…³é—­ shell çª—å£(å³ç»ˆç«¯)ï¼Œè¿™äº›ç¨‹åºéƒ½ä¼šåœæ­¢è¿è¡Œã€‚è¿™æ˜¯å› ä¸ºç»ˆç«¯ä¸€æ—¦è¢«å…³é—­ä¼šå‘å…¶ä¸­æ¯ä¸ªè¿›ç¨‹å‘é€ SIGHUPï¼ˆSignal hangupï¼‰ä¿¡å·ï¼Œè€Œ SIGHUP çš„é»˜è®¤åŠ¨ä½œå³é€€å‡ºç¨‹åºè¿è¡Œã€‚ ç»å¸¸ä½¿ç”¨ SSH è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œä»»åŠ¡çš„äººéƒ½çŸ¥é“ï¼Œshell ä¸­æ‰§è¡Œçš„ç¨‹åºåœ¨ SSH æ–­å¼€ä¹‹åä¼šè¢«å…³é—­ï¼ˆSSH æ–­å¼€è§†ä¸ºå…³é—­ç»ˆç«¯ï¼‰ã€‚å¦‚æœæƒ³è¦ç¨‹åºåœ¨å…³é—­shellçª—å£æˆ–SSHæ–­å¼€åä»ç„¶èƒ½ç»§ç»­è¿è¡Œï¼Œåˆ™å¯ä»¥åœ¨å‘½ä»¤å‰åŠ ä¸Š nohup å‘½ä»¤ã€‚è¯¥å‘½ä»¤å­—é¢å«ä¹‰å°±æ˜¯ã€Œä¸è¦è¢« SIGHUP å½±å“ã€ã€‚ ä¾‹å¦‚ï¼šnohup ping 101.ustclug.org \u0026 ","date":"2024-08-15","objectID":"/posts/3d623e4/:4:4","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"å‘½ä»¤è¡Œå¤šç»ˆç«¯æ–¹å¼\rä¸€ä¸ªç»ˆç«¯ï¼ˆç¡¬ä»¶æ¦‚å¿µï¼‰åªæœ‰ä¸€å¥—é¼ æ ‡é”®ç›˜ï¼Œåªèƒ½æœ‰ä¸€ä¸ª shell ä¸»æŒä¸€ä¸ª sessionï¼Œé‚£å¦‚æœæˆ‘åœ¨ SSH è¿æ¥çš„æ—¶å€™æœ‰å‡ ä¸ªç¨‹åºéœ€è¦åŒæ—¶äº¤äº’çš„è¯ï¼Œåªæœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹å¾ˆä¸æ–¹ä¾¿ã€‚è€Œä¸”ä¸Šé¢è¯´è¿‡å¦‚æœ SSH ç½‘ç»œæ–­å¼€ï¼Œè§†ä¸ºç»ˆç«¯è¢«å…³é—­ï¼Œä¹Ÿå°±æ„å‘³ç€å‰åå°ä¸€èµ·æ”¶åˆ° SIGHUP ä¸€èµ·é€€å‡ºï¼Œå¥½ä¸å®¹æ˜“è®¾ç½®å¥½çš„ä¸´æ—¶å˜é‡ä»€ä¹ˆçš„è¿˜å¾—é‡è®¾ã€‚ å¼€å¯å¤šä¸ª SSH è¿æ¥ä¼¼ä¹å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä½†æ˜¯å¦‚æœç¨‹åºæ—¢éœ€è¦äº¤äº’ï¼Œåˆæƒ³ä¿è¯ä¸å› æ„å¤–æ–­çº¿è€Œåœæ­¢ç¨‹åºï¼Œå°±æ˜¯ nohup ä¹Ÿå¸®ä¸äº†ã€‚ è¿™æ—¶ tmux çš„å‡ºç°ï¼Œè§£å†³äº†ä¼šè¯ä¿æŒä¸çª—å£å¤ç”¨çš„é—®é¢˜ã€‚å…³äº tmux æ›´è¯¦ç»†çš„ä»‹ç»ï¼Œå¯ä»¥å‚è§è¿™ç¯‡åšå®¢ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:4:5","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æœåŠ¡ä¸ä¾‹è¡Œæ€§ä»»åŠ¡\rè¯´åˆ° ã€ŒæœåŠ¡ã€ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°æœåŠ¡å™¨ï¼Œä¸Šé¢è¿è¡Œç€å„å¼å„æ ·çš„ç½‘ç»œæœåŠ¡ã€‚ä½†æ˜¯è¿™é‡Œçš„ã€ŒæœåŠ¡ã€ä¸æ­¢äºæ­¤ï¼Œç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œä¹Ÿéœ€è¦å…³é”®æœåŠ¡çš„æ”¯æ’‘ã€‚åœ¨ Windows ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä»»åŠ¡ç®¡ç†å™¨ä¸€çª¥ Windows ä¸­çš„ã€ŒæœåŠ¡ã€ï¼›Linux ä¹Ÿæœ‰æœåŠ¡çš„æ¦‚å¿µï¼Œä¸‹é¢å°†ä½œä»‹ç»ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:5:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"å®ˆæŠ¤è¿›ç¨‹\ræœåŠ¡çš„ç‰¹å¾ï¼Œæ„å‘³ç€æœåŠ¡è¿›ç¨‹å¿…é¡»ç‹¬ç«‹äºç”¨æˆ·çš„ç™»å½•ï¼Œä¸èƒ½éšç”¨æˆ·çš„é€€å‡ºè€Œè¢«ç»ˆæ­¢ã€‚æ ¹æ®å‰é¢çš„è®²è§£ï¼Œåªæœ‰å¯åŠ¨æ—¶è„±ç¦»ä¼šè¯æ‰èƒ½é¿å…å› ä¸ºç»ˆç«¯çš„å…³é—­è€Œæ¶ˆå¤±ã€‚è€Œè¿™ç±»ä¸€ç›´é»˜é»˜å·¥ä½œäºåå°çš„è¿›ç¨‹è¢«ç§°ä¸ºå®ˆæŠ¤è¿›ç¨‹ (daemon)ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:5:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç®¡ç†æœåŠ¡\rç›®å‰ç»å¤§å¤šæ•° Linux å‘è¡Œç‰ˆçš„ init æ–¹æ¡ˆéƒ½æ˜¯ systemdï¼Œå…¶ç®¡ç†ç³»ç»ŸæœåŠ¡çš„å‘½ä»¤æ˜¯Â systemctlã€‚ è¦ç®¡ç†æœåŠ¡ï¼Œé¦–å…ˆæˆ‘ä»¬è¦æ¸…æ¥šç³»ç»Ÿå†…æœ‰å“ªäº›æœåŠ¡ã€‚å¯ä»¥é€šè¿‡Â systemctl statusÂ å‘½ä»¤ä¸€è§ˆç³»ç»ŸæœåŠ¡è¿è¡Œæƒ…å†µã€‚ ~ systemctl status â— zyz-virtual-machine State: running Jobs: 0 queued Failed: 0 units Since: Thu 2024-04-18 11:00:49 CST; 3h 22min ago CGroup: / â”œâ”€user.slice â”‚ â””â”€user-1000.slice â”‚ â”œâ”€user@1000.service â”‚ â”‚ â”œâ”€gsd-xsettings.service â”‚ â”‚ â”‚ â””â”€1869 /usr/libexec/gsd-xsettings â”‚ â”‚ â”œâ”€gvfs-goa-volume-monitor.service â”‚ â”‚ â”‚ â””â”€1731 /usr/libexec/gvfs-goa-volume-monitor â”‚ â”‚ â”œâ”€gsd-power.service â”‚ â”‚ â”‚ â””â”€1815 /usr/libexec/gsd-power â”‚ â”‚ â”œâ”€xdg-permission-store.service â”‚ â”‚ â”‚ â””â”€1697 /usr/libexec/xdg-permission-store â”‚ â”‚ â”œâ”€xdg-document-portal.service â”‚ â”‚ â”‚ â””â”€1982 /usr/libexec/xdg-document-portal â”‚ â”‚ â”œâ”€xdg-desktop-portal.service â”‚ â”‚ â”‚ â””â”€2138 /usr/libexec/xdg-desktop-portal â”‚ â”‚ â”œâ”€gsd-sound.service â”‚ â”‚ â”‚ â””â”€1856 /usr/libexec/gsd-sound (ä»¥ä¸‹çœç•¥) ä¸Šé¢å‘½ä»¤æ‰€åˆ—å‡ºçš„æ˜¯ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„æœåŠ¡ï¼Œè‹¥æƒ³äº†è§£å…¨éƒ¨æœåŠ¡å†…å®¹ï¼Œå¯ä»¥è¿è¡ŒÂ systemctl list-unitsÂ æ¥æŸ¥çœ‹ã€‚è¯¥å‘½ä»¤å°†æ˜¾ç¤ºæ‰€æœ‰ systemd ç®¡ç†çš„å•å…ƒï¼ŒåŒæ—¶å³é¢è¿˜ä¼šé™„ä¸Šä¸€å¥æ³¨é‡Šæ¥è¡¨æ˜è¯¥æœåŠ¡çš„ä»»åŠ¡ã€‚ Unitå¹¶ä¸æ˜¯Serviceï¼Œä»¥ä¸Šçš„å™è¿°ä»…ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿ã€‚Systemd ä¸­çš„ unit å¯ä»¥æ˜¯æœåŠ¡ï¼ˆServiceï¼‰ã€è®¾å¤‡ï¼ˆDeviceï¼‰ã€æŒ‚è½½ç‚¹ï¼ˆMountï¼‰ã€å®šæ—¶å™¨ï¼ˆTimerï¼‰â€¦â€¦æœ‰å…³ systemd unit çš„è¯¦ç»†ä»‹ç»ï¼Œå¯è§Â systemd.unit(5) è‡³äºæœåŠ¡çš„å¯åŠ¨ï¼Œç»ˆæ­¢ï¼Œé‡è½½é…ç½®ç­‰å‘½ä»¤å¯äº¤ä»˜ tldr ä»‹ç»ã€‚ $ tldr systemctl systemctl Control the systemd system and service manager. - List failed units: # åˆ—å‡ºè¿è¡Œå¤±è´¥çš„æœåŠ¡ systemctl --failed - Start/Stop/Restart/Reload a service: # å¼€å¯/å…³é—­/é‡å¯/é‡è½½æœåŠ¡ã€‚Reload ä»£è¡¨é‡è½½é…ç½®æ–‡ä»¶è€Œä¸é‡å¯è¿›ç¨‹ã€‚ systemctl start/stop/restart/reload {{unit}} - Show the status of a unit: # æ˜¾ç¤ºæœåŠ¡çŠ¶æ€ systemctl status {{unit}} - Enable/Disable a unit to be started on bootup: # è®¾ç½®ï¼ˆEnableï¼‰/å–æ¶ˆï¼ˆDisableï¼‰æœåŠ¡å¼€æœºè‡ªå¯ systemctl enable/disable {{unit}} - Mask/Unmask a unit, prevent it to be started on bootup: # é˜»æ­¢/å–æ¶ˆé˜»æ­¢æœåŠ¡è¢« enable systemctl mask/unmask {{unit}} - Reload systemd, scanning for new or changed units: # é‡è½½ systemdï¼Œéœ€è¦åœ¨åˆ›å»ºæˆ–ä¿®æ”¹æœåŠ¡æ–‡ä»¶åæ‰§è¡Œ systemctl daemon-reload ","date":"2024-08-15","objectID":"/posts/3d623e4/:5:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"è‡ªå®šä¹‰æœåŠ¡\rå¦‚æœæˆ‘æƒ³å°†ä¸€ä¸ªåŸºäº Web çš„åº”ç”¨ï¼ˆå¦‚åŸºäº Web çš„ Python äº¤äº’åº”ç”¨ï¼‰ä½œä¸ºå±€åŸŸç½‘å†… Web æœåŠ¡ï¼Œä»¥ä¾¿äºåœ¨å…¶ä»–è®¾å¤‡ä¸Šè®¿é—®ã€‚é‚£ä¹ˆå¦‚ä½•å°†å…¶æ³¨å†Œä¸º systemd æœåŠ¡å‘¢ï¼Ÿ å…¶å®åªéœ€è¦ç¼–å†™ä¸€ä¸ªç®€å•çš„ .service æ–‡ä»¶å³å¯ã€‚ ç¼–å†™ .service æ–‡ä»¶å¹¶è¿è¡Œï¼ˆä»¥ Jupyter Notebook ä¸ºä¾‹ï¼‰ Jupyter Notebook æ˜¯åŸºäºæµè§ˆå™¨çš„äº¤äº’å¼ç¼–ç¨‹å¹³å°ï¼Œåœ¨æ•°æ®ç§‘å­¦é¢†åŸŸéå¸¸å¸¸ç”¨ã€‚ é¦–å…ˆä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨åœ¨Â /etc/systemd/systemÂ ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºÂ jupyter.serviceÂ çš„æ–‡ä»¶ã€‚å¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹åä¿å­˜ï¼š [Unit] Description=Jupyter Notebook # è¯¥æœåŠ¡çš„ç®€è¦æè¿° [Service] PIDFile=/run/jupyter.pid # ç”¨æ¥å­˜æ”¾ PID çš„æ–‡ä»¶ ExecStart=/usr/local/bin/jupyter-notebook --allow-root # ä½¿ç”¨ç»å¯¹è·¯å¾„æ ‡æ˜çš„å‘½ä»¤åŠå‘½ä»¤è¡Œå‚æ•° WorkingDirectory=/root # æœåŠ¡å¯åŠ¨æ—¶çš„å·¥ä½œç›®å½• Restart=always # é‡å¯æ¨¡å¼ï¼Œè¿™é‡Œæ˜¯æ— è®ºå› ä½•é€€å‡ºéƒ½é‡å¯ RestartSec=10 # é€€å‡ºåå¤šå°‘ç§’é‡å¯ [Install] WantedBy=multi-user.target # ä¾èµ–ç›®æ ‡ï¼Œè¿™é‡ŒæŒ‡è¿›å…¥å¤šç”¨æˆ·æ¨¡å¼åå†å¯åŠ¨è¯¥æœåŠ¡ ç„¶åè¿è¡ŒÂ systemctl daemon-reloadï¼Œå°±å¯ä»¥ä½¿ç”¨Â systemctlÂ å‘½ä»¤æ¥ç®¡ç†è¿™ä¸ªæœåŠ¡äº†ï¼Œä¾‹å¦‚ï¼š systemctl start jupyter systemctl stop jupyter systemctl enable jupyter # enable è¡¨ç¤ºæ ‡è®°æœåŠ¡çš„å¼€æœºè‡ªåŠ¨å¯åŠ¨ systemctl disable jupyter # å–æ¶ˆè‡ªå¯ å¯ä»¥å‚è€ƒç³»ç»Ÿä¸­å…¶ä»– service æ–‡ä»¶ï¼Œä»¥åŠÂ systemd.service(5)Â æ‰‹å†Œé¡µç¼–å†™é…ç½®æ–‡ä»¶ ","date":"2024-08-15","objectID":"/posts/3d623e4/:5:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ä¾‹è¡Œæ€§æœåŠ¡\ræ‰€è°“ä¾‹è¡Œæ€§ä»»åŠ¡ï¼Œæ˜¯æŒ‡åŸºäºæ—¶é—´çš„ä¸€æ¬¡æˆ–å¤šæ¬¡å‘¨æœŸæ€§å®šæ—¶ä»»åŠ¡ã€‚åœ¨ Linux ä¸­ï¼Œå®ç°å®šæ—¶ä»»åŠ¡å·¥ä½œçš„ç¨‹åºä¸»è¦æœ‰ at å’Œ crontabï¼Œå®ƒä»¬æ— ä¸€ä¾‹å¤–éƒ½ä½œä¸ºç³»ç»ŸæœåŠ¡å­˜åœ¨ã€‚ atå‘½ä»¤\rat å‘½ä»¤è´Ÿè´£å•æ¬¡è®¡åˆ’ä»»åŠ¡ï¼Œå½“å‰è®¸å¤šå‘è¡Œç‰ˆä¸­ï¼Œå¹¶æ²¡æœ‰é¢„è£…è¯¥å‘½ä»¤ï¼Œéœ€è¦ä½¿ç”¨å‘½ä»¤Â sudo apt install atÂ è¿›è¡Œå®‰è£…ã€‚ éšåä½¿ç”¨ tldr æŸ¥çœ‹è¯¥å‘½ä»¤ä½¿ç”¨æ–¹æ³•ï¼š $ tldr at at Execute commands once at a later time. Service atd (or atrun) should be running for the actual executions. - Execute commands from standard input in 5 minutes (press Ctrl + D when done): at now + 5 minutes - Execute a command from standard input at 10:00 AM today: echo \"{{./make_db_backup.sh}}\" | at 1000 - Execute commands from a given file next Tuesday: at -f {{path/to/file}} 9:30 PM Tue æ‰€ä»¥è¯¥å‘½ä»¤çš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹å¦‚ä¸‹ï¼š $ at now + 1min \u003e echo \"hello\" \u003e \u003cEOT\u003e ï¼ˆæŒ‰ä¸‹ Ctrl + Dï¼‰ job 3 at Sat Apr 18 16:16:00 2020 # ä»»åŠ¡ç¼–å·ä¸ä»»åŠ¡å¼€å§‹æ—¶é—´ ä¸€åˆ†é’Ÿåâ€¦â€¦ä¸ºä»€ä¹ˆæ²¡æœ‰æ‰“å°å‡ºå­—ç¬¦ä¸²å‘¢ï¼Ÿå…¶å®æ˜¯å› ä¸º at é»˜è®¤å°†æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰å’Œæ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰çš„å†…å®¹ä»¥é‚®ä»¶å½¢å¼å‘é€ç»™ç”¨æˆ·ã€‚ä½¿ç”¨ç¼–è¾‘å™¨æŸ¥çœ‹Â /var/mail/$USERÂ å°±å¯ä»¥çœ‹åˆ°è¾“å‡ºäº†ï¼ˆéœ€è¦æœ¬åœ°å®‰è£… mail ç›¸å…³çš„æœåŠ¡ï¼‰ã€‚ è®¾ç½®å®Œä»»åŠ¡ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ç®¡ç†ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Â at -lÂ åˆ—å‡ºä»»åŠ¡ï¼Œat -r \u003cç¼–å·\u003eÂ åˆ é™¤ä»»åŠ¡ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ atq å’Œ atrm å‘½ä»¤çš„åˆ«åã€‚ crontabå‘½ä»¤\rcron å‘½ä»¤è´Ÿè´£å‘¨æœŸæ€§çš„ä»»åŠ¡è®¾ç½®ï¼Œä¸ at ç•¥æœ‰ä¸åŒçš„æ˜¯ï¼Œcron çš„é…ç½®å¤§å¤šé€šè¿‡é…ç½®æ–‡ä»¶å®ç°ã€‚ å¤§å¤šæ•°ç³»ç»Ÿåº”è¯¥å·²ç»é¢„è£…äº† crontabï¼Œé¦–å…ˆæŸ¥çœ‹ crontab çš„ç”¨æ³•ï¼š $ crontab --help crontab: invalid option -- '-' # å‡ºç°è¿™ä¸¤è¡Œå­—å¾ˆæ­£å¸¸ï¼Œè®¸å¤šå‘½ä»¤ï¼ˆå¦‚ sshï¼‰æ²¡æœ‰ä¸“ç”¨çš„ help crontab: usage error: unrecognized option # è¾“å…¥ã€Œé”™è¯¯ã€çš„é€‰é¡¹æ—¶ï¼Œä¾¿ä¼šå‡ºç°ç®€å•çš„ä½¿ç”¨è¯´æ˜ã€‚ usage: crontab [-u user] file crontab [ -u user ] [ -i ] { -e | -l | -r } (default operation is replace, per 1003.2) -e (edit user's crontab) -l (list user's crontab) -r (delete user's crontab) -i (prompt before deleting user's crontab) å¯ä»¥çœ‹åˆ°åŸºæœ¬å‘½ä»¤å³å¯¹æŒ‡å®šç”¨æˆ·çš„ä¾‹è¡Œä»»åŠ¡è¿›è¡Œæ˜¾ç¤ºã€ç¼–è¾‘ã€åˆ é™¤ã€‚å¦‚æœä»»ä½•å‚æ•°éƒ½ä¸æ·»åŠ è¿è¡Œ crontabï¼Œå°†ä»æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰è¯»å…¥è®¾ç½®å†…å®¹ï¼Œå¹¶è¦†ç›–ä¹‹å‰çš„é…ç½®ã€‚æ‰€ä»¥å¦‚æœæƒ³ä»¥ååœ¨ç°æœ‰é…ç½®åŸºç¡€ä¸Šæ·»åŠ ï¼Œåº”å½“åœ¨å®¶ç›®å½•ä¸­åˆ›å»ºä¸“ç”¨æ–‡ä»¶å­˜å‚¨ï¼Œæˆ–è€…ä½¿ç”¨Â crontab -eÂ æ¥å¯¹æœ¬ç”¨æˆ·ä»»åŠ¡è¿›è¡Œç¼–è¾‘ã€‚ crontab çš„é…ç½®æ ¼å¼å¾ˆç®€å•ï¼Œå¯¹äºé…ç½®æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œå‰åŠæ®µä¸ºæ—¶é—´ï¼ŒååŠæ®µä¸º shell æ‰§è¡Œå‘½ä»¤ã€‚å…¶ä¸­å‰åŠæ®µçš„æ—¶é—´é…ç½®æ ¼å¼ä¸ºï¼š # åˆ† æ—¶ æ—¥ æœˆ æ˜ŸæœŸ | å‘½ä»¤ # ä¸‹é¢æ˜¯å‡ ä¸ªç¤ºä¾‹ * * * * * echo \"hello\" \u003e\u003e ~/count # æ¯åˆ†é’Ÿè¾“å‡º hello åˆ°å®¶ç›®å½•ä¸‹ count æ–‡ä»¶ 0,15,30,45 0-6 * JAN SUN command # æ¯å¹´ä¸€æœˆä»½çš„æ¯ä¸ªæ˜ŸæœŸæ—¥åŠå¤œ 0 ç‚¹åˆ°æ—©æ™¨ 6 ç‚¹æ¯ 15 åˆ†é’Ÿéšä¾¿åšç‚¹ä»€ä¹ˆ 5 3 * * * curl 'http://ip.42.pl/raw' | mail -s \"ip today\" xxx@xxx.com # æ¯å¤©å‡Œæ™¨ 3 ç‚¹ 05 åˆ†å°†æŸ¥è¯¢åˆ°çš„å…¬ç½‘ ip å‘é€åˆ°è‡ªå·±çš„é‚®ç®± ï¼ˆå‡è®¾åŠå¤œ 3 ç‚¹é‡æ–°æ‹¨å·ï¼‰ å¦‚æœè¿™é‡Œè§£é‡Šå¾—å°šä¸æ¸…æ¥šï¼Œå¯ä»¥è®¿é—®Â æ­¤ç½‘ç«™ï¼Œè¯¥ç½‘ç«™å¯ä»¥å°†é…ç½®æ–‡ä»¶ä¸­çš„æ—¶é—´å­—æ®µç¿»è¯‘ä¸ºæ—¥å¸¸æ‰€èƒ½ç†è§£çš„æ—¶é—´è¡¨ç¤ºã€‚ å¦å¤–ï¼Œsystemd çš„ timer å•å…ƒä¹Ÿå¯ä»¥å®ç°å®šæ—¶ä»»åŠ¡ï¼Œé…ç½®æ–‡ä»¶çš„æ ¼å¼ä¸ä¸Šé¢çš„ service æ–‡ä»¶ä¸€è‡´ï¼Œå…·ä½“å¯ä»¥å‚è€ƒÂ Systemd å®šæ—¶å™¨æ•™ç¨‹è¿›è¡Œé…ç½®ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:5:4","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç”¨æˆ·ä¸ç”¨æˆ·ç»„ã€æ–‡ä»¶æƒé™ã€æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„\r","date":"2024-08-15","objectID":"/posts/3d623e4/:6:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç”¨æˆ·ä¸ç”¨æˆ·ç»„\rä¸ºä½•éœ€è¦ç”¨æˆ·\ræ—©æœŸçš„æ“ä½œç³»ç»Ÿæ²¡æœ‰ç”¨æˆ·çš„æ¦‚å¿µï¼ˆå¦‚ MS-DOSï¼‰ï¼Œæˆ–è€…æœ‰ã€Œç”¨æˆ·ã€çš„æ¦‚å¿µï¼Œä½†æ˜¯å‡ ä¹ä¸åŒºåˆ†ç”¨æˆ·çš„æƒé™ï¼ˆå¦‚ Windows 9xï¼‰ã€‚è€Œç°åœ¨ï¼Œè¿™ä¸ç®¡å¯¹äºæœåŠ¡å™¨ï¼Œè¿˜æ˜¯ä¸ªäººç”¨æˆ·æ¥è¯´ï¼Œéƒ½æ˜¯æ— æ³•æ¥å—çš„ã€‚ åœ¨æœåŠ¡å™¨ç¯å¢ƒä¸­ï¼Œã€Œç”¨æˆ·ã€çš„æ¦‚å¿µæ˜¯æ˜ç¡®çš„ï¼šæœåŠ¡å™¨çš„ç®¡ç†å‘˜å¯ä»¥ä¸ºä¸åŒçš„ä½¿ç”¨è€…åˆ›å»ºç”¨æˆ·ï¼Œåˆ†é…ä¸åŒçš„æƒé™ï¼Œä¿éšœç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œï¼›ä¹Ÿå¯ä»¥ä¸ºç½‘ç»œæœåŠ¡åˆ›å»ºç”¨æˆ·ï¼ˆæ­¤æ—¶ï¼Œç”¨æˆ·å°±ä¸å†æ˜¯ä¸€ä¸ªæœ‰è¡€æœ‰è‚‰çš„äººï¼‰ï¼Œé€šè¿‡æƒé™é™åˆ¶ï¼Œä»¥å‡å°æœåŠ¡è¢«æ”»å‡»æ—¶å¯¹ç³»ç»Ÿå®‰å…¨çš„ç ´åã€‚ è€Œå¯¹äºä¸ªäººç”¨æˆ·æ¥è¯´ï¼Œä»–ä»¬çš„è®¾å¤‡ä¸ä¼šæœ‰ç¬¬äºŒä¸ªäººåœ¨ä½¿ç”¨ã€‚æ­¤æ—¶ï¼Œç°ä»£æ“ä½œç³»ç»Ÿä¸€èˆ¬åŒºåˆ†ä½¿ç”¨è€…çš„ç”¨æˆ·ä¸ã€Œç³»ç»Ÿç”¨æˆ·ã€ï¼Œå¹¶ä¸”åˆ’åˆ†æƒé™ï¼Œä»¥å°½å¯èƒ½ä¿è¯ç³»ç»Ÿçš„å®Œæ•´æ€§ä¸ä¼šå› ä¸ºç”¨æˆ·çš„è¯¯æ“ä½œæˆ–æ¶æ„ç¨‹åºè€Œé­åˆ°ç ´åã€‚ Linuxä¸‹çš„ç”¨æˆ·ç®€ä»‹\rä½ å¯ä»¥æŸ¥çœ‹Â /etc/passwdÂ æ–‡ä»¶ï¼Œæ¥å¾—åˆ°ç³»ç»Ÿä¸­ç”¨æˆ·çš„é…ç½®ä¿¡æ¯ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š root:x:0:0:root:/root:/bin/bash daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin bin:x:2:2:bin:/bin:/usr/sbin/nologin ï¼ˆä¸­é—´å†…å®¹çœç•¥ï¼‰ sshd:x:110:65534::/run/sshd:/usr/sbin/nologin ustc:x:1000:1000:ustc:/home/ustc:/bin/bash lxd:x:998:100::/var/snap/lxd/common/lxd:/bin/false mysql:x:111:116:MySQL Server,,,:/nonexistent:/bin/false åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½ä»£è¡¨ä¸€ä¸ªç”¨æˆ·ï¼Œæ¯è¡Œä¸­ç”¨æˆ·ä¿¡æ¯ç”±å†’å·Â :Â éš”å¼€ï¼Œå­˜å‚¨ç€åŒ…æ‹¬ç”¨æˆ·åã€ç”¨æˆ·ç¼–å· (UID, User ID)ã€å®¶ç›®å½•ä½ç½®ç­‰ä¿¡æ¯ã€‚æ›´å¤šä»‹ç»ï¼Œå¯ä»¥é€šè¿‡Â man 5 passwdÂ æŸ¥é˜…ã€‚ å¯ä»¥å…³æ³¨åˆ°ï¼Œé™¤äº†ä½ è‡ªå·±ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ç”¨æˆ·ï¼šrootï¼Œå’Œä¸€å¤§å †ä½ ç´ æœªç›¸è¯†çš„åå­—ã€‚ä¸‹é¢å°†ä¼šè¿›è¡Œä»‹ç»ã€‚ åœ¨ Unix æœ€åˆçš„æ—¶å€™ï¼ŒpasswdÂ æ–‡ä»¶å­˜å‚¨äº†ç”¨æˆ·å¯†ç çš„å“ˆå¸Œã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯æ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥è¯»å–çš„ã€‚ä¸ºäº†ä¸è®©ç”¨æˆ·çš„å¯†ç å“ˆå¸Œè¢«ä»»æ„è·å–ï¼Œè¿›è€Œå¯¼è‡´ç”¨æˆ·çš„å¯†ç è¢«æš´åŠ›ç ´è§£ï¼Œç°åœ¨ä¸€èˆ¬æŠŠå¯†ç å­˜åœ¨åˆ«çš„åœ°æ–¹ã€‚å¯¹äº Linux æ¥è¯´ï¼Œå¯†ç å“ˆå¸Œä¿¡æ¯å­˜å‚¨åœ¨Â /etc/shadowÂ é‡Œé¢ï¼Œåªæœ‰æ ¹ç”¨æˆ·å¯ä»¥è®¿é—®ä¸ä¿®æ”¹ã€‚ æ ¹ç”¨æˆ· æ ¹ç”¨æˆ·åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­æ‹¥æœ‰æœ€é«˜çš„æƒé™ï¼Œå¯ä»¥å¯¹ç³»ç»Ÿåšä»»ä½•æ“ä½œï¼ˆåŒ…æ‹¬åˆ é™¤æ‰€æœ‰ç³»ç»Ÿæ–‡ä»¶è¿™ä¸€ç±»æç«¯å±é™©çš„æ“ä½œï¼‰ã€‚rootÂ ç”¨æˆ·çš„ç”¨æˆ·æ•°æ®å­˜å‚¨åœ¨Â /rootÂ ä¸‹ã€‚ åœ¨ä½¿ç”¨Â sudoÂ çš„æ—¶å€™ï¼Œè¾“å…¥è‡ªå·±çš„å¯†ç å¹¶éªŒè¯æ­£ç¡®ä¹‹åï¼ŒsudoÂ å°±ä¼šä»¥Â rootÂ ç”¨æˆ·çš„èº«ä»½ï¼Œæ‰§è¡Œåé¢æˆ‘ä»¬å¸Œæœ›æ‰§è¡Œçš„å‘½ä»¤ã€‚è€Œä½¿ç”¨Â aptÂ å®‰è£…çš„è½¯ä»¶å­˜å‚¨åœ¨äº†ç³»ç»Ÿçš„ç›®å½•ä¸‹ï¼Œæ‰€ä»¥å¿…é¡»è¦ä»¥Â rootÂ ç”¨æˆ·çš„èº«ä»½å®‰è£…ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¹³æ—¶éœ€è¦Â sudoÂ æ¥å®‰è£…è½¯ä»¶çš„åŸå› ã€‚ è°¨æ…ä½¿ç”¨ sudo æ¥æ‰§è¡Œå‘½ä»¤\ræˆ‘ä»¬çŸ¥é“ï¼ŒrootÂ ç”¨æˆ·å¯ä»¥å¯¹ç³»ç»Ÿåšæå…¶å±é™©çš„æ“ä½œã€‚å½“ä½¿ç”¨Â rootÂ æƒé™æ‰§è¡Œå‘½ä»¤æ—¶ï¼ˆå¦‚ä½¿ç”¨Â sudoï¼‰ï¼Œä¸€å®šè¦å°å¿ƒã€è°¨æ…ï¼Œç†è§£å‘½ä»¤çš„å«ä¹‰ä¹‹åå†æŒ‰ä¸‹å›è½¦ã€‚è¯·ä¸è¦å¤åˆ¶ç½‘ç»œä¸Šæ‰€è°“çš„ã€ŒLinux ä¼˜åŒ–å‘½ä»¤ã€ç­‰ï¼Œä»¥Â rootÂ æƒé™æ‰§è¡Œï¼Œå¦åˆ™å¯èƒ½ä¼šå¸¦æ¥ç¾éš¾æ€§çš„åæœã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›ä¼šå¯¹ç³»ç»Ÿå¸¦æ¥æ¯ç­æ€§ç ´åçš„ä¾‹å­ã€‚Â å†é‡å¤ä¸€éï¼Œä¸è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ rm -rf /ï¼ˆåˆ é™¤ç³»ç»Ÿä¸­çš„æ‰€æœ‰å¯ä»¥åˆ é™¤çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬è¢«æŒ‚è½½çš„å…¶ä»–åˆ†åŒºã€‚å³ä½¿ä¸ä»¥Â rootÂ æƒé™æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥åˆ æ‰è‡ªå·±çš„æ‰€æœ‰æ–‡ä»¶ã€‚ï¼‰ mkfs.ext4 /dev/sdaï¼ˆå°†ç³»ç»Ÿçš„ç¬¬ä¸€å—ç¡¬ç›˜ç›´æ¥æ ¼å¼åŒ–ä¸º ext4 æ–‡ä»¶ç³»ç»Ÿã€‚è¿™ä¼šç ´åå…¶ä¸Šæ‰€æœ‰çš„æ–‡ä»¶ã€‚ï¼‰ dd if=/dev/urandom of=/dev/sdaï¼ˆå¯¹ç³»ç»Ÿçš„ç¬¬ä¸€å—ç¡¬ç›˜ç›´æ¥å†™å…¥ä¼ªéšæœºæ•°ã€‚è¿™ä¼šç ´åå…¶ä¸Šæ‰€æœ‰çš„æ–‡ä»¶ï¼Œå¹¶ä¸”æ‰¾å›æ–‡ä»¶çš„å¯èƒ½æ€§é™ä½ã€‚ï¼‰ :(){ :|: \u0026 };:ï¼ˆè¢«ç§°ä¸ºã€ŒFork ç‚¸å¼¹ã€ï¼Œä¼šæ¶ˆè€—ç³»ç»Ÿæ‰€æœ‰çš„èµ„æºã€‚åœ¨æœªå¯¹è¿›ç¨‹èµ„æºä½œé™åˆ¶çš„æƒ…å†µä¸‹ï¼Œåªèƒ½é€šè¿‡é‡å¯ç³»ç»Ÿè§£å†³ï¼Œæ‰€æœ‰æœªä¿å­˜çš„æ•°æ®ä¼šä¸¢å¤±ã€‚ï¼‰ ç³»ç»Ÿç”¨æˆ· é™¤äº†ä½ ã€rootÂ å’Œå…¶ä»–åœ¨ç”¨ä½ çš„ç”µè„‘/æœåŠ¡å™¨çš„äººï¼ˆå¦‚æœæœ‰ï¼‰ä»¥å¤–ï¼Œå‰©ä¸‹è¿˜æœ‰å¾ˆå¤šç”¨æˆ·ï¼Œå¦‚Â nobody,Â www-dataÂ ç­‰ã€‚å®ƒä»¬ç”±ç³»ç»Ÿæˆ–ç›¸å…³ç¨‹åºåˆ›å»ºï¼Œç”¨äºæ‰§è¡ŒæœåŠ¡ç­‰ç³»ç»Ÿä»»åŠ¡ã€‚ä¸è¦éšæ„åˆ é™¤è¿™äº›ç”¨æˆ·ï¼Œä»¥å…ç³»ç»Ÿè¿è¡Œå‡ºç°é—®é¢˜ã€‚ ä¸€èˆ¬åœ°ï¼Œåœ¨ Linux ä¸­ï¼Œç³»ç»Ÿç”¨æˆ·çš„ UID æœ‰ä¸€ä¸ªæŒ‡å®šèŒƒå›´ï¼Œè€Œè¿™æ®µèŒƒå›´åœ¨å„ä¸ªå‘è¡Œç‰ˆä¸­å¯èƒ½ä¸åŒã€‚å¦‚ Debian ä½¿ç”¨äº† 100-999, 60000-64999 ç­‰åŒºé—´åˆ†é…ç»™ç³»ç»Ÿç”¨æˆ·ã€‚ æ­¤å¤–ï¼Œç”±äºç³»ç»Ÿç”¨æˆ·çš„ç‰¹æ®Šæ€§ï¼Œå®ƒä»¬ä¸€èˆ¬é»˜è®¤ç¦æ­¢ä½¿ç”¨å¯†ç ç™»å½•ã€‚ æ™®é€šç”¨æˆ· æ™®é€šç”¨æˆ·å¯ä»¥ç™»å½•ç³»ç»Ÿï¼Œå¹¶åªèƒ½å¯¹è‡ªå·±çš„å®¶ç›®å½•ä¸‹çš„æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚æ‰€æœ‰æ™®é€šç”¨æˆ·çš„å®¶ç›®å½•éƒ½åœ¨Â /home/Â ä¸‹ï¼Œä½äºÂ /home/username/Â çš„ä½ç½®ï¼Œå…¶ä¸­Â usernameÂ æ˜¯ç”¨æˆ·åã€‚ æ™®é€šç”¨æˆ·æ— æ³•ç›´æ¥ä¿®æ”¹ç³»ç»Ÿé…ç½®ï¼Œä¹Ÿæ— æ³•ä¸ºç³»ç»Ÿç¯å¢ƒå®‰è£…æˆ–å¸è½½è½¯ä»¶ã€‚ åˆ‡æ¢ç”¨æˆ·\rsudo å‘½ä»¤ è¯¥å‘½ä»¤å¯ä»¥è®©ä½ ä»¥ã€Œå¦ä¸€ä¸ªç”¨æˆ·çš„èº«ä»½ã€æ¥æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ã€‚å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š sudo -u ç”¨æˆ·å å‘½ä»¤ ä¸åŠ å‚æ•°ï¼Œåˆ™è¡¨ç¤ºä»¥ root ç”¨æˆ·èº«ä»½æ‰§è¡ŒæŒ‡å®šå‘½ä»¤ã€‚ su å‘½ä»¤ è¯¥å‘½ä»¤ç”¨äºç›´æ¥åˆ‡æ¢ç”¨æˆ·ï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š su ç”¨æˆ·å ä¸åŠ ç”¨æˆ·åå‚æ•°ï¼Œåˆ™è¡¨ç¤ºåˆ‡æ¢åˆ° root ç”¨æˆ·ã€‚ åœ¨è¯»å®Œä¸Šé¢è¿™å¥è¯ä¹‹åï¼Œä½ å¯èƒ½ä¼šå°è¯•åˆ‡æ¢åˆ°Â rootï¼Œä½†æ˜¯å´å¤±è´¥äº†ã€‚è¿™æ˜¯å› ä¸ºï¼Œå¦‚ Ubuntu ç­‰ Linux å‘è¡Œç‰ˆé»˜è®¤ç¦æ­¢äº†Â rootÂ ç”¨æˆ·çš„å¯†ç ç™»å½•ï¼Œåªå…è®¸é€šè¿‡Â sudoÂ æé«˜æƒé™ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨Â sudoÂ è¿è¡ŒÂ suï¼Œæ¥å¾—åˆ°ä¸€ä¸ªä¸ºÂ rootÂ ç”¨æˆ·æƒé™çš„ shellã€‚ $ sudo su Password: ï¼ˆæ²¡é”™ï¼Œæ˜¯æˆ‘è‡ªå·±çš„å¯†ç ï¼‰ # id uid=0(root) gid=0(root) groups=0(root) # exit $ ã€Œsudo suã€ å’Œ ã€Œsudo su -ã€ çš„åŒºåˆ«\rsudo suï¼š è¯¥å‘½ä»¤åˆ‡æ¢å½“å‰ç”¨æˆ·åˆ° root ç”¨æˆ·ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªæ–°çš„ shellã€‚å®ƒä¸ä¼šæ”¹å˜ç¯å¢ƒå˜é‡ï¼Œå½“å‰ç”¨æˆ·çš„ç¯å¢ƒå˜é‡å°†è¢«ä¿ç•™ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœå½“å‰ç”¨æˆ·æ˜¯ user1ï¼Œåˆ™æ‰§è¡Œ sudo su åï¼Œç”¨æˆ·ä¼šåˆ‡æ¢åˆ° root ç”¨æˆ·ï¼Œä½†å½“å‰å·¥ä½œç›®å½•å’Œç¯å¢ƒå˜é‡ç­‰éƒ½ä¿æŒä¸º user1 çš„è®¾ç½®ã€‚ sudo su -ï¼š è¯¥å‘½ä»¤ä¹Ÿç”¨äºåˆ‡æ¢å½“å‰ç”¨æˆ·åˆ° root ç”¨æˆ·ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªæ–°çš„ shellã€‚ä½†æ˜¯ï¼Œå®ƒä¼šæ¨¡æ‹Ÿç™»å½• root ç”¨æˆ·ï¼Œå› æ­¤ä¼šåŠ è½½ root ç”¨æˆ·çš„ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ .bashrcã€.profile ç­‰ï¼‰ï¼Œå¹¶ä¸”å½“å‰å·¥ä½œç›®å½•ä¼šåˆ‡æ¢åˆ° root ç”¨æˆ·çš„å®¶ç›®å½•ã€‚ ä¸ sudo su ä¸åŒï¼Œæ‰§è¡Œ sudo su - åï¼Œç”¨æˆ·åˆ‡æ¢åˆ° root ç”¨æˆ·åä¼šæ‹¥æœ‰ root ç”¨æˆ·çš„å®Œæ•´ç¯å¢ƒï¼ŒåŒ…æ‹¬ PATHã€umask ç­‰è®¾ç½®ã€‚ å› æ­¤ï¼Œå¦‚æœéœ€è¦ä»¥ root ç”¨æˆ·èº«ä»½ç™»å½•åˆ°ç³»ç»Ÿï¼Œå¹¶ä¸”å¸Œæœ›è·å–å®Œæ•´çš„ root ç”¨æˆ·ç¯å¢ƒå’Œé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ sudo su - å‘½ä»¤ã€‚å¦‚æœæ‚¨åªæ˜¯éœ€è¦æ‰§è¡Œä¸€äº› root æƒé™ä¸‹çš„å‘½ä»¤ï¼Œå¹¶ä¸”ä¸éœ€è¦ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ sudo su å‘½ä»¤ã€‚ ç”¨æˆ·ç»„ç®€ä»‹\rç”¨æˆ·ç»„æ˜¯ç”¨æˆ·çš„é›†åˆã€‚é€šè¿‡ç”¨æˆ·ç»„æœºåˆ¶ï¼Œå¯ä»¥ä¸ºä¸€æ‰¹ç”¨æˆ·è®¾ç½®æƒé™ã€‚å¯ä»¥ä½¿ç”¨Â groupsÂ å‘½ä»¤ï¼ŒæŸ¥çœ‹è‡ªå·±æ‰€å±çš„ç”¨æˆ·ç»„ã€‚ âœ æ¡Œé¢ groups zyz adm cdrom sudo dip plugdev lpadmin lxd sambashare å¯ä»¥çœ‹åˆ°ï¼Œç”¨æˆ·Â zyzÂ ä»å±äºå¤šä¸ªç”¨æˆ·ç»„ï¼ŒåŒ…æ‹¬ä¸€ä¸ªä¸å…¶åå­—ç›¸åŒçš„ç”¨æˆ·ç»„ã€‚ä¸€èˆ¬åœ¨ç”¨æˆ·åˆ›å»ºçš„æ—¶å€™ï¼Œéƒ½ä¼šåˆ›å»ºä¸å®ƒåå­—ç›¸åŒçš„ç”¨æˆ·ç»„ã€‚ å¯¹äºæ™®é€šç”¨æˆ·æ¥è¯´ï¼Œç”¨æˆ·ç»„æœºåˆ¶ä¼šåœ¨é…ç½®éƒ¨åˆ†è½¯ä»¶æ—¶ä½¿ç”¨åˆ°ã€‚å¦‚åœ¨ä½¿ç”¨ Docker æ—¶ï¼Œå¯ä»¥æŠŠè‡ªå·±åŠ å…¥Â dockerÂ ç”¨æˆ·ç»„ï¼Œä»è€Œä¸éœ€è¦ä½¿ç”¨Â rootÂ æƒé™ï¼Œä¹Ÿå¯ä»¥è®¿é—®å®ƒçš„æ¥å£ã€‚ å°†æŸä¸ªç”¨æˆ·åŠ å…¥æŸä¸ªç»„çš„å‘½ä»¤ä¸ºï¼šsudo usermod -a -G groupname username åŒæ ·ï¼Œç”¨æˆ·ç»„å’Œç”¨æˆ·ä¸€æ ·ï¼Œä¹Ÿæœ‰ç¼–å·ï¼šGID (Group ID)ã€‚ å‘½ä»¤è¡Œçš„ç”¨æˆ·é…ç½®æ“ä½œ\rpasswdå‘½ä»¤ ä½¿ç”¨å‘½ä»¤ passwd UserName ä¿®æ”¹ UserName ç”¨æˆ·çš„å¯†ç ã€‚å¦‚æœæ²¡æœ‰è¾“å…¥ç”¨æˆ·åï¼Œåˆ™ä¿®æ”¹è‡ªå·±çš„å¯†ç ã€‚ adduserå‘½ä»¤ adduserÂ æ˜¯ Debian åŠå…¶è¡ç”Ÿå‘è¡Œç‰ˆçš„ä¸“å±å‘½ä»¤ï¼Œå®ƒå¯ä»¥ç”¨æ¥å‘ç³»ç»Ÿæ·»åŠ ç”¨æˆ·ã€æ·»åŠ ç»„ï¼Œä»¥åŠå°†ç”¨æˆ·åŠ å…¥ç»„ã€‚ sudo adduser ç”¨æˆ·å ï¼Œå³å¯æ·»åŠ æ–°ç”¨æˆ· sudo adduser --group ç»„å ï¼Œå³å¯æ·»åŠ æ–°ç”¨æˆ·ç»„ sudo adduser ç”¨æˆ·å ç»„å ï¼Œå³å¯å°†æŒ‡å®šç”¨æˆ·æ·»åŠ åˆ°æŒ‡å®šç”¨æˆ·ç»„ ","date":"2024-08-15","objectID":"/posts/3d623e4/:6:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æ–‡ä»¶æƒé™\råœ¨ Linux ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶å’Œç›®å½•éƒ½æœ‰è‡ªå·±çš„æƒé™ã€‚å¯ä»¥ä½¿ç”¨Â ls -lÂ æŸ¥çœ‹å½“å‰ç›®å½•ä¸­æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚ $ ls -l total 8 -rwxrw-r-- 1 ustc ustc 40 Feb 3 22:37 a_file drwxrwxr-x 2 ustc ustc 4096 Feb 3 22:38 a_folder Â·Â·Â·Â·Â·Â· ç¬¬ä¸€åˆ—çš„å­—ç¬¦ä¸²ä»å·¦åˆ°å³æ„ä¹‰åˆ†åˆ«æ˜¯ï¼š æ–‡ä»¶ç±»å‹ï¼ˆä¸€ä½ï¼‰ æ–‡ä»¶æ‰€å±ç”¨æˆ·çš„æƒé™ï¼ˆä¸‰ä½ï¼‰ æ–‡ä»¶æ‰€å±ç”¨æˆ·ç»„çš„æƒé™ï¼ˆä¸‰ä½ï¼‰ å…¶ä»–äººçš„æƒé™ï¼ˆä¸‰ä½ï¼‰ å¯¹äºæ¯ä¸ªæƒé™ï¼Œç¬¬ä¸€ä½Â rÂ ä»£è¡¨è¯»å– (Read)ï¼Œç¬¬äºŒä½Â wÂ ä»£è¡¨å†™å…¥ (Write)ï¼Œç¬¬ä¸‰ä½Â xÂ ä»£è¡¨æ‰§è¡Œ (Execute)ï¼Œ-Â ä»£è¡¨æ²¡æœ‰å¯¹åº”çš„æƒé™ã€‚ ç¬¬ä¸‰ã€å››åˆ—ä¸ºæ–‡ä»¶æ‰€å±ç”¨æˆ·å’Œç”¨æˆ·ç»„ã€‚ ä¾‹å¦‚ï¼Œä¸Šé¢çš„æ–‡ä»¶Â a_fileÂ ä¸ºæ™®é€šæ–‡ä»¶ (-)ï¼Œæ‰€å±ç”¨æˆ·æƒé™ä¸ºÂ rwxï¼Œæ‰€å±ç”¨æˆ·ç»„æƒé™ä¸ºÂ rw-ï¼Œå…¶ä»–äººçš„æƒé™ä¸ºÂ r--ï¼Œæ–‡ä»¶æ‰€å±ç”¨æˆ·å’Œç”¨æˆ·ç»„å‡ä¸ºÂ ustcã€‚ æ–‡ä»¶ç±»å‹å¯¹åº”çš„å­—ç¬¦æœ‰ï¼š æ™®é€šæ–‡ä»¶ï¼š -ï¼Œè¡¨ç¤ºå¸¸è§„æ–‡ä»¶ï¼Œå­˜å‚¨æ–‡æœ¬ã€äºŒè¿›åˆ¶æ•°æ®æˆ–å…¶ä»–å†…å®¹çš„å¸¸è§„æ–‡ä»¶ç±»å‹ã€‚ ç›®å½•ï¼š dï¼Œè¡¨ç¤ºç›®å½•ï¼Œç”¨äºç»„ç»‡æ–‡ä»¶å’Œå…¶ä»–ç›®å½•çš„å®¹å™¨ã€‚ ç¬¦å·é“¾æ¥ï¼š lï¼Œè¡¨ç¤ºç¬¦å·é“¾æ¥ï¼ˆè½¯é“¾æ¥ï¼‰ï¼Œæ˜¯æŒ‡å‘å¦ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„å¼•ç”¨ã€‚ è®¾å¤‡æ–‡ä»¶ï¼š å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼š cï¼Œè¡¨ç¤ºå­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œç”¨äºè¡¨ç¤ºå­—ç¬¦è®¾å¤‡ï¼ˆå¦‚é”®ç›˜ã€é¼ æ ‡ç­‰ï¼‰ã€‚ å—è®¾å¤‡æ–‡ä»¶ï¼š bï¼Œè¡¨ç¤ºå—è®¾å¤‡æ–‡ä»¶ï¼Œç”¨äºè¡¨ç¤ºå—è®¾å¤‡ï¼ˆå¦‚ç¡¬ç›˜ã€é—ªå­˜é©±åŠ¨å™¨ç­‰ï¼‰ã€‚ ç®¡é“ï¼š pï¼Œè¡¨ç¤ºç®¡é“ï¼ˆå‘½åç®¡é“æˆ– FIFOï¼‰ï¼Œç”¨äºåœ¨è¿›ç¨‹ä¹‹é—´è¿›è¡Œé€šä¿¡çš„ç‰¹æ®Šæ–‡ä»¶ç±»å‹ã€‚ å¥—æ¥å­—ï¼š sï¼Œè¡¨ç¤ºå¥—æ¥å­—ï¼Œç”¨äºåœ¨ç½‘ç»œä¸Šè¿›è¡Œè¿›ç¨‹é—´é€šä¿¡çš„ç‰¹æ®Šæ–‡ä»¶ç±»å‹ã€‚ æ‰§è¡Œæƒé™çš„æ„ä¹‰\rè¯»å–å’Œå†™å…¥æƒé™æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ã€‚ä½†æ˜¯æ‰§è¡Œæƒé™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå¯¹äºä¸€ä¸ªæ–‡ä»¶æ¥è¯´ï¼Œæ‹¥æœ‰æ‰§è¡Œæƒé™ï¼Œå®ƒå°±å¯ä»¥è¢«æ“ä½œç³»ç»Ÿä½œä¸ºç¨‹åºä»£ç æ‰§è¡Œã€‚å¦‚æœæŸä¸ªç¨‹åºæ–‡ä»¶æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œä½ ä»ç„¶å¯ä»¥æŸ¥çœ‹è¿™ä¸ªç¨‹åºæ–‡ä»¶æœ¬èº«ï¼Œä¿®æ”¹å®ƒçš„å†…å®¹ï¼Œä½†æ˜¯æ— æ³•æ‰§è¡Œå®ƒã€‚\rè€Œå¯¹äºç›®å½•æ¥è¯´ï¼Œæ‹¥æœ‰æ‰§è¡Œæƒé™ï¼Œä½ å°±å¯ä»¥è®¿é—®è¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶çš„å†…å®¹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š $ ls -l total 8 -rwxrw-r-- 1 ustc ustc 40 Feb 3 22:37 a_file drw-rw-r-- 2 ustc ustc 4096 Feb 3 22:38 a_folder $ ï¼ˆä¸ä¸Šé¢ä¸åŒï¼Œæˆ‘ä»¬å»æ‰äº† a_folder çš„æ‰§è¡Œæƒé™ï¼‰ $ cd a_folder -bash: cd: a_folder/: Permission denied $ ï¼ˆå¤±è´¥äº†ï¼Œè¿™è¯´æ˜ï¼Œå¦‚æœæ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œæˆ‘ä»¬æ— æ³•è¿›å…¥è¿™ä¸ªç›®å½•ï¼‰ $ ls a_folder ls: cannot access 'a_folder/test': Permission denied test $ ï¼ˆåˆ—å‡ºäº†è¿™ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•è®¿é—®åˆ°é‡Œé¢çš„æ–‡ä»¶ testï¼‰ $ cat a_folder/test cat: a_folder/test: Permission denied $ cp a_folder/test test cp: cannot stat 'a_folder/test': Permission denied $ mv a_folder/test a_folder/test2 mv: failed to access 'a_folder/test2': Permission denied $ touch a_folder/test2 touch: cannot touch 'a_folder/test2': Permission denied $ rm a_folder/test rm: cannot remove 'a_folder/test': Permission denied $ ï¼ˆå¯ä»¥çœ‹åˆ°ï¼Œå³ä½¿æˆ‘ä»¬æœ‰å†™å…¥æƒé™ï¼Œåœ¨æ­¤ç›®å½•ä¸­è¿›è¡Œæ·»åŠ ã€åˆ é™¤ã€é‡å‘½åçš„æ“ä½œä»ç„¶æ˜¯ä¸è¡Œçš„ï¼‰ ä¸ºäº†æ›´å¥½åœ°ç†è§£ç›®å½•æƒé™çš„å«ä¹‰ï¼Œå¯ä»¥æŠŠç›®å½•è§†ä¸ºä¸€ä¸ªã€Œæ–‡ä»¶ã€æ¥çœ‹å¾…ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«äº†ç›®å½•ä¸­ä¸‹ä¸€å±‚çš„æ–‡ä»¶åˆ—è¡¨â€”â€” ã€Œè¯»å–ã€ å¯¹åº”è¯»å–æ–‡ä»¶åˆ—è¡¨çš„æƒé™ï¼Œã€Œå†™å…¥ã€ å¯¹åº”ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨ï¼ˆæ·»åŠ ã€åˆ é™¤ã€é‡å‘½åæ–‡ä»¶ï¼‰çš„æƒé™ï¼Œã€Œæ‰§è¡Œã€ å¯¹åº”å®é™…å»è®¿é—®åˆ—è¡¨ä¸­æ–‡ä»¶ã€ä»¥åŠä½¿ç”¨Â cdÂ åˆ‡æ¢å½“å‰ç›®å½•åˆ°æ­¤ç›®å½•çš„æƒé™ã€‚å½“æ²¡æœ‰æ‰§è¡Œæƒæ— æ³•è®¿é—®æ–‡ä»¶æ—¶ï¼Œå°±æ— æ³•ä¿®æ”¹æ–‡ä»¶ã€‚ ä½¿ç”¨ chmod å‘½ä»¤å¯ä¿®æ”¹æ–‡ä»¶/ç›®å½•æƒé™ã€‚å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š chmod [who] [operator] [permissions] FileName whoï¼šæŒ‡å®šæƒé™å˜æ›´å¯¹è±¡ã€‚å¯ä»¥æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š uï¼šæ–‡ä»¶æ‹¥æœ‰è€…ï¼ˆuserï¼‰ gï¼šæ–‡ä»¶æ‰€å±ç»„ï¼ˆgroupï¼‰ oï¼šå…¶ä»–ç”¨æˆ·ï¼ˆothersï¼‰ aï¼šæ‰€æœ‰ç”¨æˆ·ï¼ˆallï¼Œä¹Ÿæ˜¯é»˜è®¤å‚æ•°ï¼‰ operatorï¼šæŒ‡å®šæƒé™å˜æ›´æ“ä½œã€‚å¯ä»¥æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š +ï¼šæ·»åŠ æƒé™ -ï¼šç§»é™¤æƒé™ =ï¼šè®¾ç½®æƒé™ permissionsï¼šæŒ‡å®šè¦æ·»åŠ ã€ç§»é™¤æˆ–è®¾ç½®çš„æƒé™ã€‚å¯ä»¥æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼š rï¼šè¯»æƒé™ wï¼šå†™æƒé™ xï¼šæ‰§è¡Œæƒé™ fileNameï¼šæŒ‡å®šè¦æ›´æ”¹æƒé™çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ å½“æˆ‘ä»¬æ‰§è¡ŒæŸä¸ªæ–‡ä»¶æ—¶ï¼Œå‡ºç°æç¤º Permission denied ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¯´æ˜è¿™ä¸ªæ–‡ä»¶æ²¡æœ‰æ‰§è¡Œæƒï¼Œå¯ä»¥ä½¿ç”¨ chmod åŠ ä¸Šã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:6:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„\rLinux ä¸‹æ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„å’Œ Windows çš„å¾ˆä¸ä¸€æ ·ã€‚åœ¨ Windows ä¸­ï¼Œåˆ†åŒºä»¥ç›˜ç¬¦çš„å½¢å¼æ¥æ ‡è¯†ï¼ˆå¦‚ã€ŒC ç›˜ã€ã€ã€ŒD ç›˜ã€ï¼‰ï¼Œå„ä¸ªåˆ†åŒºçš„åˆ†ç•Œçº¿æ˜¯å¾ˆæ˜ç¡®çš„ã€‚åœ¨ç³»ç»Ÿæ‰€åœ¨çš„åˆ†åŒºï¼ˆä¸€èˆ¬ä¸º C ç›˜ï¼‰ä¸­ï¼Œå­˜å‚¨ç€ç¨‹åºæ–‡ä»¶ (Program Files)ï¼Œç³»ç»Ÿè¿è¡Œéœ€è¦çš„æ–‡ä»¶ (Windows)ï¼Œç”¨æˆ·æ–‡ä»¶ (Users) ç­‰ã€‚è¿™ç§ç»„ç»‡å½¢å¼æºäº DOS å’Œæ—©æœŸçš„ Windowsï¼Œå¹¶ä¸€ç›´ä¼ æ‰¿ä¸‹æ¥ã€‚ è€Œ UNIX ç³»åˆ—é‡‡ç”¨äº†ä¸€ç§ä¸ä¸€æ ·çš„æ€è·¯ç»„ç»‡æ–‡ä»¶ï¼šæ•´ä¸ªç³»ç»Ÿçš„æ–‡ä»¶éƒ½ä»Â /ï¼ˆæ ¹ç›®å½•ï¼‰å¼€å§‹ï¼Œåƒä¸€æ£µæ ‘ä¸€æ ·ï¼Œç±»ä¼¼äºä¸‹å›¾ã€‚ å…¶ä»–çš„åˆ†åŒºä»¥æŒ‚è½½ (mount) çš„å½¢å¼ã€ŒæŒ‚ã€åœ¨äº†è¿™æ£µæ ‘ä¸Šï¼Œå¦‚å›¾ä¸­çš„Â /mnt/windows_disk/ã€‚ é‚£ä¹ˆåœ¨æ ¹ç›®å½•ä¸‹çš„è¿™äº›ç›®å½•å„è‡ªæœ‰ä»€ä¹ˆå«ä¹‰å‘¢ï¼Ÿè¿™å°±ç”±æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„æ ‡å‡† (FHS, Filesystem Hierarchy Standard) æ¥å®šä¹‰äº†ã€‚è¿™ä¸ªæ ‡å‡†å®šä¹‰äº† Linux å‘è¡Œç‰ˆçš„æ ‡å‡†ç›®å½•ç»“æ„ã€‚å¤§éƒ¨åˆ†çš„ Linux å‘è¡Œç‰ˆéµå¾ªæ­¤æ ‡å‡†ï¼Œæˆ–ç”±æ­¤æ ‡å‡†åšäº†ç»†å°çš„è°ƒæ•´ã€‚ä»¥ä¸‹è¿›è¡Œä¸€ä¸ªç®€è¦çš„ä»‹ç»ï¼Œä¹Ÿå¯ä»¥åœ¨å®˜ç½‘æŸ¥çœ‹æ ‡å‡†çš„å…·ä½“å†…å®¹ã€‚ å½“ç„¶ï¼Œå®é™…æƒ…å†µä¸ä¸€å®šä¼šå’Œä»¥ä¸‹ä»‹ç»çš„å†…å®¹å®Œå…¨ä¸€è‡´ã€‚å¯ä»¥ä½¿ç”¨Â man hierÂ å’ŒÂ man file-hierarchyÂ æŸ¥çœ‹ä½ çš„ç³»ç»Ÿä¸­å…³äºæ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„çš„æ–‡æ¡£ã€‚ æ–‡æ¡£ã€‚ ç›®å½• åŠŸèƒ½ /bin å­˜å‚¨å¿…é¡»çš„ç¨‹åºæ–‡ä»¶ï¼Œå¯¹æ‰€æœ‰ç”¨æˆ·éƒ½å¯ç”¨ /boot å­˜å‚¨åœ¨å¯åŠ¨ç³»ç»Ÿæ—¶éœ€è¦çš„æ–‡ä»¶ /dev å­˜å‚¨è®¾å¤‡æ–‡ä»¶ï¼ˆè®¾å¤‡æ–‡ä»¶å°±æ˜¯è®¡ç®—æœºè®¾å¤‡æŠ½è±¡æˆæ–‡ä»¶çš„å½¢å¼ï¼‰ /etc å­˜å‚¨ç³»ç»Ÿå’Œç¨‹åºçš„é…ç½®æ–‡ä»¶ /home ç”¨æˆ·çš„å®¶ç›®å½•ã€‚å­˜å‚¨ç”¨æˆ·è‡ªå·±çš„ä¿¡æ¯ã€‚ /lib å­˜æ”¾ç³»ç»Ÿè¿è¡Œå¿…é¡»çš„ç¨‹åºåº“æ–‡ä»¶ /mediaÂ å’ŒÂ /mnt è¿™ä¸¤ä¸ªç›®å½•éƒ½ç”¨äºæŒ‚è½½å…¶ä»–çš„æ–‡ä»¶ç³»ç»Ÿã€‚/mediaÂ ç”¨äºå¯ç§»é™¤çš„æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚å…‰ç›˜ï¼‰ï¼Œè€ŒÂ /mntÂ ç”¨äºä¸´æ—¶ä½¿ç”¨ /opt å­˜æ”¾é¢å¤–çš„ç¨‹åºåŒ…ã€‚ä¸€èˆ¬å°†ä¸€äº›å¤§å‹çš„ã€å•†ä¸šçš„åº”ç”¨ç¨‹åºæ”¾ç½®åœ¨è¿™ä¸ªç›®å½• /root rootÂ ç”¨æˆ·çš„å®¶ç›®å½• /run ç³»ç»Ÿè¿è¡Œæ—¶çš„æ•°æ®ã€‚åœ¨æ¯æ¬¡å¯åŠ¨æ—¶ï¼Œé‡Œé¢çš„æ•°æ®éƒ½ä¼šè¢«åˆ é™¤ /sbin å­˜å‚¨ç”¨äºç³»ç»Ÿç®¡ç†ï¼Œä»¥åŠä»…å…è®¸Â rootÂ ç”¨æˆ·ä½¿ç”¨çš„ç¨‹åºã€‚å¦‚Â fsckï¼ˆæ–‡ä»¶ç³»ç»Ÿä¿®å¤ç¨‹åºï¼‰ã€rebootï¼ˆé‡å¯ç³»ç»Ÿï¼‰ç­‰ /srv å­˜å‚¨ç½‘ç»œæœåŠ¡çš„æ•°æ® /tmp ä¸´æ—¶ç›®å½•ï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½å¯ä½¿ç”¨ /usr å¤§å¤šæ•°è½¯ä»¶éƒ½ä¼šå®‰è£…åœ¨æ­¤å¤„ã€‚å…¶ä¸‹æœ‰ä¸€äº›ç›®å½•ä¸Â /Â ä¸‹çš„ç»“æ„ç›¸ä¼¼ï¼Œå¦‚ï¼š/usr/bin ã€/usr/lib ç­‰ /usr/include å­˜å‚¨ç³»ç»Ÿé€šç”¨çš„ C å¤´æ–‡ä»¶ã€‚å½“ç„¶ï¼Œé‡Œé¢ä¼šæœ‰ä½ éå¸¸ç†Ÿæ‚‰çš„å¤´æ–‡ä»¶ï¼Œå¦‚Â stdio.h /usr/local å­˜å‚¨ç³»ç»Ÿç®¡ç†å‘˜è‡ªå·±å®‰è£…çš„ç¨‹åºï¼Œè¿™äº›æ–‡ä»¶ä¸å—ç³»ç»Ÿçš„è½¯ä»¶ç®¡ç†æœºåˆ¶ï¼ˆå¦‚Â aptï¼‰æ§åˆ¶ã€‚/usr/localÂ é‡Œé¢çš„å±‚æ¬¡ç»“æ„å’ŒÂ /usrÂ ç›¸ä¼¼ /usr/share å­˜å‚¨ç¨‹åºçš„æ•°æ®æ–‡ä»¶ï¼ˆå¦‚Â manÂ æ–‡æ¡£ã€GUI ç¨‹åºä½¿ç”¨çš„å›¾ç‰‡ç­‰ï¼‰ /var å­˜å‚¨ä¼šå‘ç”Ÿå˜åŒ–çš„ç¨‹åºç›¸å…³æ–‡ä»¶ ","date":"2024-08-15","objectID":"/posts/3d623e4/:6:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç½‘ç»œã€æ–‡æœ¬å¤„ç†å·¥å…·\r","date":"2024-08-15","objectID":"/posts/3d623e4/:7:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"I/Oé‡å®šå‘ä¸ç®¡é“\ré‡å®šå‘\rä¸€èˆ¬æƒ…å†µä¸‹å‘½ä»¤ä»æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰è¯»å–è¾“å…¥ï¼Œå¹¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸¤è€…éƒ½æ˜¯ä½ çš„ç»ˆç«¯ã€‚ä½¿ç”¨é‡å®šå‘å¯ä»¥è®©å‘½ä»¤ä»æ–‡ä»¶è¯»å–è¾“å…¥/è¾“å‡ºåˆ°æ–‡ä»¶ã€‚ é‡å®šå‘è¾“å‡ºä½¿ç”¨ \u003e æˆ– \u003e\u003e ç¬¦å·ï¼Œä¸‹é¢æ˜¯ä»¥Â echoÂ ä¸ºä¾‹çš„é‡å®šå‘è¾“å‡ºï¼š $ echo \"Hello Linux!\" \u003e output_file # å°†è¾“å‡ºå†™å…¥åˆ°æ–‡ä»¶ï¼ˆè¦†ç›–åŸæœ‰å†…å®¹ï¼‰ $ cat output_file Hello Linux! $ echo \"rewrite it\" \u003e output_file $ cat output_file # å¯ä»¥çœ‹åˆ°åŸæ¥çš„ Hello Linux! è¢«è¦†ç›–äº†ã€‚ rewrite it $ echo \"append it\" \u003e\u003e output_file # å°†è¾“å‡ºè¿½åŠ åˆ°æ–‡ä»¶ï¼ˆä¸ä¼šè¦†ç›–åŸæœ‰å†…å®¹ï¼‰ $ cat output_file rewrite it append it æ— è®ºæ˜¯Â \u003eÂ è¿˜æ˜¯Â \u003e\u003eï¼Œå½“è¾“å‡ºæ–‡ä»¶ä¸å­˜åœ¨æ—¶éƒ½ä¼šåˆ›å»ºè¯¥æ–‡ä»¶ã€‚ é‡å®šå‘è¾“å…¥ä½¿ç”¨ç¬¦å·Â \u003cï¼š command \u003c inputfile command \u003c inputfile \u003e outputfile é™¤äº† stdin å’Œ stdout è¿˜æœ‰æ ‡å‡†é”™è¯¯ï¼ˆstderrï¼‰ï¼Œä»–ä»¬çš„ç¼–å·åˆ†åˆ«æ˜¯ 0ã€1ã€2ï¼ˆè¿™äº›æ•°å­—éƒ½æ˜¯æ–‡ä»¶æè¿°ç¬¦ï¼‰ã€‚stderr å¯ä»¥ç”¨Â 2\u003eÂ é‡å®šå‘ï¼ˆæ³¨æ„æ•°å­— 2 å’Œ \u003e ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼‰ã€‚ ä½¿ç”¨Â 2\u003e\u00261Â å¯ä»¥å°† stderr åˆå¹¶åˆ° stdoutã€‚ \u0026 ç¬¦å·ç”¨äºè¡¨ç¤ºåé¢è·Ÿçš„æ˜¯ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå¦‚æœä¸ä½¿ç”¨ \u0026 ç¬¦å·åˆ™è¡¨ç¤º 1 æ˜¯ä¸€ä¸ªæ–‡ä»¶å ç®¡é“\rç®¡é“ï¼ˆpipeï¼‰ï¼Œä½¿ç”¨æ“ä½œç¬¦Â |ï¼Œä½œç”¨ä¸ºå°†ç¬¦å·å·¦è¾¹çš„å‘½ä»¤çš„ stdout ä½œä¸ºç¬¦å·å³è¾¹çš„å‘½ä»¤çš„ stdinã€‚ç®¡é“ä¸ä¼šå¤„ç† stderrã€‚ ç®¡é“æ˜¯ç±» UNIX æ“ä½œç³»ç»Ÿä¸­éå¸¸å¼ºå¤§çš„å·¥å…·ã€‚é€šè¿‡ç®¡é“ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ç°å„ç±»å°åŠŸèƒ½çš„ç¨‹åºæ‹¼æ¥èµ·æ¥å¹²å¤§äº‹ã€‚ $ ls / | grep bin # ç­›é€‰ ls / è¾“å‡ºä¸­æ‰€æœ‰åŒ…å« bin å­—ç¬¦ä¸²çš„è¡Œ bin sbin ","date":"2024-08-15","objectID":"/posts/3d623e4/:7:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"ç½‘ç»œä¸‹è½½\råœ¨ Windows ä¸‹ï¼Œå¾ˆå¤šäººä¸‹è½½æ–‡ä»¶æ—¶ä¼šä½¿ç”¨ã€Œè¿…é›·ã€ã€ã€ŒIDMã€ä¹‹ç±»çš„è½¯ä»¶æ¥å®ç°ä¸‹è½½ã€‚é‚£ä¹ˆåœ¨ Linux ç¯å¢ƒä¸‹å‘¢ï¼Ÿåœ¨ç»ˆç«¯ä¸‹ï¼Œæ²¡æœ‰å¯è§†åŒ–è½¯ä»¶æä¾›ç‚¹å‡»ä¸‹è½½ã€‚å³ä½¿æœ‰æ¡Œé¢ç¯å¢ƒï¼Œæœ‰ Firefox å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸‹è½½æ–‡ä»¶ï¼Œç¡¬ä»¶èµ„æºä¹Ÿä¼šè¢«å¾ˆå¤šä¸å¿…è¦çš„æœåŠ¡æµªè´¹ã€‚é€šè¿‡ä»¥ä¸‹å†…å®¹è®²è¿°çš„ wgetå’Œ curl å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ Linux ä¸Šè¿›è¡Œè½»é‡çš„ä¸‹è½½æ´»åŠ¨ã€‚ ä½¿ç”¨ wget\rwgetÂ æ˜¯å¼ºåŠ›æ–¹ä¾¿çš„ä¸‹è½½å·¥å…·ï¼Œå¯ä»¥é€šè¿‡ HTTP å’Œ FTP åè®®ä»å› ç‰¹ç½‘ä¸­æ£€ç´¢å¹¶è·å–æ–‡ä»¶ã€‚ å‘½ä»¤ä¸ºï¼šwget [opt1]... [url1]... å¸¸ç”¨çš„é€‰é¡¹ï¼š é€‰é¡¹ å«ä¹‰ -i,Â â€“input-file=æ–‡ä»¶ ä¸‹è½½æœ¬åœ°æˆ–å¤–éƒ¨æ–‡ä»¶ä¸­çš„ URL -O,Â â€“output-document=æ–‡ä»¶ å°†è¾“å‡ºå†™å…¥æ–‡ä»¶ -b,Â â€“background åœ¨åå°è¿è¡Œ wget -d,Â â€“debug è°ƒè¯•æ¨¡å¼ï¼Œæ‰“å°å‡º wget è¿è¡Œæ—¶çš„è°ƒè¯•ä¿¡æ¯ ä¾‹å¦‚æ‰¹é‡ä¸‹è½½ filelist.txt ä¸­çš„é“¾æ¥ï¼šwget -i filelist.txt ä½¿ç”¨ curl\rcurl æ˜¯ä¸€ä¸ªåˆ©ç”¨ URL è¯­æ³•åœ¨å‘½ä»¤è¡Œä¸‹å·¥ä½œçš„æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå…¶ä¸­ c æ„ä¸º clientã€‚è™½ç„¶ cURL å’Œ Wget åŸºç¡€åŠŸèƒ½æœ‰è¯¸å¤šé‡å ï¼Œå¦‚ä¸‹è½½ã€‚ä½† cURL ç”±äºå¯è‡ªå®šä¹‰å„ç§è¯·æ±‚å‚æ•°ï¼Œæ‰€ä»¥åœ¨æ¨¡æ‹Ÿ web è¯·æ±‚æ–¹é¢æ›´æ“…é•¿ï¼›wget ç”±äºæ”¯æŒ FTP åè®®å’Œé€’å½’éå†ï¼Œæ‰€ä»¥åœ¨ä¸‹è½½æ–‡ä»¶æ–¹é¢æ›´æ“…é•¿ã€‚ curl çš„ä½¿ç”¨ä¸ wget ç›¸ä¼¼ï¼Œä½¿ç”¨ curl -h å¯è¯¦ç»†äº†è§£å…¶ç”¨æ³• å¸¸ç”¨çš„é€‰é¡¹ï¼š é€‰é¡¹ å«ä¹‰ -o æŠŠè¿œç¨‹ä¸‹è½½çš„æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œéœ€è¦æŒ‡å®šæ–‡ä»¶å -O æŠŠè¿œç¨‹ä¸‹è½½çš„æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œç›´æ¥ä½¿ç”¨ URL ä¸­é»˜è®¤çš„æ–‡ä»¶å -I åªå±•ç¤ºå“åº”å¤´å†…å®¹ ","date":"2024-08-15","objectID":"/posts/3d623e4/:7:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æ–‡æœ¬å¤„ç†\råœ¨è¿›è¡Œæ–‡æœ¬å¤„ç†æ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›å¸¸è§çš„éœ€æ±‚ï¼š è·å–æ–‡æœ¬çš„è¡Œæ•°ã€å­—æ•° æ¯”è¾ƒä¸¤æ®µæ–‡æœ¬çš„ä¸åŒä¹‹å¤„ æŸ¥çœ‹æ–‡æœ¬çš„å¼€å¤´å‡ è¡Œå’Œæœ€åå‡ è¡Œ åœ¨æ–‡æœ¬ä¸­æŸ¥æ‰¾å­—ç¬¦ä¸² åœ¨æ–‡æœ¬ä¸­æ›¿æ¢å­—ç¬¦ä¸² ä¸‹é¢ä»‹ç»å¦‚ä½•åœ¨ shell ä¸­åšåˆ°è¿™äº›äº‹æƒ…ã€‚ æ–‡æœ¬ç»Ÿè®¡\rwcÂ æ˜¯æ–‡æœ¬ç»Ÿè®¡çš„å¸¸ç”¨å·¥å…·ï¼Œå®ƒå¯ä»¥è¾“å‡ºæ–‡æœ¬çš„è¡Œæ•°ã€å•è¯æ•°ä¸å­—ç¬¦ï¼ˆå­—èŠ‚ï¼‰æ•°ã€‚ $ wc file 427 2768 20131 file PSï¼š wc æ— æ³•å‡†ç¡®ç»Ÿè®¡ä¸­æ–‡æ–‡æœ¬ æ–‡æœ¬æ¯”è¾ƒ\rdiff å·¥å…·ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒï¼Œå¹¶åˆ—å‡ºå·®å¼‚ã€‚ diff file1.txt file2.txt #æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶ diff -r dir1 dir2 #æ¯”è¾ƒä¸¤ä¸ªç›®å½• diff -w file1.txt file2.txt #å¿½ç•¥ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ï¼‰å¼•èµ·çš„å·®å¼‚ diff -u file1.txt file2.txt #æ˜¾ç¤ºå·®å¼‚å¤„çš„ä¸‰ä¸ªä¸Šä¸‹æ–‡è¡Œï¼Œåœ¨ä¸­é—´æ˜¾ç¤ºå·®å¼‚è¡Œ diff -i file1.txt file2.txt #å¿½ç•¥å¤§å°å†™ æ–‡æœ¬å¼€å¤´ä¸ç»“å°¾\rhead å’Œ tail åˆ†åˆ«ç”¨æ¥æ˜¾ç¤ºå¼€å¤´å’Œç»“å°¾æŒ‡å®šæ•°é‡çš„æ–‡å­—ã€‚ ä»¥ head ä¸ºä¾‹ï¼Œè¿™é‡Œç»™å‡ºå…±åŒçš„ç”¨æ³•ï¼š ä¸åŠ å‚æ•°çš„æ—¶å€™é»˜è®¤æ˜¾ç¤ºå‰ 10 è¡Œ -n \u003cNUM\u003eÂ æŒ‡å®šè¡Œæ•°ï¼Œå¯ç®€åŒ–ä¸ºÂ \u003cNUM\u003e -c \u003cNUM\u003eÂ æŒ‡å®šå­—èŠ‚æ•° head file # æ˜¾ç¤º file å‰ 10 è¡Œ head -n 25 file # æ˜¾ç¤º file å‰ 25 è¡Œ head -25 file # æ˜¾ç¤º file å‰ 25 è¡Œ head -c 20 file # æ˜¾ç¤º file å‰ 20 ä¸ªå­—ç¬¦ tail -10 file # æ˜¾ç¤º file æœ€å 10 è¡Œ é™¤æ­¤ä»¥å¤–ï¼Œtail è¿˜æœ‰ä¸€ä¸ªéå¸¸å®ç”¨çš„å‚æ•°Â -fï¼šå½“æ–‡ä»¶æœ«å°¾å†…å®¹å¢é•¿æ—¶ï¼ŒæŒç»­è¾“å‡ºæœ«å°¾å¢åŠ çš„å†…å®¹ã€‚è¿™ä¸ªå‚æ•°å¸¸ç”¨äºã€ŒåŠ¨æ€æ˜¾ç¤ºã€ log æ–‡ä»¶çš„æ›´æ–°ï¼ˆè¯•ä¸€è¯•tail -f /var/log/syslogï¼‰ã€‚ æ–‡æœ¬æŸ¥æ‰¾\rgrepÂ å‘½ä»¤å¯ä»¥æŸ¥æ‰¾æ–‡æœ¬ä¸­çš„å­—ç¬¦ä¸²ï¼š grep 'hello' file # æŸ¥æ‰¾æ–‡ä»¶ file ä¸­åŒ…å« hello çš„è¡Œ ls | grep 'file' # æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ–‡ä»¶ååŒ…å« file çš„æ–‡ä»¶ grep -i 'Systemd' file # æŸ¥æ‰¾æ–‡ä»¶ file ä¸­åŒ…å« Systemd çš„è¡Œï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ grep -R 'hello' . # é€’å½’æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹å†…å®¹åŒ…å« hello çš„æ–‡ä»¶ æ³¨ï¼š grepäº‹å®ä¸Šæ˜¯éå¸¸å¼ºå¤§çš„æŸ¥æ‰¾å·¥å…·ï¼Œå°†åœ¨ä»‹ç»æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•ä¹‹åè¿›ä¸€æ­¥ä»‹ç» grepã€‚ æ–‡æœ¬æ›¿æ¢\rsedÂ å‘½ä»¤å¯ä»¥æ›¿æ¢æ–‡æœ¬ä¸­çš„å­—ç¬¦ä¸²ï¼šsed [opt]... 'command' file å¸¸ç”¨å‚æ•°ï¼š -e \u003ccommand\u003eï¼šæŒ‡å®šå¤šä¸ªç¼–è¾‘å‘½ä»¤ã€‚ -nï¼šç¦æ­¢é»˜è®¤è¾“å‡ºï¼Œåªè¾“å‡ºç»è¿‡ç¼–è¾‘çš„è¡Œã€‚ -iï¼šç›´æ¥ç¼–è¾‘æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°†ç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚ -rï¼šä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ï¼ˆéœ€è¦ E é€‰é¡¹ï¼‰ã€‚ -Eï¼šä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ã€‚ å¸¸ç”¨å‘½ä»¤ï¼š s/regexp/replacement/ï¼šæ›¿æ¢åŒ¹é…åˆ°çš„æ–‡æœ¬ã€‚ dï¼šåˆ é™¤åŒ¹é…åˆ°çš„è¡Œã€‚ pï¼šæ‰“å°åŒ¹é…åˆ°çš„è¡Œã€‚ i\\ï¼šåœ¨æŒ‡å®šè¡Œä¹‹å‰æ’å…¥æ–‡æœ¬ã€‚ a\\ï¼šåœ¨æŒ‡å®šè¡Œä¹‹åè¿½åŠ æ–‡æœ¬ã€‚ ç¤ºä¾‹ï¼š æ›¿æ¢æ–‡ä»¶ä¸­çš„æ–‡æœ¬ï¼š sed 's/old_text/new_text/' file.txt åˆ é™¤æ–‡ä»¶ä¸­åŒ¹é…åˆ°çš„è¡Œï¼š sed '/pattern/d' file.txt æ’å…¥æ–‡æœ¬åˆ°æŒ‡å®šè¡Œä¹‹å‰ï¼š sed '/pattern/i\\inserted_text' file.txt ä½¿ç”¨å¤šä¸ªç¼–è¾‘å‘½ä»¤ï¼š sed -e 's/old_text/new_text/' -e '/pattern/d' file.txt ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…å’Œæ›¿æ¢ï¼š sed -E 's/regexp/replacement/' file.txt æ³¨ï¼šsed äº‹å®ä¸Šä¹Ÿæ˜¯éå¸¸å¼ºå¤§çš„æŸ¥æ‰¾å·¥å…·ï¼Œå°†åœ¨åé¢è¿›ä¸€æ­¥ä»‹ç» ","date":"2024-08-15","objectID":"/posts/3d623e4/:7:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"Shellé«˜çº§æ–‡æœ¬å¤„ç†ä¸æ­£åˆ™è¡¨è¾¾å¼\r","date":"2024-08-15","objectID":"/posts/3d623e4/:8:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"å…¶ä»–shellæ–‡æœ¬å¤„ç†å·¥å…·\rsort\rsort ç”¨äºæ–‡æœ¬çš„è¡Œæ’åºã€‚é»˜è®¤æ’åºæ–¹å¼æ˜¯å‡åºï¼ŒæŒ‰æ¯è¡Œçš„å­—å…¸åºæ’åºã€‚ ä¸€äº›åŸºæœ¬ç”¨æ³•ï¼š rÂ é™åºï¼ˆä»å¤§åˆ°å°ï¼‰æ’åº uÂ å»é™¤é‡å¤è¡Œ o [file]Â æŒ‡å®šè¾“å‡ºæ–‡ä»¶ nÂ ç”¨äºæ•°å€¼æ’åºï¼Œå¦åˆ™â€œ15â€ä¼šæ’åœ¨â€œ2â€å‰ $ echo -e \"snake\\nfox\\nfish\\ncat\\nfish\\ndog\" \u003e animals $ sort animals cat dog fish fish fox snake $ sort -r animals snake fox fish fish dog cat $ sort -u animals cat dog fish fox snake $ sort -u animals -o animals $ cat animals cat dog fish fox snake $ echo -e \"1\\n2\\n15\\n3\\n4\" \u003e numbers #-eå‚æ•°æ˜¯å…è®¸è§£é‡Šè½¬ä¹‰å­—ç¬¦ $ sort numbers 1 15 2 3 4 $ sort -n numbers 1 2 3 4 15 uniq\runiq ä¹Ÿå¯ä»¥ç”¨æ¥æ’é™¤é‡å¤çš„è¡Œï¼Œä½†æ˜¯ä»…å¯¹è¿ç»­çš„é‡å¤è¡Œç”Ÿæ•ˆã€‚ é€šå¸¸ä¼šå’Œ sort ä¸€èµ·ä½¿ç”¨ï¼š sort animals | uniq åªæ˜¯å»é‡æ’åºæ˜æ˜å¯ä»¥ç”¨Â sort -uÂ ï¼Œuniq å·¥å…·æ˜¯å¦å¤šä½™äº†å‘¢ï¼Ÿå®é™…ä¸Š uniq è¿˜æœ‰å…¶ä»–ç”¨é€”ã€‚ uniq -dÂ å¯ä»¥ç”¨äºä»…è¾“å‡ºé‡å¤è¡Œï¼š sort animals | uniq -d uniq -cÂ å¯ä»¥ç”¨äºç»Ÿè®¡å„è¡Œé‡å¤æ¬¡æ•°ï¼š sort animals | uniq -c ","date":"2024-08-15","objectID":"/posts/3d623e4/:8:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"æ­£åˆ™è¡¨è¾¾å¼\ræ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionï¼‰æè¿°äº†ä¸€ç§å­—ç¬¦ä¸²åŒ¹é…çš„æ¨¡å¼ï¼Œå¯ä»¥ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªä¸²æ˜¯å¦å«æœ‰æŸç§å­ä¸²ã€å°†åŒ¹é…çš„å­ä¸²åšæ›¿æ¢æˆ–è€…ä»æŸä¸ªä¸²ä¸­å–å‡ºç¬¦åˆæŸä¸ªæ¡ä»¶çš„å­ä¸²ç­‰ã€‚ ç‰¹æ®Šå­—ç¬¦\rç‰¹æ®Šå­—ç¬¦ æè¿° [] æ–¹æ‹¬å·è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºåŒ¹é…çš„å­—ç¬¦é›†åˆï¼Œä¾‹å¦‚Â [0-9]ã€[abcde] () æ ‡è®°å­è¡¨è¾¾å¼èµ·æ­¢ä½ç½® * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æˆ–å¤šæ¬¡ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æˆ–å¤šæ¬¡ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æˆ–ä¸€æ¬¡ \\ è½¬ä¹‰å­—ç¬¦ï¼Œé™¤äº†å¸¸ç”¨è½¬ä¹‰å¤–ï¼Œè¿˜æœ‰ï¼š\\bÂ åŒ¹é…å•è¯è¾¹ç•Œï¼›\\BÂ åŒ¹é…éå•è¯è¾¹ç•Œç­‰ . åŒ¹é…é™¤Â \\nï¼ˆæ¢è¡Œï¼‰å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦ {} æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„èµ·æ­¢ã€‚ä¾‹å¦‚Â {n}Â è¡¨ç¤ºåŒ¹é…å‰ä¸€å­è¡¨è¾¾å¼ n æ¬¡ï¼›{n,}Â åŒ¹é…è‡³å°‘ n æ¬¡ï¼›{n,m}Â åŒ¹é… n è‡³ m æ¬¡ | è¡¨æ˜å‰åä¸¤é¡¹äºŒé€‰ä¸€ $ åŒ¹é…å­—ç¬¦ä¸²çš„ç»“å°¾ ^ åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œåœ¨æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­è¡¨ç¤ºä¸æ¥å—è¯¥æ–¹æ‹¬å·è¡¨è¾¾å¼ä¸­çš„å­—ç¬¦é›†åˆ ä»¥ä¸Šç‰¹æ®Šå­—ç¬¦ï¼Œè‹¥æ˜¯æƒ³è¦åŒ¹é…ç‰¹æ®Šå­—ç¬¦æœ¬èº«ï¼Œéœ€è¦åœ¨ä¹‹å‰åŠ ä¸Šè½¬ä¹‰å­—ç¬¦Â \\ã€‚ ç®€å•ç¤ºä¾‹\råŒ¹é…æ­£æ•´æ•°ï¼š [1-9][0-9]* åŒ¹é…ä»…ç”± 26 ä¸ªè‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼š ^[A-Za-z]+$ åŒ¹é… Chapter 1-99 æˆ– Section 1-99ï¼š ^(Chapter|Section) [1-9][0-9]{0,1}$ åŒ¹é…â€œterâ€ç»“å°¾çš„å•è¯ï¼š ter\\b ","date":"2024-08-15","objectID":"/posts/3d623e4/:8:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"å¸¸ç”¨ Shell æ–‡æœ¬å¤„ç†å·¥å…·ï¼ˆæ­£åˆ™ï¼‰\rgrep\rgrep å…¨ç§° Global Regular Expression Printï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ä¸­æœç´¢æŒ‡å®š pattern å¹¶æ˜¾ç¤ºç›¸å…³è¡Œã€‚ grep é»˜è®¤ä½¿ç”¨ BREï¼Œè¦ä½¿ç”¨ ERE å¯ä»¥ä½¿ç”¨Â grep -EÂ æˆ– egrepã€‚ å‘½ä»¤æ ¼å¼ï¼šgrep [option] pattern file ä¸€äº›ç”¨æ³•ï¼š nï¼šæ˜¾ç¤ºåŒ¹é…åˆ°å†…å®¹çš„è¡Œå· vï¼šæ˜¾ç¤ºä¸è¢«åŒ¹é…åˆ°çš„è¡Œ iï¼šå¿½ç•¥å­—ç¬¦å¤§å°å†™ ls /bin | grep -n \"^man$\" # æœç´¢å†…å®¹ä»…å« man çš„è¡Œï¼Œå¹¶ä¸”æ˜¾ç¤ºè¡Œå· ls /bin | grep -v \"[a-z]\\|[0-9]\" # æœç´¢ä¸å«å°å†™å­—æ¯å’Œæ•°å­—çš„è¡Œ ls /bin | grep -iv \"[A-Z]\\|[0-9]\" # æœç´¢ä¸å«å­—æ¯å’Œæ•°å­—çš„è¡Œ sed\rsed å…¨ç§° Stream EDitorï¼Œå³æµç¼–è¾‘å™¨ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹æ–‡ä»¶çš„å†…å®¹è¿›è¡Œé€è¡Œå¤„ç†ã€‚ sed é»˜è®¤ä½¿ç”¨ BREï¼Œè¦ä½¿ç”¨ ERE å¯ä»¥ sed -Eã€‚ å‘½ä»¤æ ¼å¼ï¼š sed [OPTIONS] 'command' file(s) sed [OPTIONS] -f scriptfile file(s) æ­¤å¤„çš„ command å’Œ scriptfile ä¸­çš„å‘½ä»¤å‡æŒ‡çš„æ˜¯ sed å‘½ä»¤ã€‚ å¸¸è§ sed å‘½ä»¤ï¼š s æ›¿æ¢ d åˆ é™¤ c é€‰å®šè¡Œæ”¹æˆæ–°æ–‡æœ¬ a å½“å‰è¡Œä¸‹æ’å…¥æ–‡æœ¬ i å½“å‰è¡Œä¸Šæ’å…¥æ–‡æœ¬ $ echo -e \"seD\\nIS\\ngOod\" \u003e sed_demo $ cat sed_demo seD IS gOod $ sed \"2d\" sed_demo # ä¸æ˜¾ç¤ºç¬¬äºŒè¡Œ seD gOod $ sed \"s/[a-z]/~/g\" sed_demo # æ›¿æ¢æ‰€æœ‰å°å†™å­—æ¯ä¸º ~ ~~D IS ~O~~ $ sed \"3cpErfeCt\" sed_demo # é€‰å®šç¬¬ä¸‰è¡Œï¼Œæ”¹æˆ pErfeCt seD IS pErfeCt awk\rawk æ˜¯ä¸€ç§ç”¨äºå¤„ç†æ–‡æœ¬çš„ç¼–ç¨‹è¯­è¨€å·¥å…·ï¼Œåå­—æ¥æºäºä¸‰ä¸ªä½œè€…çš„é¦–å­—æ¯ã€‚ç›¸æ¯” sedï¼Œawk å¯ä»¥åœ¨é€è¡Œå¤„ç†çš„åŸºç¡€ä¸Šï¼Œé’ˆå¯¹åˆ—è¿›è¡Œå¤„ç†ã€‚é»˜è®¤çš„åˆ—åˆ†éš”ç¬¦å·æ˜¯ç©ºæ ¼ï¼Œå…¶ä»–åˆ†éš”ç¬¦å¯ä»¥è‡ªè¡ŒæŒ‡å®šã€‚ awk ä½¿ç”¨ EREã€‚ å‘½ä»¤æ ¼å¼ï¼šawk [options] 'pattern {action}' [file] awk é€è¡Œå¤„ç†æ–‡æœ¬ï¼Œå¯¹ç¬¦åˆçš„ patthern æ‰§è¡Œ actionã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œawk ä½¿ç”¨å•å¼•å·æ—¶å¯ä»¥ç›´æ¥ç”¨Â $ï¼Œä½¿ç”¨åŒå¼•å·åˆ™è¦ç”¨Â \\$ã€‚ ä¸€äº›ç¤ºä¾‹ï¼š $ cat awk_demo Beth 4.00 0 Dan 3.75 0 kathy 4.00 10 Mark 5.00 20 Mary 5.50 22 Susie 4.25 18 $ # é€‰æ‹©ç¬¬ä¸‰åˆ—å€¼å¤§äº 0 çš„è¡Œï¼Œå¯¹æ¯ä¸€è¡Œè¾“å‡ºç¬¬ä¸€åˆ—çš„å€¼å’Œç¬¬äºŒç¬¬ä¸‰åˆ—çš„ä¹˜ç§¯ $ awk '$3 \u003e0 { print $1, $2 * $3 }' awk_demo kathy 40 Mark 100 Mary 121 Susie 76.5 ç¤ºä¾‹ä¸­Â $1ï¼Œ$2ï¼Œ$3Â åˆ†åˆ«æŒ‡ä»£æœ¬è¡Œçš„ç¬¬ 1ã€2ã€3 åˆ—ã€‚ç‰¹åˆ«åœ°ï¼Œ$0 æŒ‡ä»£æœ¬è¡Œã€‚ awk è¯­è¨€æ˜¯ã€Œå›¾çµå®Œå…¨ã€çš„ï¼Œè¿™æ„å‘³ç€ç†è®ºä¸Šå®ƒå¯ä»¥åšåˆ°å’Œå…¶ä»–è¯­è¨€ä¸€æ ·çš„äº‹æƒ…ã€‚è¿™é‡Œæˆ‘ä»¬ä¸ä»…å¯ä»¥å¯¹æ¯è¡Œè¿›è¡Œæ“ä½œï¼Œè¿˜å¯ä»¥å®šä¹‰å˜é‡ï¼Œå°†å‰é¢å¤„ç†çš„çŠ¶æ€ä¿å­˜ä¸‹æ¥ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªæ±‚å’Œçš„ä¾‹å­ï¼š $ awk 'BEGIN { sum = 0 } { sum += $2 * $3 } END { print sum }' awk_demo 337.5 å…³äº awkï¼Œæœ‰ä¸€æœ¬çŸ¥åçš„ä¹¦ç±ã€ŠThe AWK Programming Languageã€‹ï¼ˆä¸­æ–‡ç¿»è¯‘ï¼‰ ","date":"2024-08-15","objectID":"/posts/3d623e4/:8:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"Ubuntuä¸‹æ¨èçš„è½¯ä»¶\r","date":"2024-08-15","objectID":"/posts/3d623e4/:9:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"Zsh\rä½¿ç”¨ Linux ç³»ç»Ÿæ—¶ï¼Œä¸å¯é¿å…æ¥è§¦ç»ˆç«¯å‘½ä»¤è¡Œæ“ä½œï¼Œä½†æ˜¯é»˜è®¤çš„ç»ˆç«¯é»‘åº•ç™½å­—ã€‚æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥æ—¢ç¾åŒ–ç»ˆç«¯ï¼Œåˆæé«˜å·¥ä½œæ•ˆç‡å‘¢ï¼Ÿä¸‹é¢ä»‹ç»ä¸€ä¸ªç¾åŒ–ç»ˆç«¯çš„æ–¹æ³•ï¼Œæ›´æ¢ Shellã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œä½¿ç”¨å‘½ä»¤ï¼šecho $SHELL æ¥æ£€æŸ¥ç›®å‰æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆ Shellï¼ŒUbuntué»˜è®¤ä½¿ç”¨ Bashã€‚åœ¨è¿™é‡Œæ¨èä¸€ä¸ªæ›´åŠ å¼ºå¤§çš„ Shell å·¥å…·â€”â€”Z shellï¼ˆZshï¼‰ã€‚ Zshä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š ä½¿ç”¨å‘½ä»¤ sudo apt install zsh æ¥å®‰è£… zsh ä½¿ç”¨å‘½ä»¤ chsh -s /bin/zsh å°†zshè®¾ç½®ä¸ºé»˜è®¤ shell é‡å¯åæ‰“å¼€ç»ˆç«¯å°±ä¼šå‘ç° shell å˜ä¸ºäº† zsh Zsh è™½ç„¶å¥½ç”¨ï¼Œä½†ç›´æ¥ç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œä¸è¿‡å¹¸è¿çš„æ˜¯ï¼Œå·²ç»æœ‰å¤§ç¥ç»™æˆ‘ä»¬é…ç½®å¥½äº†ä¸€ä¸ªå¾ˆæ£’çš„æ¡†æ¶ï¼šoh-my-zshï¼Œä¸“é—¨ä¸º Zsh æ‰“é€ ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯å®‰è£…ï¼š sh -c \"$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\" å®‰è£…å¥½oh-my-zshå°±å¯ä»¥é…ç½®æ’ä»¶ä¸€äº›å¥½ç”¨çš„æ’ä»¶ã€‚åœ¨ ~/.zshrc æ–‡ä»¶ä¸­ï¼Œä¸­é—´é ä¸‹æœ‰pluginsè¿™å¥è¯ï¼Œè¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç›®å‰å¯ç”¨çš„æ’ä»¶ï¼Œåœ¨é‡Œé¢è¾“å…¥å·²å®‰è£…ä¸”æƒ³å¯ç”¨çš„æ’ä»¶åï¼Œæ’ä»¶ä¹‹é—´ç”¨ç©ºæ ¼é—´éš”ã€‚ git æ— éœ€é…ç½®ï¼Œé»˜è®¤å·²å¼€å¯ï¼Œä½¿æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨gitå‘½ä»¤çš„ç¼©å†™ zsh-syntax-highlighting é«˜äº®è¯­æ³•ï¼Œè¾“å…¥æ­£ç¡®è¯­æ³•ä¼šæ˜¾ç¤ºç»¿è‰²ï¼Œé”™è¯¯çš„ä¼šæ˜¾ç¤ºçº¢è‰²ï¼Œä½¿å¾—æˆ‘ä»¬æ— éœ€è¿è¡Œè¯¥å‘½ä»¤å³å¯çŸ¥é“æ­¤å‘½ä»¤è¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…: git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting zsh-autosuggestions è‡ªåŠ¨è¡¥å…¨ï¼Œåªéœ€è¾“å…¥éƒ¨åˆ†å‘½ä»¤å³å¯æ ¹æ®ä¹‹å‰è¾“å…¥è¿‡çš„å‘½ä»¤æç¤ºï¼ŒæŒ‰å³é”®å³å¯è¡¥å…¨ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions zshçš„ä¸€äº›ä½¿ç”¨æŠ€å·§\råœ¨zshä¸­æŒ‰ä¸€æ¬¡tabé”®å°±ä¼šåˆ—å‡ºæ‰€æœ‰çš„é€‰é¡¹å’Œå¸®åŠ©è¯´æ˜ï¼Œè¿æŒ‰ä¸¤æ¬¡tabé”®å°±å¯ä»¥å¼€å§‹åœ¨è¡¥å…¨çš„åˆ—è¡¨ç›´æ¥é€‰æ‹©å‚æ•°ï¼ˆæŒ‰tabé”®æˆ–æ–¹å‘é”®ç§»åŠ¨ï¼‰ï¼Œå›è½¦é€‰ä¸­å‚æ•°ã€‚ åœ¨å½“å‰ç›®å½•ä¸‹è¾“å…¥ .. æˆ– ... ï¼Œæˆ–ç›´æ¥è¾“å…¥å½“å‰ç›®å½•åéƒ½å¯ä»¥è·³è½¬ï¼Œç”šè‡³ä¸å†éœ€è¦è¾“å…¥Â cdÂ å‘½ä»¤äº†ã€‚ åœ¨ä½ çŸ¥é“è·¯å¾„çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚Â /usr/local/binÂ ä½ å¯ä»¥è¾“å…¥cd /u/l/bÂ ç„¶åæŒ‰tabè¡¥å…¨ï¼Œå®ç°å¿«é€Ÿè¾“å…¥ è¾“å…¥ dï¼Œå³å¯åˆ—å‡ºä½ åœ¨è¿™ä¸ªä¼šè¯é‡Œè®¿é—®çš„ç›®å½•åˆ—è¡¨ï¼Œè¾“å…¥åˆ—è¡¨å‰çš„åºå·ï¼Œå³å¯ç›´æ¥è·³è½¬ã€‚ åœ¨ .zshrc ä¸­æ·»åŠ Â setopt HIST_IGNORE_DUPSÂ å¯ä»¥æ¶ˆé™¤é‡å¤è®°å½•ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨sort -t \";\" -k 2 -u ~/.zsh_history | sort -o ~/.zsh_historyæ‰‹åŠ¨æ¸…é™¤ ","date":"2024-08-15","objectID":"/posts/3d623e4/:9:1","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"unar åœ¨ Linux ä¸Šçš„ tar ä¸€èˆ¬åªæ”¯æŒ gzipã€bzipã€xz å’Œ lzip å‡ ç§å‹ç¼©ç®—æ³•ï¼Œå¦‚æœéœ€è¦è§£å‹ Windows ä¸Šæ›´ä¸ºå¸¸è§çš„ 7zã€zip å’Œ rar ç­‰ï¼Œåˆ™éœ€è¦å¯»æ±‚æ›¿ä»£è½¯ä»¶ï¼Œæ¨èä½¿ç”¨ unar è½¯ä»¶ã€‚ Ubuntu ä¸Šç›´æ¥ä½¿ç”¨ apt å®‰è£…å³å¯ï¼šsudo apt install unar å®‰è£…å®Œæˆåä¼šå¾—åˆ°ä¸¤ä¸ªå‘½ä»¤ï¼šunarÂ å’ŒÂ lsarï¼Œåˆ†åˆ«ç”¨æ¥è§£å‹å­˜æ¡£æ–‡ä»¶ä»¥åŠæµè§ˆå­˜æ¡£æ–‡ä»¶å†…å®¹ã€‚ lsar å‘½ä»¤è¯¦è§£ï¼š lsar archive.zip # æµè§ˆå­˜æ¡£æ–‡ä»¶å†…å®¹ lsar -l archive.zip # æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ lsar -L archive.zip # æŸ¥çœ‹ç‰¹åˆ«è¯¦ç»†çš„ä¿¡æ¯ unar å‘½ä»¤è¯¦è§£ï¼š # ç›´æ¥å°†æ–‡ä»¶è§£å‹åˆ°å½“å‰ç›®å½•ä¸‹ unar test.zip # -o å‚æ•°æŒ‡å®šè§£å‹ç»“æœä¿å­˜çš„ä½ç½® unar test.zip -o /home/dir/ # -e å‚æ•°æŒ‡å®šç¼–ç  unar -e GBK test.zip # -p å‚æ•°æŒ‡å®šè§£å‹å¯†ç  unar -p 123456 test.zip # è§£å†³å‹ç¼©åŒ…ä¹±ç é—®é¢˜ # 1.æŒ‡å®šæŸ¥çœ‹æ—¶çš„ç¼–ç æ–¹å¼ï¼Œå¦‚æœèƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºï¼Œåˆ™ç›´æ¥ä½¿ç”¨è¯¥ç¼–ç æ–¹å¼è§£å‹ lsar -e GB18030 test.zip # 2. è§£å‹ unar -e GB18030 test.zip ","date":"2024-08-15","objectID":"/posts/3d623e4/:9:2","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"htop htopÂ æ˜¯ Linux ç³»ç»Ÿä¸­çš„ä¸€ä¸ªäº’åŠ¨çš„è¿›ç¨‹æŸ¥çœ‹å™¨ï¼Œä¸ Linux ä¼ ç»Ÿçš„ top ç›¸æ¯”, htop æ›´åŠ äººæ€§åŒ–ã€‚ å®ƒå¯è®©ç”¨æˆ·äº¤äº’å¼æ“ä½œï¼Œæ”¯æŒé¢œè‰²ä¸»é¢˜, å¯æ¨ªå‘æˆ–çºµå‘æ»šåŠ¨æµè§ˆè¿›ç¨‹åˆ—è¡¨ï¼Œå¹¶æ”¯æŒé¼ æ ‡æ“ä½œã€‚ ä½¿ç”¨å‘½ä»¤ sudo apt install htop å®‰è£…ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ htop å³å¯å¯åŠ¨è½¯ä»¶ï¼Œhtopä½¿ç”¨æ•™ç¨‹ã€‚ PSï¼š F10æŒ‰é”®è¢«çª—å£å ç”¨æ—¶ï¼Œå¯åœ¨ çª—å£è®¾ç½®â†’é…ç½®æ–‡ä»¶é¦–é€‰é¡¹â†’å–æ¶ˆå¯ç”¨èœå•å¿«æ·é”®ï¼Œå³å¯å°†F10ä»ç»ˆç«¯çª—å£è§£ç»‘ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:9:3","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"silversearcher-ag\rsilversearcher-agï¼ˆé€šå¸¸ç§°ä¸º agï¼‰æ˜¯ä¸€ä¸ªä»£ç æœç´¢å·¥å…·ï¼Œå®ƒæ—¨åœ¨æ¯”ä¼ ç»Ÿçš„ grep æ›´å¿«ã€æ›´é«˜æ•ˆã€‚ag æ“…é•¿åœ¨å¤§å‹ä»£ç åº“ä¸­å¿«é€Ÿè¿›è¡Œæœç´¢ï¼Œå®ƒçš„é€Ÿåº¦ä¼˜åŠ¿ä¸»è¦å¾—ç›Šäºå¹¶è¡Œæœç´¢ä»¥åŠè‡ªåŠ¨å¿½ç•¥.gitå’Œå…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ã€‚ å®‰è£…å‘½ä»¤ä¸ºï¼šsudo apt install silversearcher-ag ag çš„åŸºæœ¬è¯­æ³•éå¸¸ç®€å•ï¼šag [options] \u003csearch-pattern\u003e [path] pathå¯é€‰ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½• å¸¸ç”¨é€‰é¡¹\r-iï¼šå¿½ç•¥å¤§å°å†™ã€‚ -vï¼šåªæ‰“å°ä¸åŒ¹é…çš„è¡Œã€‚ -wï¼šä»…åŒ¹é…æ•´ä¸ªå•è¯ã€‚ -A NUMï¼šæ‰“å°åŒ¹é…è¡Œä¹‹å NUM è¡Œã€‚ -B NUMï¼šæ‰“å°åŒ¹é…è¡Œä¹‹å‰ NUM è¡Œã€‚ -C NUMï¼šæ‰“å°åŒ¹é…è¡Œå‰åå„ NUM è¡Œã€‚ -lï¼šåªæ‰“å°åŒ…å«åŒ¹é…é¡¹çš„æ–‡ä»¶åã€‚ -Lï¼šåªæ‰“å°ä¸åŒ…å«åŒ¹é…é¡¹çš„æ–‡ä»¶åã€‚ -gï¼šåªæ‰“å°åŒ¹é… PATTERN çš„æ–‡ä»¶åã€‚ -Gï¼šåªä»æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡ä»¶ä¸­æœç´¢ã€‚ -uï¼šæœç´¢æ‰€æœ‰æ–‡ä»¶ï¼Œå¿½ç•¥ .gitignore ç­‰å¿½ç•¥æ–‡ä»¶ã€‚ -zï¼šæœç´¢å‹ç¼©æ–‡ä»¶çš„å†…å®¹ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:9:4","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"tmux tmuxæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ç»ˆç«¯å¤ç”¨è½¯ä»¶ï¼Œæ‹¥æœ‰ä¸æ»‘åˆ†å±ã€ä¿æŠ¤ç°åœºã€ä¼šè¯å…±äº«ç­‰ä¸»è¦åŠŸèƒ½ã€‚ä¸€ä¸ª tmux ä¼šè¯å¯ä»¥åŒ…æ‹¬å¤šä¸ªçª—å£ï¼Œä¸€ä¸ªçª—å£åˆå¯ä»¥åŒ…æ‹¬å¤šä¸ªé¢æ¿ï¼Œçª—å£ä¸‹çš„é¢æ¿ï¼Œéƒ½å¤„äºåŒä¸€ç•Œé¢ä¸‹ï¼Œè¿™äº›é¢æ¿é€‚åˆè¿è¡Œç›¸å…³æ€§é«˜çš„ä»»åŠ¡ï¼Œä»¥ä¾¿åŒæ—¶è§‚å¯Ÿåˆ°å®ƒä»¬çš„è¿è¡Œæƒ…å†µã€‚ tmux ç”±ä¼šè¯ï¼ˆsessionï¼‰ï¼Œçª—å£ï¼ˆwindowï¼‰ï¼Œé¢æ¿ï¼ˆpaneï¼‰ç»„ç»‡èµ·æ¯ä¸ª shell çš„è¾“å…¥æ¡†ã€‚ä¼šè¯ç”¨äºåŒºåˆ†ä¸åŒçš„å·¥ä½œï¼›çª—å£æ˜¯ä¼šè¯ä¸­ä»¥æ˜¾ç¤ºå±ä¸ºå•ä½çš„ä¸åŒçš„é¡µï¼›è€Œé¢æ¿åˆ™æ˜¯ä¸€ä¸ªçª—å£ä¸Šè¢«ç™½çº¿åˆ†å‰²çš„ä¸åŒåŒºåŸŸã€‚ç†Ÿç»ƒæŒæ¡ä¼šè¯ï¼Œçª—å£ï¼Œé¢æ¿ä¹‹é—´çš„åˆ‡æ¢ï¼Œå¯ä»¥æå¤§æé«˜ä½¿ç”¨æ•ˆç‡ã€‚ å®‰è£…å‘½ä»¤ä¸ºï¼šsudo apt install tmux æ–°å»ºä¸€ä¸ª tmux ä¼šè¯\rtmux # æ–°å»ºä¸€ä¸ªæ— åç§°çš„ä¼šè¯ tmux new -s demo # æ–°å»ºä¸€ä¸ªåç§°ä¸ºdemoçš„ä¼šè¯ PSï¼š ä¸ºäº†ä¾¿äºç®¡ç†ï¼Œå»ºè®®æŒ‡å®šä¼šè¯åç§° å…³é—­ä¼šè¯\rä¼šè¯çš„ä½¿å‘½å®Œæˆåï¼Œä¸€å®šè¦å…³é—­ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š tmux kill-session -t demo #å…³é—­demoä¼šè¯ tmux kill-server #å…³é—­å…¨éƒ¨ä¼šè¯ æŸ¥çœ‹æ‰€æœ‰ä¼šè¯\rtmux ls æ–­å¼€å½“å‰ä¼šè¯\rä¼šè¯ä¸­æ“ä½œäº†ä¸€æ®µæ—¶é—´ï¼Œæˆ‘å¸Œæœ›æ–­å¼€ä¼šè¯åŒæ—¶ä¸‹æ¬¡è¿˜èƒ½æ¥ç€ç”¨ï¼Œæ€ä¹ˆåšï¼Ÿæ­¤æ—¶å¯ä»¥ä½¿ç”¨detachå‘½ä»¤ã€‚ tmux detach è¿›å…¥ä¹‹å‰çš„ä¼šè¯\ræ–­å¼€ä¼šè¯åï¼Œæƒ³è¦æ¥ç€ä¸Šæ¬¡ç•™ä¸‹çš„ç°åœºç»§ç»­å·¥ä½œï¼Œå°±è¦ä½¿ç”¨åˆ°tmuxçš„attachå‘½ä»¤äº†ï¼Œè¯­æ³•ä¸ºtmux attach-session -t session-nameï¼Œå¯ç®€å†™ä¸ºtmux a -t session-name æˆ– tmux aã€‚é€šå¸¸æˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹å¼ä¹‹ä¸€å³å¯ï¼š tmux a #é»˜è®¤è¿›å…¥ç¬¬ä¸€ä¸ªä¼šè¯ tmux a -t demo #è¿›å…¥åç§°ä¸ºdemoçš„ä¼šè¯ å¸¸ç”¨å¿«æ·é”®\rtmuxçš„æ‰€æœ‰æŒ‡ä»¤ï¼Œéƒ½åŒ…å«åŒä¸€ä¸ªå‰ç¼€ï¼Œé»˜è®¤ä¸ºCtrl+bï¼Œè¾“å…¥å®Œå‰ç¼€è¿‡åï¼Œæ§åˆ¶å°æ¿€æ´»ï¼Œå‘½ä»¤æŒ‰é”®æ‰èƒ½ç”Ÿæ•ˆã€‚å³æŒ‰å¿«æ·é”®ä¹‹å‰éœ€è¦å…ˆæŒ‰å®Œ Ctrl+b é”®æ¿€æ´»æ§åˆ¶å°ã€‚ å¿«æ·é”®ï¼ˆéœ€å…ˆæŒ‰ Ctrl+Bï¼‰ åŠŸèƒ½ % å·¦å³åˆ†å± \" ä¸Šä¸‹åˆ†å± â†‘ â†“ â† â†’ ç„¦ç‚¹åˆ‡æ¢ä¸ºä¸Šã€ä¸‹ã€å·¦ã€å³ä¾§paneï¼Œæ­£åœ¨äº¤äº’çš„paneè¢«ç»¿è‰²æ¡†é€‰ä¸­ã€‚ d (detach) ä»tmuxä¸­è„±ç¦»ï¼Œå›åˆ°å‘½ä»¤è¡Œç•Œé¢ z (zoom) å°†paneæš‚æ—¶å…¨å±ï¼Œå†æŒ‰ä¸€æ¬¡æ¢å¤åŸçŠ¶ c æ–°å»ºçª—å£ , ä¸ºçª—å£å‘½å s åˆ—å‡ºæ‰€æœ‰ session å®šåˆ¶ tmux\rè¯´å®åœ¨çš„ï¼Œtmux é»˜è®¤çš„å¿«æ·é”®çš„ç¡®æœ‰äº›è‹¦æ‰‹ï¼Œæ¯”å¦‚ Ctrl + B è¿™ä¸ªå¯¹æ‰‹æŒ‡ç›¸å½“ä¸å‹å¥½çš„é•¿è·å¿«æ·é”®å°±åº”å½“æ”¹è¿›ã€‚è€Œä¸”ä½ å¯èƒ½ä¼šæƒ³ï¼Œæ¨ªç«–åˆ†å±å±…ç„¶éœ€è¦ % å’Œ \"ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨æ›´ä¸ºç›´è§‚çš„ - å’Œ | å‘¢ï¼Ÿå¦‚æœè¦å¯¹è¿™äº›ç‰¹æ€§è¿›è¡Œä¿®æ”¹ï¼Œå¯ä»¥åœ¨å®¶ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ .tmux.conf è¾¾åˆ°æ‰€éœ€ç›®çš„ã€‚æˆ‘çš„é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š set -g prefix C-a # è®¾ç½®å‰ç¼€æŒ‰é”® Ctrl + Aã€‚ unbind C-b # å–æ¶ˆ Ctrl + B å¿«æ·é”®ã€‚ bind C-a send-prefix # ç¬¬äºŒæ¬¡æŒ‰ä¸‹ Ctrl + A ä¸ºå‘ shell å‘é€ Ctrl + Aã€‚ # ï¼ˆShell ä¸­ Ctrl + A è¡¨ç¤ºå…‰æ ‡ç§»åŠ¨åˆ°æœ€å‰ç«¯ï¼‰ã€‚ set -g mouse on # å¯åŠ¨é¼ æ ‡æ“ä½œæ¨¡å¼ï¼Œéšåå¯ä»¥é¼ æ ‡æ‹–åŠ¨è¾¹ç•Œè¿›è¡Œé¢æ¿å¤§å°è°ƒæ•´ã€‚ unbind -n MouseDrag1Pane unbind -Tcopy-mode MouseDrag1Pane unbind '\"' # ä½¿ç”¨ - ä»£è¡¨æ¨ªå‘åˆ†å‰²ã€‚ bind - splitw -v -c '#{pane_current_path}' # -v ä»£è¡¨æ–°å»ºçš„é¢æ¿ä½¿ç”¨å…¨éƒ¨çš„å®½åº¦ï¼Œæ•ˆæœå³ä¸ºæ¨ªå‘åˆ†å‰²ï¼ˆæˆ–è€…è¯´ï¼Œåˆ‡å‰²å¾—åˆ°çš„æ–°çš„é¢æ¿åœ¨ç«–ç›´æ–¹å‘ (vertical) æ’åˆ—ï¼‰ã€‚ unbind % # ä½¿ç”¨ \\ ä»£è¡¨çºµå‘åˆ†å‰²ï¼ˆå› ä¸ºæˆ‘ä¸æƒ³æŒ‰ Shiftï¼‰ã€‚ bind \\\\ splitw -h -c '#{pane_current_path}' # -h åˆ™ä»£è¡¨æ–°å»ºçš„é¢æ¿ä½¿ç”¨å…¨éƒ¨çš„é«˜åº¦ï¼Œæ•ˆæœå³ä¸ºçºµå‘åˆ†å‰²ï¼ˆåˆ‡å‰²å¾—åˆ°çš„æ–°çš„é¢æ¿åœ¨æ°´å¹³æ–¹å‘ (horizontal) æ’åˆ—ï¼‰ã€‚ setw -g mode-keys vi # è®¾ç½® copy-mode å¿«æ·é”®æ¨¡å¼ä¸º viã€‚ ä»¥ . å¼€å¤´çš„æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨ ls -a å‘½ä»¤æŸ¥çœ‹ã€‚æ‰€ä»¥ä¿å­˜ä¹‹åä½ å¯èƒ½ä¸ä¼šç›´æ¥åœ¨å›¾å½¢ç•Œé¢çœ‹åˆ°ï¼Œä¸ç”¨æ‹…å¿ƒã€‚ ä¿å­˜åï¼Œä½¿ç”¨ tmux source ~/.tmux.conf é‡æ–°è½½å…¥é…ç½®ï¼Œæˆ–è€… tmux kill-server åé‡å¯ tmuxã€‚ å…³äº tmux æ›´è¯¦ç»†çš„ä»‹ç»ï¼Œå¯ä»¥å‚è§è¿™ç¯‡åšå®¢ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:9:5","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"gparted\rgparted æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„å¼€æºç£ç›˜åˆ†åŒºå·¥å…·ï¼Œå¹¿æ³›ç”¨äº Linux å‘è¡Œç‰ˆã€‚å®ƒæ”¯æŒå¤šç§æ–‡ä»¶ç³»ç»Ÿå’Œå­˜å‚¨è®¾å¤‡ï¼Œæä¾›ç›´è§‚çš„å›¾å½¢ç•Œé¢æ¥å¸®åŠ©ç”¨æˆ·åˆ›å»ºã€ç§»åŠ¨ã€è°ƒæ•´å¤§å°ã€æ ¼å¼åŒ–å’Œåˆ é™¤ç£ç›˜åˆ†åŒºã€‚ å®‰è£…å‘½ä»¤ä¸ºï¼šsudo apt install gpartedï¼Œè¾“å…¥å‘½ä»¤ sudo gparted å³å¯è¿›å…¥å›¾å½¢åŒ–é¡µé¢ã€‚ ä½¿ç”¨ gparted è°ƒæ•´åˆ†åŒºå¤§å°\ræ‰“å¼€ gpartedã€‚åœ¨å›¾å½¢ç•Œé¢ä¸­ï¼Œä½ ä¼šçœ‹åˆ°å½“å‰ç£ç›˜çš„åˆ†åŒºå¸ƒå±€ã€‚ é€‰æ‹©éœ€è¦è°ƒæ•´å¤§å°çš„åˆ†åŒºï¼Œå³é”®ç‚¹å‡»å¹¶é€‰æ‹© â€œResize/Moveâ€ã€‚ æ‹–åŠ¨åˆ†åŒºè¾¹ç•Œæ¥è°ƒæ•´å¤§å°ï¼Œæˆ–è€…åœ¨å¯¹è¯æ¡†ä¸­è¾“å…¥æ–°çš„åˆ†åŒºå¤§å°ã€‚ è°ƒæ•´åï¼Œç‚¹å‡» â€œResize/Moveâ€ åº”ç”¨æ›´æ”¹ã€‚ æœ€åï¼Œç‚¹å‡»å·¥å…·æ ä¸Šçš„ â€œApplyâ€ æŒ‰é’®æ‰§è¡Œæ‰€æœ‰æŒ‚èµ·çš„æ“ä½œ ã€‚ åˆ›å»ºæ–°åˆ†åŒº\råœ¨ gparted ä¸­é€‰æ‹©æœªåˆ†é…çš„ç©ºé—´ã€‚ å³é”®ç‚¹å‡»å¹¶é€‰æ‹© â€œNewâ€ã€‚ åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­è®¾ç½®åˆ†åŒºå¤§å°ã€æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€åˆ†åŒºåç§°å’Œæ ‡ç­¾ã€‚ ç‚¹å‡» â€œAddâ€ åˆ›å»ºæ–°åˆ†åŒºã€‚ åŒæ ·ï¼Œä¸è¦å¿˜è®°ç‚¹å‡» â€œApplyâ€ æ¥åº”ç”¨æ›´æ”¹ ã€‚ åˆ é™¤åˆ†åŒº\ré€‰æ‹©è¦åˆ é™¤çš„åˆ†åŒºã€‚ å³é”®ç‚¹å‡»å¹¶é€‰æ‹© â€œDeleteâ€ã€‚ ç¡®è®¤åˆ é™¤æ“ä½œã€‚ ç‚¹å‡» â€œApplyâ€ æ‰§è¡Œåˆ é™¤ã€‚ æ³¨æ„äº‹é¡¹\råœ¨å¯¹ç£ç›˜åˆ†åŒºè¿›è¡Œæ“ä½œä¹‹å‰ï¼Œå»ºè®®å¤‡ä»½é‡è¦æ•°æ®ï¼Œä»¥é˜²æ•°æ®ä¸¢å¤±ã€‚ åœ¨ä½¿ç”¨ gparted è¿›è¡Œåˆ†åŒºæ“ä½œæ—¶ï¼Œç¡®ä¿å¾…æ“ä½œçš„åˆ†åŒºæ²¡æœ‰æŒ‚è½½ï¼Œå¦åˆ™å¯èƒ½æ— æ³•è¿›è¡Œæ“ä½œã€‚ å¦‚æœä½¿ç”¨çš„æ˜¯è™šæ‹Ÿæœºï¼Œæ‰©å±•è™šæ‹Ÿç¡¬ç›˜çš„å¤§å°éœ€è¦å…ˆåœ¨è™šæ‹Ÿæœºè®¾ç½®ä¸­æ‰©å¤§ç¡¬ç›˜å¤§å°ã€‚ ","date":"2024-08-15","objectID":"/posts/3d623e4/:9:6","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["Linux"],"content":"å‚è€ƒèµ„æ–™\rhttps://101.lug.ustc.edu.cn/ ","date":"2024-08-15","objectID":"/posts/3d623e4/:10:0","tags":["ç¬”è®°"],"title":"Linuxå­¦ä¹ ç¬”è®°","uri":"/posts/3d623e4/"},{"categories":["VsCode"],"content":"Better C++ Syntax\rè¯¥æ’ä»¶ä¸»è¦ä½œç”¨æ˜¯æä¾› C++ è¯­æ³•é«˜äº® ","date":"2024-08-12","objectID":"/posts/c0ef113/:1:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Bookmarks\rè¯¥æ’ä»¶ä¸»è¦ä½œç”¨æ˜¯å…è®¸ç”¨æˆ·åœ¨ä»£ç ä¸­æ·»åŠ ä¹¦ç­¾ï¼Œä»¥ä¾¿å¿«é€Ÿè·³è½¬åˆ°è¿™äº›ç‰¹å®šä½ç½®ã€‚è¿™ä¸ªæ’ä»¶å¯¹äºéœ€è¦åœ¨å¤§å‹é¡¹ç›®ä¸­å¯¼èˆªå’Œè·Ÿè¸ªé‡è¦ä»£ç æ®µçš„å¼€å‘è€…æ¥è¯´éå¸¸æœ‰ç”¨ã€‚ è¯¥æ’ä»¶å¸¸ç”¨å¿«æ·é”®ä¸ºï¼š æ·»åŠ ä¹¦ç­¾ï¼šCtrl+Alt+K åˆ é™¤ä¹¦ç­¾ï¼šå°†å…‰æ ‡æ”¾åœ¨å¸¦æœ‰ä¹¦ç­¾çš„è¡Œä¸Šï¼Œç„¶åä½¿ç”¨ Ctrl+Alt+J åˆ‡æ¢ä¹¦ç­¾ï¼šCtrl+Alt+Qå¯ä»¥åœ¨ä¹¦ç­¾ä¹‹é—´åˆ‡æ¢ï¼Œå¦‚æœå½“å‰è¡Œæœ‰ä¹¦ç­¾ï¼Œåˆ™ä¼šåˆ é™¤å®ƒã€‚ è·³è½¬åˆ°ä¸‹ä¸€ä¹¦ç­¾ï¼šCtrl+Alt+L è·³è½¬åˆ°ä¸Šä¸€ä¹¦ç­¾ï¼šShift+Ctrl+Alt+L ","date":"2024-08-12","objectID":"/posts/c0ef113/:2:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"C/C++\rè¯¥æ’ä»¶ä¸»è¦ä½œç”¨æ˜¯æä¾›äº†ä¸€ç³»åˆ—çš„å·¥å…·å’ŒåŠŸèƒ½ï¼Œä¾‹å¦‚ä»£ç åˆ†æåŠŸèƒ½ã€ä»£ç æ ¼å¼åŒ–åŠŸèƒ½ã€ä»£ç æç¤ºç­‰ã€‚ ","date":"2024-08-12","objectID":"/posts/c0ef113/:3:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"CMake\rè¯¥æ’ä»¶ä¸»è¦ä½œç”¨æ˜¯CMakeè¯­æ³•é«˜äº®ã€CMakeä»£ç è‡ªåŠ¨è¡¥å…¨ã€‚ ","date":"2024-08-12","objectID":"/posts/c0ef113/:4:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"CMake Tools\rè¯¥æ’ä»¶ä¸»è¦ä½œç”¨æ˜¯æä¾›å„ç§CMakeç¼–è¯‘ç›¸å…³çš„å°å·¥å…·ï¼ŒåŒ…æ‹¬åœ¨åº•éƒ¨çŠ¶æ€æ æ˜¾ç¤ºä¸€äº›å¿«æ·å·¥å…·ã€‚ ","date":"2024-08-12","objectID":"/posts/c0ef113/:5:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"cmake-format\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯æ ¼å¼åŒ– CMakeLists.txt æ–‡ä»¶ï¼Œä½¿å…¶ä¿æŒä¸€è‡´å’Œå¯è¯»æ€§ã€‚å®‰è£…æ­¤æ’ä»¶å‰ï¼Œéœ€è¦å…ˆå®‰è£…cmake-formatå·¥å…·ã€‚ ","date":"2024-08-12","objectID":"/posts/c0ef113/:6:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Code Runner\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯è¿è¡Œé€‰å®šçš„ä»£ç ç‰‡æ®µã€‚ è¯¥æ’ä»¶å¸¸ç”¨å¿«æ·é”®ä¸ºï¼š è¿è¡Œé€‰å®šä»£ç  Ctrl+Alt+N æˆ– ç›´æ¥ç‚¹å‡»å³ä¸Šè§’çš„ä¸‰è§’å½¢ æˆ– ç‚¹å‡»å³é”®èœå•ä¸­çš„ Run Code åœæ­¢æ­£åœ¨è¿è¡Œçš„ä»£ç  Ctrl+Alt+M æˆ– ç‚¹å‡»å³é”®èœå•ä¸­çš„ Stop Run Code æ’ä»¶è¯¦ç»†è¯´æ˜åœ°å€ ","date":"2024-08-12","objectID":"/posts/c0ef113/:7:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Diff\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒä¹‹å¤„ï¼Œç›´æ¥åœ¨èµ„æºç®¡ç†çª—å£ä¸­é€‰æ‹©ä¸¤ä¸ªè¦æ¯”è¾ƒçš„æ–‡ä»¶ï¼Œå°†ä¼šç›´æ¥æ˜¾ç¤ºæ¯”è¾ƒç»“æœã€‚ ","date":"2024-08-12","objectID":"/posts/c0ef113/:8:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Error Lens\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯å°†ä»£ç ä¸­å­˜åœ¨çš„é—®é¢˜çªå‡ºæ˜¾ç¤º(åŒ…æ‹¬é”™è¯¯ã€è­¦å‘Šå’Œè¯­æ³•é—®é¢˜)ï¼Œå®ƒä¸ä»…åœ¨ä»£ç è¡Œå°¾æ˜¾ç¤ºé—®é¢˜ï¼Œè€Œä¸”ä¼šåœ¨æ•´è¡Œè¿›è¡Œé«˜äº®ï¼Œä½¿å¾—è¯Šæ–­ä¿¡æ¯æ›´åŠ æ˜æ˜¾ã€‚ ","date":"2024-08-12","objectID":"/posts/c0ef113/:9:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"GitLens\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯å¯ä»¥æ›´æ–¹ä¾¿åœ°åœ¨VsCodeä¸­è¿›è¡ŒGitç›¸å…³æ“ä½œï¼Œè¯¥æ’ä»¶çš„ä½¿ç”¨å¯çœ‹æ­¤è§†é¢‘äº†è§£ã€‚ PS: å»ºè®®èƒ½å¤Ÿç†Ÿç»ƒä½¿ç”¨Gitå‘½ä»¤åå†ä½¿ç”¨æ­¤æ’ä»¶ï¼ŒGitçš„å­¦ä¹ å¯çœ‹æ­¤æ•™ç¨‹ã€‚ ","date":"2024-08-12","objectID":"/posts/c0ef113/:10:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"GitHub Copilot\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯è¾…åŠ©ç¼–ç ã€‚è¯¥æ’ä»¶æ˜¯GitHubçš„AIç¼–ç å·¥å…·ï¼Œèƒ½æ ¹æ®æ³¨é‡Šã€å‡½æ•°åã€å‡½æ•°å‚æ•°ç¼–å†™ä»£ç ã€‚è¯¥æ’ä»¶çš„è¯¦ç»†ä»‹ç»å¯çœ‹æ­¤æ–‡ç« ã€‚ PS: è¯¥æ’ä»¶éœ€è¦è¿›è¡ŒGitHubå­¦ç”Ÿè®¤è¯æ‰èƒ½å…è´¹ä½¿ç”¨ï¼Œå¯å‚è€ƒæ­¤æ•™ç¨‹ã€‚ ","date":"2024-08-12","objectID":"/posts/c0ef113/:11:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Include Autocomplete\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯æä¾›ç¼–å†™ C++ #include è¯­å¥æ—¶è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ ","date":"2024-08-12","objectID":"/posts/c0ef113/:12:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Markdown All in One å’Œ Markdown Preview Enhanced\rè¿™ä¸¤ä¸ªæ’ä»¶éƒ½æ˜¯ç”¨äºå¸®åŠ©ç¼–å†™Markdownæ–‡ä»¶ ","date":"2024-08-12","objectID":"/posts/c0ef113/:13:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"SVG Viewer\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯åœ¨VsCodeä¸­ç¼–è¾‘å’Œé¢„è§ˆ SVG æ–‡ä»¶ ","date":"2024-08-12","objectID":"/posts/c0ef113/:14:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Todo Tree\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯ç”¨äºå±•ç¤ºå·¥ä½œåŒºä¸­æ‰€æœ‰çš„å¾…åŠäº‹é¡¹ï¼Œç‚¹å‡»å¯¹åº”äº‹é¡¹åå¯ä»¥è·³è½¬åˆ°å¯¹åº”ä½ç½® ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ³¨é‡Šæ ¼å¼ï¼š è¯¥æ’ä»¶çš„é…ç½®ä»£ç å¦‚ä¸‹ï¼Œç›´æ¥ç²˜è´´è¿› setting.json æ–‡ä»¶ä¸­å³å¯ã€‚ä½¿ç”¨ Ctrl + , å‘½ä»¤ï¼Œå†ç‚¹å‡»å³ä¸Šè§’çš„æ‰“å¼€è®¾ç½®ï¼Œå³å¯æ‰“å¼€ setting.json æ–‡ä»¶ã€‚ \"todo-tree.tree.showScanModeButton\": false, \"todo-tree.filtering.excludeGlobs\": [\"**/node_modules\", \"*.xml\", \"*.XML\"], \"todo-tree.filtering.ignoreGitSubmodules\": true, \"todohighlight.keywords\": [ ], \"todo-tree.tree.showCountsInTree\": true, \"todohighlight.keywordsPattern\": \"TODO:|FIXME:|NOTE:|\\\\(([^)]+)\\\\)\", \"todohighlight.defaultStyle\": { }, \"todohighlight.isEnable\": false, \"todo-tree.highlights.customHighlight\": { \"BUG\": { \"icon\": \"bug\", \"foreground\": \"#F56C6C\", \"type\": \"line\" }, \"FIXME\": { \"icon\": \"flame\", \"foreground\": \"#FF9800\", \"type\":\"line\" }, \"TODO\":{ \"foreground\": \"#FFEB38\", \"type\":\"line\" }, \"NOTE\":{ \"icon\": \"note\", \"foreground\": \"#67C23A\", \"type\":\"line\" }, \"INFO\":{ \"icon\": \"info\", \"foreground\": \"#909399\", \"type\":\"line\" }, \"TAG\":{ \"icon\": \"tag\", \"foreground\": \"#409EFF\", \"type\":\"line\" }, \"HACK\":{ \"icon\": \"versions\", \"foreground\": \"#E040FB\", \"type\":\"line\" }, \"XXX\":{ \"icon\": \"unverified\", \"foreground\": \"#E91E63\", \"type\":\"line\" } }, \"todo-tree.general.tags\": [ \"BUG\", \"HACK\", \"FIXME\", \"TODO\", \"INFO\", \"NOTE\", \"TAG\", \"XXX\" ], \"todo-tree.general.statusBar\": \"total\", ","date":"2024-08-12","objectID":"/posts/c0ef113/:15:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Doxygen Documentation Generator\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯ç”ŸæˆDoxygenèƒ½å¤Ÿè¯»å–çš„æ³¨é‡Šé£æ ¼ï¼Œé…åˆDoxygenè½¯ä»¶ä½¿ç”¨ï¼Œå¯è‡ªåŠ¨ç”Ÿæˆä»£ç çš„è¯´æ˜æ–‡æ¡£ã€‚ é»˜è®¤ä½¿ç”¨æ–¹æ³•ä¸ºï¼šåœ¨è¦ç”Ÿæˆæ³¨é‡Šçš„ä½ç½®è¾“å…¥ /**åç›´æ¥å›è½¦å³å¯ã€‚ PS: ä¸€èˆ¬ä½¿ç”¨é»˜è®¤æ ¼å¼å³å¯ï¼Œå¦‚æœè¦ä¿®æ”¹ç”Ÿæˆæ³¨é‡Šé£æ ¼æ¨¡æ¿å¯ç›´æ¥åœ¨è®¾ç½®(Ctrl + ,å³å¯æ‰“å¼€)â¡æ‰©å±•â¡Doxygen Documentation Generator é‡Œè‡ªè¡Œè°ƒå¼ ","date":"2024-08-12","objectID":"/posts/c0ef113/:16:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["VsCode"],"content":"Remote-SSH\rè¯¥æ’ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯å…è®¸é€šè¿‡ SSH è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼Œå¹¶åœ¨ VSCode ç¯å¢ƒä¸­æ— ç¼åœ°è¿›è¡Œè¿œç¨‹å¼€å‘ã€‚ ç›¸å…³å­¦ä¹ èµ„æ–™ï¼š Remote-SSHçš„ä½¿ç”¨ Ubuntuä¸‹å®‰è£…sshæœåŠ¡ Remote-SSHçš„ä½¿ç”¨(è§†é¢‘) ","date":"2024-08-12","objectID":"/posts/c0ef113/:17:0","tags":["vscodeæ’ä»¶"],"title":"VsCodeæ¨èæ’ä»¶","uri":"/posts/c0ef113/"},{"categories":["C++"],"content":"C++å­¦ä¹ ç¬”è®°","date":"2024-08-07","objectID":"/posts/3b2b064/","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‰è¨€\rç”±äºç¬”è€…å…·å¤‡ä¸€å®šçš„Cè¯­è¨€åŸºç¡€ï¼Œæ‰€ä»¥åœ¨æœ¬æ–‡ä¸­å¯¹äºCè¯­è¨€çš„è¯­æ³•ä¸å†ä¼šè¿›è¡Œèµ˜è¿°ï¼Œä¸»è¦ä¸“æ³¨ä¸C++è¯­æ³•ã€‚ä¸ºäº†æ›´å¥½çš„å­¦ä¹ C++ï¼Œç¬”è€…æ‰¾äº†ä¸€äº›é¢˜ç›®æ¥è¿›è¡Œç»ƒä¹ ï¼Œæ‰€æœ‰é¢˜ç›®ä¸é¢˜è§£å‡å¯åœ¨æ­¤ä»“åº“æ‰¾åˆ°ã€‚ æœ¬å­¦ä¹ ç¬”è®°é€‚ç”¨äº ã€Œå…·å¤‡ä¸€å®šCè¯­è¨€åŸºç¡€ï¼Œæƒ³è¦ä½¿ç”¨C++æ¥ç¼–å†™ä»£ç ã€ çš„è¯»è€…ã€‚ æœ¬æ–‡é˜…è¯»æŒ‡å—ï¼š åœ¨çœ‹è¿‡ç¤ºä¾‹ä»£ç åï¼Œä¸€å®šè¦ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„ç¤ºä¾‹ä»£ç  æˆ– è‡ªå·±åŠ¨æ‰‹é‡å†™ä¸€éã€‚ æ ‡çº¢çš„æ³¨æ„å†…å®¹ä¸€å®šè¦ä»”ç»†çœ‹ï¼ï¼ï¼ ä¸€å®šè¦åšä¸Šé¢ä»“åº“ä¸­çš„é¢˜ï¼ï¼ï¼ä¸€å®šè¦åšä¸Šé¢ä»“åº“ä¸­çš„é¢˜ï¼ï¼ï¼ä¸€å®šè¦åšä¸Šé¢ä»“åº“ä¸­çš„é¢˜ï¼ï¼ï¼ å¥½çš„å‘½åèƒ½å¤Ÿæé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œæœ¬æ–‡ä»ç±»ç« èŠ‚å¼€å§‹é‡‡ç”¨ä»¥ä¸‹å‘½åè§„èŒƒï¼š å±€éƒ¨å˜é‡åå•è¯ä¹‹é—´ä½¿ç”¨ä¸‹åˆ’çº¿éš”å¼€ï¼› ç±»çš„å˜é‡æˆå‘˜ç”¨ä¸‹åˆ’çº¿ä½œä¸ºå‰ç¼€å¦‚ _file_name; ç±»çš„å‡½æ•°åä½¿ç”¨é©¼å³°ç±»å‹ï¼›å¦‚doSomething(); ç±»çš„æˆå‘˜å­˜å–ä½¿ç”¨ å¦‚get_file_name() set_file_name()ï¼› ç±»åæ˜¯PASCALé£æ ¼ï¼Œå³é¦–å­—æ¯å¤§å†™ å¦‚MyClassï¼› å¸¸é‡ç”¨kä½œä¸ºå‰ç¼€åé¢æ˜¯PASCALé£æ ¼å¦‚ kFileName; å…¨å±€å˜é‡ç”¨gä½œä¸ºå‰ç¼€åé¢æ˜¯PASCALé£æ ¼å¦‚ gFileName; å®å®šä¹‰å…¨å¤§å†™ï¼Œä¸­é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€ FILE_NAMEã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:1:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ä»Cåˆ°C++\ræœ¬ç« èŠ‚ä¸»è¦ä»‹ç»ä¸€äº›C++çš„æ¯”è¾ƒé‡è¦ç‰¹æ€§ï¼Œä¾‹å¦‚å¦‚ä½•ç”³è¯·å’Œé‡Šæ”¾å†…å­˜ç©ºé—´ã€boolå’Œstringç±»å‹ã€å‘½åç©ºé—´ç­‰ã€‚è¿™äº›æ–°ç‰¹æ€§å¯ä»¥ç»™æˆ‘ä»¬ç¼–ç¨‹æä¾›éå†ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¸ƒå°”ç±»å‹(bool)\råœ¨Cè¯­è¨€ä¸­ï¼Œæ²¡æœ‰\"çœŸ\"ä¸\"å‡\"çš„æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ä¸€ä¸ªæ•´å½¢å˜é‡çš„å€¼æ¥è¡¨ç¤ºçœŸå‡ï¼Œå…¶å€¼ä¸º 1 è¡¨ç¤ºçœŸï¼Œä¸º 0 è¡¨ç¤ºå‡ã€‚ä»¥ä¸‹ä¸ºä¸€ä¸ªä¾‹å­ï¼š int IsOddNum(int n) //åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å¥‡æ•° { int flag; if(n % 2 == 0) flag = 0; else flag = 1; return flag; } ç„¶è€Œï¼Œè¿™ç§åšæ³•æœ‰å‡ ä¸ªç¼ºç‚¹ï¼š å¯è¯»æ€§å·®ï¼š ä½¿ç”¨æ•´æ•°æ¥è¡¨ç¤ºå¸ƒå°”å€¼å¯èƒ½ä¼šè®©ä»£ç çš„å¯è¯»æ€§é™ä½ï¼Œå› ä¸ºè¯»è€…éœ€è¦è®°ä½0å’Œé0å€¼çš„å«ä¹‰ã€‚ å­˜åœ¨ç±»å‹å®‰å…¨é—®é¢˜ï¼š æ•´æ•°å¯ä»¥è¿›è¡Œç®—æœ¯è¿ç®—ï¼Œè¿™å¯èƒ½å¯¼è‡´æ„å¤–çš„ç±»å‹è½¬æ¢å’Œé”™è¯¯ã€‚ è¯­ä¹‰ä¸æ˜ç¡®ï¼š æ•´æ•°ç±»å‹çš„ä½¿ç”¨æ²¡æœ‰æ˜ç¡®è¡¨è¾¾å‡ºå˜é‡çš„å¸ƒå°”è¯­ä¹‰ã€‚ æ‰€ä»¥ï¼ŒC++æä¾›äº† bool ç±»å‹æ¥è¡¨ç¤ºçœŸå‡ï¼Œè¯¥ç±»å‹çš„å˜é‡åªæœ‰ true å’Œ false ä¸¤ç§å–å€¼ã€‚é‚£ä¹ˆä¸Šé¢çš„ä¾‹å­åˆ™å¯æ”¹ä¸ºï¼š bool IsOddNum(int n) { bool flag; if(n % 2 == 0) flag = true; else flag = false; return flag; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è¾“å…¥è¾“å‡º\råœ¨C++ä¸­ï¼Œä½¿ç”¨è¾“å…¥è¾“å‡ºæ—¶ï¼Œéœ€å…ˆåŒ…å«å¤´æ–‡ä»¶ iostreamã€‚ä½¿ç”¨ cinä»æ ‡å‡†è¾“å…¥è®¾å¤‡ï¼ˆé€šå¸¸æ˜¯é”®ç›˜ï¼‰è¯»å–æ•°æ®ï¼Œä½¿ç”¨ cout å‘æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼ˆé€šå¸¸æ˜¯å±å¹•ï¼‰å‘é€æ•°æ®ï¼Œä½¿ç”¨ cerrå‘æ ‡å‡†é”™è¯¯è®¾å¤‡ï¼ˆé€šå¸¸æ˜¯å±å¹•ï¼‰å‘é€é”™è¯¯ä¿¡æ¯ã€‚ cinè¦é…åˆ \u003e\u003eè¿ç®—ç¬¦ä½¿ç”¨ï¼Œcoutå’Œcerrè¦é…åˆ\u003c\u003cè¿ç®—ç¬¦ä½¿ç”¨ã€‚ cerr é»˜è®¤æƒ…å†µä¸‹æ˜¯æ— ç¼“å†²çš„ï¼Œè¿™æ„å‘³ç€å‘é€åˆ° cerr çš„è¾“å‡ºä¼šç«‹å³æ˜¾ç¤ºåœ¨æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆé€šå¸¸æ˜¯æ§åˆ¶å°ï¼‰ï¼Œåœ¨ç¨‹åºå‘ç”Ÿä¸¥é‡é”™è¯¯æ—¶ï¼Œä¹Ÿèƒ½ä¿è¯é”™è¯¯ä¿¡æ¯çš„åŠæ—¶æ˜¾ç¤ºã€‚è€Œ cout çš„è¾“å‡ºä¼šè¢«ç¼“å­˜ç›´åˆ°ç¼“å†²åŒºæ»¡æˆ–è€…é‡åˆ° endl æ—¶æ‰åˆ·æ–°è¾“å‡ºã€‚ PSï¼šcinã€coutã€cerr éƒ½æ˜¯C++çš„å†…ç½®å¯¹è±¡ï¼Œä¸æ˜¯ C++ ä¸­çš„å…³é”®å­—ï¼Œå…¶æœ¬è´¨æ˜¯å‡½æ•°è°ƒç”¨ï¼Œé‡‡ç”¨è¿ç®—ç¬¦é‡è½½æ¥å®ç°çš„(åé¢ä¼šè®²è§£)ã€‚ ä¸€ä¸ªç®€å•ç¤ºä¾‹å¦‚ä¸‹ï¼š #include\u003ciostream\u003e using namespace std; //ä½¿ç”¨æ ‡å‡†å‘½åç©ºé—´ int main() { int n; float a, b, c; cout \u003c\u003c \"Please enter an integer\" \u003c\u003c endl; //endl ç­‰ä»·äºCè¯­è¨€ä¸­çš„ \\n ç¬¦å· cin \u003e\u003e n; cout \u003c\u003c \"The integer you entered is \" \u003c\u003c n \u003c\u003c endl; cout \u003c\u003c \"Please enter three floating point numbers\" \u003c\u003c endl; cin \u003e\u003e a \u003e\u003e b \u003e\u003e c; cout \u003c\u003c \"The three floating point numbers you entered are \" \u003c\u003c a \u003c\u003c \",\"\u003c\u003c b \u003c\u003c \",\" \u003c\u003c c \u003c\u003c endl; return 0; } cin å¯ä»¥è¿ç»­çš„ä»é”®ç›˜è¯»å–æ•°æ®ï¼Œä»¥ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ä½œä¸ºåˆ†éš”ç¬¦(æŒ‰ä¸‹çš„å›è½¦é”®ä¼šè¢«è½¬æ¢ä¸ºæ¢è¡Œç¬¦å­˜å…¥ç¼“å†²åŒº)ï¼Œå½“ cin é‡åˆ°è¿™äº›åˆ†éš”ç¬¦æ—¶ï¼Œå®ƒä¼šåœæ­¢ä¸ºå½“å‰å˜é‡è¯»å–æ•°æ®ã€‚ cinåœæ­¢è¯»å…¥æ•°æ®çš„å‡ ç§æƒ…å†µ\ré‡åˆ°ç©ºç™½å­—ç¬¦ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œcin ä½¿ç”¨ç©ºç™½å­—ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ \\tã€æ¢è¡Œç¬¦ \\nï¼‰ä½œä¸ºå­—æ®µåˆ†éš”ç¬¦ã€‚å½“ cin é‡åˆ°è¿™äº›å­—ç¬¦æ—¶ï¼Œå®ƒä¼šåœæ­¢ä¸ºå½“å‰å˜é‡è¯»å…¥æ•°æ®ã€‚ è¾“å…¥ä¸ç±»å‹ä¸åŒ¹é…ï¼š å½“å°è¯•å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå˜é‡ç±»å‹å¤±è´¥æ—¶ï¼Œcin ä¼šåœæ­¢å‘è¯¥å˜é‡è¯»å…¥æ•°æ®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥åŒ…å«éæ•°å­—å­—ç¬¦è€Œç¨‹åºè¯•å›¾å°†å…¶è¯»å…¥ä¸€ä¸ªæ•´æ•°å˜é‡ï¼Œcin å°†åœæ­¢å¹¶è®¾ç½®é”™è¯¯æ ‡å¿—ã€‚ è¾¾åˆ°è¾“å…¥æµçš„æœ«å°¾ï¼š å¦‚æœè¾“å…¥æ¥æºï¼ˆå¦‚é”®ç›˜è¾“å…¥æˆ–æ–‡ä»¶ï¼‰å·²ç»ç»“æŸï¼ˆEOFï¼‰ï¼Œcin å°†åœæ­¢è¯»å…¥æ•°æ®ã€‚ æ‰‹åŠ¨æ¸…ç©ºè¾“å…¥ç¼“å†²åŒºï¼š é€šè¿‡è°ƒç”¨ cin.ignore() æ–¹æ³•ï¼Œå¯ä»¥å¿½ç•¥è¾“å…¥ç¼“å†²åŒºä¸­çš„å­—ç¬¦ç›´åˆ°é‡åˆ°æŒ‡å®šçš„åˆ†éš”ç¬¦æˆ–è€…è¾¾åˆ°å¿½ç•¥çš„å­—ç¬¦æ•°ä¸Šé™ã€‚ ä½¿ç”¨ std::getlineï¼š å¦‚æœä½¿ç”¨ std::getline(std::cin, str) æ¥è¯»å–ä¸€è¡Œæ–‡æœ¬ï¼Œcin ä¼šåœ¨é‡åˆ°æ¢è¡Œç¬¦ä¹‹å‰è¯»å–æ‰€æœ‰å­—ç¬¦ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨æä¾›çš„å­—ç¬¦ä¸²å˜é‡ä¸­ã€‚é‡åˆ°æ¢è¡Œç¬¦åï¼Œcin åœæ­¢è¯»å…¥å¹¶ä¸¢å¼ƒæ¢è¡Œç¬¦ã€‚ è®¾ç½® cin çš„é”™è¯¯çŠ¶æ€ï¼š å¦‚æœ cin é‡åˆ°ä¸€ä¸ªå®ƒæ— æ³•è§£æçš„è¾“å…¥ï¼ˆä¾‹å¦‚ï¼Œè¾“å…¥çš„æ•°æ®ç±»å‹ä¸åŒ¹é…ï¼‰ï¼Œå®ƒä¼šè®¾ç½®é”™è¯¯çŠ¶æ€ã€‚å¦‚æœé”™è¯¯çŠ¶æ€è¢«è®¾ç½®ï¼Œcin å°†åœæ­¢è¿›ä¸€æ­¥çš„è¾“å…¥æ“ä½œï¼Œç›´åˆ°é”™è¯¯çŠ¶æ€è¢«æ¸…é™¤ã€‚ æµçš„åŒæ­¥æ“ä½œï¼š åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœ cin ä¸ cout åŒæ­¥ï¼ˆcin.tie() è¿”å› \u0026coutï¼‰ï¼Œcout çš„åˆ·æ–°æ“ä½œï¼ˆå¦‚ä½¿ç”¨ std::endl æˆ– cout.flush()ï¼‰å¯èƒ½ä¼šå½±å“ cin çš„è¡Œä¸ºã€‚ å¤–éƒ¨å› ç´ ï¼š ä¾‹å¦‚ï¼Œå¦‚æœä»æ–‡ä»¶ä¸­è¯»å–ï¼Œæ–‡ä»¶çš„å®é™…ç»“æŸæˆ–è¯»å–æ“ä½œè¢«å¤–éƒ¨ç¨‹åºæˆ–æ“ä½œç³»ç»Ÿä¸­æ–­ã€‚ cerrçš„ä½¿ç”¨æ–¹æ³•ä¸coutä¸€è‡´ï¼Œåªä¸è¿‡å…¶é€šå¸¸ç”¨äºè¾“å‡ºé”™è¯¯ä¿¡æ¯ã€‚æƒ³è¦æ›´è¯¦ç»†çš„å­¦ä¹ è¿™ä¸‰ä¸ªå¯¹è±¡ï¼Œå¯æµè§ˆæ­¤ç½‘ç«™ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‘½åç©ºé—´\rC++è¯­è¨€å¼•å…¥å‘½åç©ºé—´è¿™ä¸€æ¦‚å¿µä¸»è¦æ˜¯ä¸ºäº†é¿å…å‘½åå†²çªï¼Œå…¶å…³é”®å­—ä¸º namespaceã€‚ ä¾‹å¦‚ï¼Œä¸¤ä¸ªä¸åŒçš„åº“å¯èƒ½éƒ½æœ‰åä¸º log çš„å‡½æ•°ï¼Œå¦‚æœä¸åŠ ä»¥åŒºåˆ†ï¼Œå°±ä¼šäº§ç”Ÿå†²çªã€‚å‘½åç©ºé—´å…è®¸æ¯ä¸ªåº“å°† log å‡½æ•°æ”¾åœ¨è‡ªå·±çš„å‘½åç©ºé—´ä¸­ï¼Œå¦‚ myLib::log å’Œ yourLib::logï¼Œè¿™æ ·å°±å¯ä»¥åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°è€Œä¸ä¼šå‘ç”Ÿå†²çªã€‚ä»£ç å¦‚ä¸‹ï¼š // myLib.h #ifndef MYLIB_H #define MYLIB_H namespace myLib { void log(const std::string\u0026 message); } #endif // MYLIB_H // myLib.cpp namespace myLib { void log(const std::string\u0026 message) { // å®ç° myLib åº“çš„æ—¥å¿—åŠŸèƒ½ std::cout \u003c\u003c \"MyLib: \" \u003c\u003c message \u003c\u003c std::endl; } } /* ---------------------------------------åˆ†å‰²çº¿--------------------------------------- */ // yourLib.h #ifndef YOURLIB_H #define YOURLIB_H namespace yourLib { void log(const std::string\u0026 message); } #endif // YOURLIB_H // yourLib.cpp namespace yourLib { void log(const std::string\u0026 message) { // å®ç° yourLib åº“çš„æ—¥å¿—åŠŸèƒ½ std::cout \u003c\u003c \"YourLib: \" \u003c\u003c message \u003c\u003c std::endl; } } å½“ä½ æƒ³è¦åœ¨ä¸»ç¨‹åºæˆ–å…¶ä»–ä»£ç ä¸­ä½¿ç”¨è¿™ä¸¤ä¸ªåº“çš„ log å‡½æ•°æ—¶ï¼Œä½ å¯ä»¥æŒ‰ç…§ å‘½åç©ºé—´åç§°::Name çš„æ ¼å¼æ¥å¼•ç”¨å®ƒä»¬ï¼š #include \"myLib.h\" #include \"yourLib.h\" int main() { myLib::log(\"This is a log message from myLib.\"); yourLib::log(\"This is a log message from yourLib.\"); return 0; } é™¤äº† ä½¿ç”¨åŸŸè§£æç¬¦::ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ using namespace å‘½åç©ºé—´åç§° çš„æ–¹å¼æ¥å¼•ç”¨å®ƒä»¬ï¼š #include \"myLib.h\" #include \"yourLib.h\" using namespace myLib; int main() { log(\"This is a log message from myLib.\"); //ä½¿ç”¨çš„æ˜¯myLibçš„logå‡½æ•° yourLib::log(\"This is a log message from yourLib.\"); return 0; } PSï¼š åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œåº”é¿å…ä½¿ç”¨ using namespace XXXï¼Œå› ä¸ºå¤´æ–‡ä»¶ä¼šè¢«å…¶ä»–æ–‡ä»¶æ‰€åŒ…å«ï¼Œè¿™å°±ä¼šå¯¼è‡´XXXå‘½åç©ºé—´è¢«å¤šä¸ªæ–‡ä»¶åŒ…å«ã€‚å¯¹äºæŸäº›ç¨‹åºæ¥è¯´ï¼Œç”±äºä¸ç»æ„é—´åŒ…å«äº†ä¸€äº›åå­—ï¼Œåè€Œå¯èƒ½äº§ç”Ÿå§‹æ–™æœªåŠçš„åå­—å†²çªã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¼•ç”¨\rå¼•ç”¨å¯ä»¥çœ‹åšæ˜¯ã€Œè¢«å¼•ç”¨å¯¹è±¡çš„å­˜å‚¨ç©ºé—´çš„åˆ«åã€ï¼Œåœ¨å£°æ˜å¼•ç”¨æ—¶ï¼Œå¿…é¡»åŒæ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚å¼•ç”¨çš„å£°æ˜æ–¹æ³•å’Œç¤ºä¾‹å¦‚ä¸‹ï¼š // æ ¼å¼ä¸ºï¼šç±»å‹ \u0026å˜é‡å = è¢«å¼•ç”¨å¯¹è±¡; #include\u003ciostream\u003e using namespace std; int main() { int a = 7; int \u0026b = a; cout \u003c\u003c \"a value is: \" \u003c\u003c a \u003c\u003c endl; cout \u003c\u003c \"b value is: \" \u003c\u003c b \u003c\u003c endl; cout \u003c\u003c \"a addr = \" \u003c\u003c \u0026a \u003c\u003c \", b addr = \" \u003c\u003c \u0026b \u003c\u003c \".\" \u003c\u003c endl; return 0; } /** è¿è¡Œç»“æœå¦‚ä¸‹ï¼š * a value is: 7 * b value is: 7 * a addr = 0x61fe14, b addr = 0x61fe14. */ ä»è¿™æ®µç¨‹åºä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå˜é‡ a å’Œ b çš„åœ°å€ç›¸åŒï¼Œå³åœ°å€ä¸º 0x61fe14 çš„å­˜å‚¨ç©ºé—´æ‹¥æœ‰ä¸¤ä¸ªåå­—ï¼ša å’Œ bã€‚å˜é‡ a å’Œ b å‡å¯è®¿é—®å’Œä¿®æ”¹è¯¥å­˜å‚¨ç©ºé—´çš„å­˜å‚¨çš„å€¼ã€‚å¦‚æœä¸æƒ³è®©å¼•ç”¨å˜é‡ä¿®æ”¹å€¼ï¼Œå¯ä½¿ç”¨ const å…³é”®å­—ã€‚ å‡½æ•°å¼•ç”¨å‚æ•°\rå¼•ç”¨å˜é‡ç»å¸¸è¢«ç”¨ä½œå‡½æ•°çš„å‚æ•°ï¼ˆå°¤å…¶æ˜¯å‚æ•°ä¸ºè¾ƒå¤§çš„ç»“æ„ä½“ã€å¯¹è±¡æ—¶ï¼‰ï¼Œè¿™ä½¿å¾—å¯ä»¥å¿«é€Ÿä¼ é€’å‚æ•°ä¸”èƒ½åœ¨è¢«è°ƒç”¨çš„å‡½æ•°ä¸­ä¿®æ”¹è°ƒç”¨å‡½æ•°ä¸­çš„å˜é‡ï¼ˆä¸æŒ‡é’ˆæ•ˆæœç±»ä¼¼ï¼‰ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š #include\u003ciostream\u003e using namespace std; void swap(int \u0026a, int \u0026b); int main() { int num1 = 10; int num2 = 20; cout \u003c\u003c num1 \u003c\u003c \" \"\u003c\u003c num2 \u003c\u003c endl; swap(num1, num2); cout \u003c\u003c num1 \u003c\u003c \" \" \u003c\u003c num2 \u003c\u003c endl; return 0; } void swap(int \u0026a, int \u0026b) { int temp = a; a = b; b = temp; } å‡½æ•°å¼•ç”¨è¿”å›å€¼\rå‡½æ•°çš„è¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ã€‚æ™®é€šçš„ä¼ å€¼è¿”å›ï¼Œæ˜¯å°†è¿ç®—ç»“æœæ‹·è´åˆ°ä¸€ä¸ªä¸´æ—¶å­˜å‚¨ç©ºé—´ï¼Œå†ä»è¯¥ä¸´æ—¶å­˜å‚¨ç©ºé—´æ‹·è´ç»™å¯¹åº”å˜é‡ï¼›å½“æˆ‘ä»¬å°†å‡½æ•°è¿”å›å€¼å£°æ˜ä¸ºå¼•ç”¨æ—¶ï¼Œä¼šç›´æ¥å°†è¿ç®—ç»“æœæ‹·è´ç»™å¯¹åº”å˜é‡ï¼Œä¸ç»è¿‡ä¸´æ—¶å­˜å‚¨ç©ºé—´ã€‚ ä½†éœ€æ³¨æ„å‡½æ•°è¿”å›çš„å¼•ç”¨ä¸èƒ½æ˜¯å‡½æ•°ä½“å†…çš„ä¸´æ—¶å˜é‡ã€‚å› ä¸ºå‡½æ•°è¿è¡Œå®Œï¼Œå…¶ç”³è¯·çš„å­˜å‚¨ç©ºé—´å°±ä¼šè¢«é”€æ¯ï¼Œè¿™æ—¶æˆ‘ä»¬è¿˜æœªè¿›è¡Œæ•°æ®çš„æ‹·è´ï¼Œèµ‹å€¼æ“ä½œå°±ä¸èƒ½æ­£ç¡®æ‰§è¡Œã€‚ #include\u003ciostream\u003e using namespace std; int \u0026 valplus1(int \u0026a); int \u0026 valplus2(int c); int main() { int num1 = 10; int num2 = 7; int num3; num3 = valplus1(num1); // èƒ½å¤Ÿæ­£ç¡®èµ‹å€¼ï¼Œä¸”ä¸ç»è¿‡ä¸´æ—¶å­˜å‚¨ç©ºé—´ cout\u003c\u003c num1 \u003c\u003c \" \" \u003c\u003c num3 \u003c\u003cendl; num3 = valplus2(num2); // ä¸èƒ½æ­£ç¡®èµ‹å€¼ï¼Œå› ä¸ºæ‹·è´æ•°æ®å‰å­˜å‚¨ç©ºé—´å·²ç»è¢«é”€æ¯ cout\u003c\u003c num2 \u003c\u003c \" \" \u003c\u003c num3 \u003c\u003cendl; return 0; } int \u0026 valplus1(int \u0026n) { n += 5; return n; } int \u0026 valplus2(int n) { int t = n + 5; return t; } ä½•æ—¶ä½¿ç”¨å¼•ç”¨å‚æ•°çš„ä¸€äº›æŒ‡å¯¼åŸåˆ™\rå¦‚æœå‚æ•°æ˜¯æ•°ç»„æˆ–åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ä½¿ç”¨æŒ‡é’ˆ å¦‚æœå‚æ•°æ˜¯ç±»å¯¹è±¡æˆ–ç»“æ„å˜é‡ï¼Œåˆ™ä½¿ç”¨å¼•ç”¨ ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:4","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¸¸é‡ä¸åªè¯»å˜é‡\rå¸¸é‡åœ¨å­¦ä¹ Cè¯­è¨€æ—¶ï¼Œå°±å·²æ¥è§¦ï¼Œè¿™é‡Œå†è¿›è¡Œç®€å•çš„å›é¡¾ä¸€ä¸‹ï¼Œå¸¸é‡ï¼ˆConstantï¼‰ æ˜¯æŒ‡é‚£äº›ã€Œåœ¨ç¼–è¯‘æœŸé—´å°±èƒ½ç¡®å®šçš„å€¼ï¼Œä¸”åœ¨è¿è¡ŒæœŸé—´è¿™ä¸ªç¡®å®šçš„å€¼ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€ã€‚ 42; // è¿™æ˜¯ int å‹ 42u; // è¿™æ˜¯ unsigned int å‹ 42U; // è¿™ä¹Ÿæ˜¯ unsigned int å‹ 42l; // è¿™æ˜¯ long å‹ 42L; // è¿™ä¹Ÿæ˜¯ long å‹ 42ll; // è¿™æ˜¯ long long å‹ 42ul; // è¿™æ˜¯ unsigned long å‹ 42ull; // è¿™æ˜¯ unsigned long long å‹ 3.14f; // è¿™æ˜¯ float å‹ 1e7L; // è¿™æ˜¯ long double å‹ 'A'; // è¿™æ˜¯ char å‹ \"abc\"; // è¿™æ˜¯ string å‹ true; // è¿™æ˜¯ bool å‹ 1 + 1; // è¿™ä¹Ÿæ˜¯å¸¸é‡ // æ³¨ï¼šå­—é¢é‡ä¸åŒ…æ‹¬åˆ†å·;ï¼Œæ­¤å¤„åŠ ä¸Šåˆ†å·åªä¸ºæ¼”ç¤ºä½œç”¨ã€‚ // å­—é¢é‡ï¼ˆLiteralï¼‰æ˜¯æŒ‡åœ¨ C++ ä»£ç ä¸­ï¼Œå®ƒçš„å†™æ³•èƒ½ç›´æ¥ä½“ç°å®ƒæ‰€è¡¨è¾¾çš„å€¼çš„å¸¸é‡ã€‚ åªè¯»å˜é‡æŒ‡çš„æ˜¯ã€Œä¸€æ—¦è¢«åˆå§‹åŒ–èµ‹å€¼ä¹‹åï¼Œå…¶å€¼å°±ä¸èƒ½è¢«æ›´æ”¹çš„å˜é‡ã€ã€‚å¦‚ä½•å£°æ˜å¹¶å®šä¹‰ä¸€ä¸ªå˜é‡ä¸ºåªè¯»çš„ï¼Ÿå¾ˆç®€å•ï¼Œåªéœ€åœ¨ç±»å‹è¯´æ˜ç¬¦å‰åŠ ä¸Š const å…³é”®è¯ä¿®é¥°å³å¯ã€‚æ¯”å¦‚ï¼š const int a = 37; è¿™æ · a å°±æˆä¸ºäº†ä¸€ä¸ª int ç±»å‹çš„ï¼Œåªè¯»çš„å˜é‡ã€‚ä»æ­¤ä»¥å a çš„å€¼ä¸èƒ½å‘ç”Ÿå˜åŒ–ï¼Œå¦‚ä»¥ä¸‹è¡Œä¸ºéƒ½ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼š cin \u003e\u003e a; // ç¼–è¯‘é”™è¯¯ï¼šæ— æ³•å‘ a ä¸­è¾“å…¥ï¼Œå› ä¸º a æ— æ³•å‘ç”Ÿå˜åŒ– a = 56; // ç¼–è¯‘é”™è¯¯ï¼šæ— æ³•ä¸º a èµ‹å€¼ PSï¼š åªè¯»å˜é‡å¿…é¡»åœ¨å®šä¹‰æ—¶å°±å®Œæˆåˆå§‹åŒ–ã€‚ å¸¸é‡ä¸åªè¯»å˜é‡çš„å…³ç³»\rä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œåªè¯»å˜é‡å’Œå¸¸é‡éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼Œå°±æ˜¯â€œæ— æ³•åœ¨è¿è¡ŒæœŸé—´æ›´æ”¹å®ƒçš„å€¼â€ã€‚é‚£ä¹ˆèƒ½å¦è¯´åªè¯»å˜é‡å°±æ˜¯å¸¸é‡å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚è¯·çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š #include \u003ciostream\u003e using namespace std; int main() { int a{0}; cin \u003e\u003e a; const int b{a}; // b = 42; // ç¼–è¯‘é”™è¯¯ } ç¬¬ 8 è¡Œå£°æ˜äº†ä¸€ä¸ªåªè¯»å˜é‡ b ï¼Œå› æ­¤ä¸èƒ½åœ¨ç¬¬ 9 è¡Œé€šè¿‡èµ‹å€¼æ›´æ”¹å®ƒçš„å€¼ã€‚ä½†æ˜¯ä½ ä¹Ÿæ³¨æ„åˆ°ï¼Œç¨‹åºåœ¨ç¼–è¯‘æœŸé—´æ˜¯æ— æ³•å¾—çŸ¥ b çš„å€¼æ˜¯å¤šå°‘çš„ã€‚å› ä¸º b æ˜¯ç”¨ a åˆå§‹åŒ–çš„ï¼Œä½†æ˜¯ a çš„å€¼åˆ™æ˜¯åœ¨ç¬¬ 7 è¡Œç”±è¾“å…¥æä¾›çš„ã€‚æ‰€ä»¥ b çš„å€¼åªèƒ½åœ¨è¿è¡ŒæœŸé—´ç¡®å®šï¼Œæ— æ³•åœ¨ç¼–è¯‘æœŸé—´å¾—çŸ¥ï¼› b ä¸æ»¡è¶³å¸¸é‡çš„å®šä¹‰ã€‚ ä¸Šé¢è¿™ä¸ªä¾‹å­è¡¨ç¤ºï¼Œå¹¶éæ‰€æœ‰çš„åªè¯»å˜é‡éƒ½æ˜¯å¸¸é‡ã€‚é‚£ä¹ˆä»€ä¹ˆæ—¶å€™åªè¯»å˜é‡å¯ä»¥æ˜¯å¸¸é‡å‘¢ï¼Ÿæ¡ä»¶ä¹Ÿå¾ˆç®€å•ï¼šåªæœ‰ä½¿ç”¨å¸¸é‡ä½œä¸ºåˆå§‹åŒ–å€¼åˆå§‹åŒ–çš„åªè¯»å˜é‡æ‰æ˜¯å¸¸é‡ã€‚æ¯”å¦‚ï¼š #include \u003ciostream\u003e using namespace std; int main() { const int a{42}; const int b{a}; const int c{a + b}; // ä»¥ä¸Šä¸‰ä¸ªåªè¯»å˜é‡å‡æ˜¯å¸¸é‡ } a æ˜¯ç”± 42 åˆå§‹åŒ–çš„ï¼Œ 42 æ˜¯å¸¸é‡ï¼Œaçš„å€¼åœ¨ç¼–è¯‘æ—¶æœŸå°±èƒ½ç¡®å®šï¼Œæ‰€ä»¥ a å°±æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚åŒç†ï¼Œåªè¯»å˜é‡ b ç”± a åˆå§‹åŒ–ï¼Œ a å·²ç»æ˜¯ä¸€ä¸ªå¸¸é‡äº†ï¼Œé‚£ä¹ˆ b å› è€Œä¹Ÿæ˜¯ä¸€ä¸ªå¸¸é‡ã€‚å†æ¥çœ‹ c ï¼Œ a å’Œ b å·²ç»æ˜¯å¸¸é‡äº†ï¼Œé‚£ä¹ˆç”±å¸¸é‡ç»„æˆçš„è¡¨è¾¾å¼ä¹Ÿæ˜¯å¸¸é‡ï¼›æ•… a + b ä¹Ÿæ˜¯å¸¸é‡ã€‚æ‰€ä»¥åªè¯»å˜é‡ c ä¹Ÿæ˜¯å¸¸é‡ã€‚ ä½ ä¼šå‘ç°åˆ¤æ–­ä¸€ä¸ªåªè¯»å˜é‡æ˜¯å¦æ˜¯å¸¸é‡è¿™ä»¶äº‹æƒ…å¹¶ä¸å®¹æ˜“ï¼Œå°¤å…¶åœ¨æ›´å¤§çš„ç¨‹åºé‡Œã€‚æ˜¯ä¸æ˜¯å¸¸é‡è¿™ä»¶äº‹æƒ…æœ‰æ—¶å€™ä¼šæ˜¾å¾—å¾ˆé‡è¦ï¼ˆæ¯”å¦‚å°†æ¥ä¼šå­¦çš„æ•°ç»„é•¿åº¦ï¼Œä»¥åŠæ¨¡æ¿æ³›å‹ç¼–ç¨‹çš„æ—¶å€™å¸¸é‡ä¸å¦ä¹Ÿå¾ˆå…³é”®ï¼‰ã€‚å› æ­¤ C++ æä¾›äº†ä¸€ä¸ªå…³é”®å­—ç”¨äºå¸¸é‡ï¼š constexpr ã€‚ å½“ constexpr å‡ºç°åœ¨å£°æ˜è¯­å¥çš„æ—¶å€™ï¼ŒæŒ‡æ˜è¿™ä¸ªå£°æ˜å¼•å…¥çš„å˜é‡æ˜¯ä¸€ä¸ªå¸¸é‡ã€‚å¦‚æœä¸æ˜¯å¸¸é‡çš„è¯ï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚ä¾‹å¦‚ï¼š #include \u003ciostream\u003e using namespace std; int main() { constexpr int a{42}; // a æ˜¯å¸¸é‡ï¼ˆå½“ç„¶å¸¸é‡å¿…ç„¶æ˜¯åªè¯»çš„ã€‚ï¼‰ int b; // b æ—¢ä¸æ˜¯åªè¯»å˜é‡ï¼Œä¹Ÿä¸æ˜¯å¸¸é‡ const int c{b}; // c ä¸æ˜¯å¸¸é‡ï¼Œä½†å®ƒæ˜¯åªè¯»å˜é‡ // constexpr int d{b}; // ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºè¦æ±‚ d æ˜¯å¸¸é‡ï¼Œä½† d æœªç”¨å¸¸é‡åˆå§‹åŒ– constexpr int e{a}; // OK, e æ˜¯å¸¸é‡ï¼Œç”±å¸¸é‡åˆå§‹åŒ– } å¯¹äºå˜é‡æ¥è¯´ï¼Œå…³é”®å­— constexpr è•´å«äº† const ã€‚ï¼ˆå› ä¸ºå¸¸é‡å¿…ç„¶æ˜¯åªè¯»çš„ï¼šè¿è¡Œæ—¶å€¼ä¸ä¼šå‘ç”Ÿæ›´æ”¹ã€‚ï¼‰å› æ­¤åœ¨éœ€è¦å¸¸é‡çš„åœºåˆï¼Œå»ºè®®ç”¨ constexpr ä»£æ›¿ const ï¼Œé¿å…æ„æ–™ä¹‹å¤–çš„é”™è¯¯ã€‚ é¡¶å±‚ const å’Œ åº•å±‚ const\ré¡¶å±‚constï¼š ä½œç”¨äºå˜é‡æˆ–æŒ‡é’ˆæœ¬èº«çš„constï¼Œå³å˜é‡æˆ–æŒ‡é’ˆçš„å€¼ä¸èƒ½ä¿®æ”¹ã€‚ åº•å±‚constï¼š ä½œç”¨äºæŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æˆ–å¼•ç”¨çš„å¯¹è±¡çš„constï¼Œé€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨ä¸èƒ½ä¿®æ”¹é‚£ä¸ªå¯¹è±¡ã€‚ å¯¹äºå¼•ç”¨æ¥è¯´ï¼Œåªå­˜åœ¨åº•å±‚constï¼Œå› ä¸ºå¼•ç”¨æœ¬èº«çš„å€¼åœ¨åˆå§‹åŒ–å°±å®šäº†ï¼Œå¹¶ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥é¡¶å±‚constå¯¹äºå¼•ç”¨æ¥è¯´æ²¡æœ‰æ„ä¹‰ã€‚ // è¿™é‡Œçš„ const æ˜¯åº•å±‚ constï¼ŒæŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å®¹ï¼ˆintç±»å‹çš„å€¼ï¼‰ä¸èƒ½é€šè¿‡ ptr ä¿®æ”¹ void func(const int *ptr) { // *ptr = 100; // é”™è¯¯: ä¸èƒ½é€šè¿‡ const æŒ‡é’ˆä¿®æ”¹å€¼ } // x æ˜¯å¯¹ä¸€ä¸ª const int çš„å¼•ç”¨ï¼Œå³åº•å±‚ const void print(const int \u0026x) { // x = 100; // é”™è¯¯: ä¸èƒ½ä¿®æ”¹ const å¼•ç”¨ç»‘å®šçš„å¯¹è±¡ } // è¿™é‡Œçš„ const æ˜¯é¡¶å±‚ constï¼ŒæŒ‡é’ˆçš„å€¼ï¼ˆä¸€ä¸ªå­˜å‚¨intç±»å‹çš„ç©ºé—´åœ°å€ï¼‰ä¸èƒ½ä¿®æ”¹ void func(int * const ptr) { ...... } //é¡¶å±‚constï¼Œaçš„å€¼ä¸èƒ½è¢«ä¿®æ”¹ void func(const int a) { ...... } //å·¦è¾¹çš„constä¸ºåº•å±‚constï¼Œå³è¾¹çš„constä¸ºé¡¶å±‚const void func(const int * const ptr) { ...... } ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:5","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‡½æ•°ä¸const\rä¸Šä¸€å°èŠ‚ä»‹ç»äº†constæ­é…å˜é‡çš„ä½¿ç”¨ï¼Œå…¶å®constä¹Ÿèƒ½é…åˆå‡½æ•°æ¥ä½¿ç”¨ï¼Œä¸»è¦æœ‰ä¸‰ç§ç”¨æ³•ï¼š // 1. constå‚æ•°ï¼Œé˜²æ­¢å¯¹åº”å®å‚è¢«ä¿®æ”¹ void Func(const int \u0026a, const int *b, int c) // { a = 1; // é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹ a çš„å€¼ *b = 2; // é”™è¯¯ï¼Œä¸èƒ½ä¿®æ”¹ *b çš„å€¼ï¼Œä½†å¯ä¿®æ”¹ b çš„å€¼ } // 2. constæˆå‘˜å‡½æ•°ï¼ˆå³ç±»ä¸­çš„å‡½æ•°ï¼‰ï¼Œè¡¨æ˜è¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹ä»»ä½•æˆå‘˜å˜é‡ // classæ˜¯å®šä¹‰ç±»çš„å…³é”®å­—ï¼Œpublicå’Œprivateæ˜¯å®šä¹‰è®¿é—®æƒé™çš„å…³é”®å­—ï¼Œåé¢éƒ½ä¼šè¯¦ç»†è®²è§£ class MyClass { public: void set_value(int value) { _value = value; } // get_value()å‡½æ•°ä¸ä¼šä¿®æ”¹ä»»ä½•æˆå‘˜å˜é‡ï¼Œå¦‚æœä¿®æ”¹äº†ä¼šæŠ¥é”™ã€‚ int get_value() const { return _value; } /** * ä½¿ç”¨ const ä¿®é¥°çš„æˆå‘˜å‡½æ•°å°±ä¸€å®šè¦ç¡®ä¿å…¶ä¸ä¼šä¿®æ”¹æˆå‘˜å˜é‡ã€‚æ‰€ä»¥ï¼Œå¦‚æœä¸€ä¸ª const æˆå‘˜å‡½æ•°è°ƒç”¨äº†å¦ä¸€ä¸ª * æˆå‘˜å‡½æ•°ï¼Œä¹Ÿè¦ç¡®ä¿è°ƒç”¨çš„æˆå‘˜å‡½æ•°ä¹Ÿæ˜¯è¢« const ä¿®é¥°çš„ã€‚ * å³constæˆå‘˜å‡½æ•°åªèƒ½è°ƒç”¨å…¶ä»–constæˆå‘˜å‡½æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ * ä¾‹å¦‚ï¼Œå¦‚æœ get_value() å‡½æ•°ä¸æ˜¯constæˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆ show() æ˜¯ä¸èƒ½è°ƒç”¨å®ƒçš„ï¼Œå¼ºè¡Œè°ƒç”¨æ˜¯ä¸èƒ½é€šè¿‡ç¼–è¯‘çš„ã€‚ */ void show() const { cout \u003c\u003c get_value() \u003c\u003c endl; } private: int _value; }; // 3.constè¿”å›å€¼ï¼Œé˜²æ­¢è°ƒç”¨è€…é€šè¿‡è¿”å›çš„å¼•ç”¨æˆ–æŒ‡é’ˆä¿®æ”¹åŸå§‹å¯¹è±¡ã€‚ const MyClass\u0026 getConstObject() const { return obj; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:6","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"é»˜è®¤å‚æ•°\ré»˜è®¤å‚æ•°æŒ‡çš„æ˜¯å½“è°ƒç”¨å‡½æ•°æ—¶æŸäº›å®å‚è¢«çœç•¥ï¼Œå½¢å‚è‡ªåŠ¨ä½¿ç”¨çš„ä¸€ä¸ªå€¼ã€‚ç›´æ¥çœ‹ä¾‹å­ï¼š #include \u003ciostream\u003e using namespace std; void Func(int a, int b, int c = 1) // Funcå‡½æ•°çš„å½¢å‚cå°±æœ‰é»˜è®¤å‚æ•°1 { cout \u003c\u003c a \u003c\u003c \" \" \u003c\u003c b \u003c\u003c \" \" \u003c\u003c c \u003c\u003c endl; } int main() { Func(1, 2, 3); // æ­£ç¡®è°ƒç”¨ï¼Œè¾“å‡º 1 2 3 Func(1, 2); // æ­£ç¡®è°ƒç”¨ï¼Œè¾“å‡º 1 2 1 return 0; } æ³¨æ„ï¼š å½“æŸä¸ªå‚æ•°éœ€è¦æŒ‡å®šé»˜è®¤å€¼æ—¶ï¼Œå…¶å³è¾¹çš„å‚æ•°éƒ½éœ€è¦æŒ‡å®šé»˜è®¤å‚æ•° // é”™è¯¯å®šä¹‰ï¼Œå¦‚æœbè¦å®šä¹‰é»˜è®¤å‚æ•°ï¼Œåˆ™cä¹Ÿè¦å®šä¹‰é»˜è®¤å‚æ•° int Func(int a, int b = 1, int c) { ...... return a; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:7","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‡½æ•°é‡è½½\rå‡½æ•°é‡è½½ä¹Ÿå«å‡½æ•°å¤šæ€ï¼ŒæŒ‡çš„æ˜¯åœ¨åŒä¸€ä½œç”¨åŸŸå†…æœ‰å¤šä¸ªåŒåçš„å‡½æ•°ï¼Œå®ƒä»¬å®Œæˆç±»ä¼¼çš„å·¥ä½œï¼Œä½†ä½¿ç”¨ä¸åŒçš„å‚æ•°åˆ—è¡¨ã€‚ å‡½æ•°é‡è½½çš„å…³é”®æ˜¯å‡½æ•°å‚æ•°åˆ—è¡¨â€”â€”ä¹Ÿç§°ä¸ºå‡½æ•°ç‰¹å¾æ ‡ã€‚å¦‚æœä¸¤ä¸ªå‡½æ•°çš„å‚æ•°æ•°é‡ã€å‚æ•°ç±»å‹ã€å‚æ•°é¡ºåºéƒ½ç›¸åŒï¼Œåˆ™å®ƒä»¬çš„ç‰¹å¾æ ‡ç›¸åŒï¼Œåœ¨åŒä¸€ä½œç”¨åŸŸä¸­æ˜¯ä¸è¢«å…è®¸çš„ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥å®šä¹‰ä¸€ç»„åŸå‹å¦‚ä¸‹çš„ print() å‡½æ•°ï¼š #include \u003ciostream\u003e using namespace std; // ä»¥ä¸‹ print å‡½æ•°å½¢æˆé‡è½½ void print(const char *str, int width); // å£°æ˜ #1 void print(double d, int width); // å£°æ˜ #2 void print(long l, int width); // å£°æ˜ #3 void print(int i, int width); // å£°æ˜ #4 void print(const char *str); // å£°æ˜ #5 int main() { print(\"Pancakes\", 15); // è°ƒç”¨ç¬¬1ä¸ªprint print(1999.0, 10); // è°ƒç”¨ç¬¬2ä¸ªprint print(1999L, 15); // è°ƒç”¨ç¬¬3ä¸ªprint print(1999, 12); // è°ƒç”¨ç¬¬4ä¸ªprint print(\"syrup\"); // è°ƒç”¨ç¬¬5ä¸ªprint return 0; } // 5ä¸ªprintå‡½æ•°çš„å…·ä½“å®ç°çœç•¥ .... ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:8","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"åŸºäºèŒƒå›´çš„ for å¾ªç¯\rè¯¥è¯­æ³•æ˜¯C++11 å¼•å…¥çš„ä¸€ç§æ–°çš„ for å¾ªç¯è¯­æ³•ï¼Œå®ƒæä¾›äº†ä¸€ç§ç®€æ´ä¸”æ˜“äºé˜…è¯»çš„æ–¹å¼æ¥éå† æ•°ç»„ã€å®¹å™¨ï¼ˆå¦‚ std::vectorã€std::list ç­‰ï¼‰å’Œå…¶ä»–å¯è¿­ä»£å¯¹è±¡ã€‚ ç›´æ¥çœ‹ä»¥ä¸‹ç¤ºä¾‹å°±å¯æ˜ç™½å¦‚ä½•ä½¿ç”¨ï¼š // éå†æ•°ç»„ int array[] = {1, 2, 3, 4, 5}; for (int num : array) { std::cout \u003c\u003c num \u003c\u003c \" \"; } // è¾“å‡ºï¼š1 2 3 4 5 /* ---------------------------------åˆ†å‰²çº¿--------------------------------- */ // éå† std::vector #include \u003cvector\u003e #include \u003cstring\u003e #include \u003ciostream\u003e std::vector\u003cstd::string\u003e vec = {\"Apple\", \"Banana\", \"Cherry\"}; for (const std::string\u0026 fruit : vec) { std::cout \u003c\u003c fruit \u003c\u003c \" \"; } // è¾“å‡ºï¼šApple Banana Cherry /* ---------------------------------åˆ†å‰²çº¿--------------------------------- */ // éå†å­—ç¬¦ä¸² std::string str = \"Hello\"; for (char c : str) { std::cout \u003c\u003c c \u003c\u003c \" \"; } // è¾“å‡ºï¼šH e l l o /* ---------------------------------åˆ†å‰²çº¿--------------------------------- */ // ä¿®æ”¹æ•°ç»„ä¸­çš„å€¼ int array[] = {1, 2, 3, 4, 5}; for (int \u0026num : array) { num++; } // æ•°ç»„ä¸­çš„å€¼å˜ä¸ºï¼š2 3 4 5 6 ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:9","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å†…è”å‡½æ•°\rå†…è”å‡½æ•°æ˜¯C++ä¸ºäº† æé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦ æ‰€åšçš„ä¸€é¡¹æ”¹è¿›ï¼Œå†…è”å‡½æ•°ä¼šç›´æ¥åœ¨è°ƒç”¨å¤„å°†è°ƒç”¨çš„è¯­å¥æ›¿æ¢ä¸ºå‡½æ•°ä½“ï¼Œè€Œä¸å¿…åƒå¸¸è§„å‡½æ•°ä¸€æ ·ï¼Œéœ€è¦å…ˆè·³è½¬åˆ°å‡½æ•°åœ°å€ï¼Œæ‰§è¡Œå®Œå‡½æ•°åå†è·³è½¬å›è°ƒç”¨å¤„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åœ¨ç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå°†ä¸€äº› é¢‘ç¹è¢«è°ƒç”¨çš„çŸ­å°å‡½æ•° å£°æ˜ä¸ºå†…è”å‡½æ•°ã€‚ä½¿ç”¨ inline å…³é”®å­—æ¥å®ç°ï¼Œä½†è¿™åªæ˜¯å»ºè®®ç¼–è¯‘å™¨å°†è¯¥å‡½æ•°å®šä¹‰ä¸ºå†…è”å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¸ä¸€å®šä¼šæ¥å—æ­¤å»ºè®®ï¼Œå®ƒå¯èƒ½è®¤ä¸ºè¯¥å‡½æ•°è¿‡å¤§æˆ–æ³¨æ„åˆ°å‡½æ•°è°ƒç”¨äº†è‡ªå·±ï¼Œå› æ­¤ä¸å°†å…¶ä½œä¸ºå†…è”å‡½æ•°ã€‚ ä¸ºäº†ä½¿å¾— inline å£°æ˜å†…è”å‡½æ•°æœ‰æ•ˆï¼Œæˆ‘ä»¬å¿…é¡»å°†å…¶ä¸å‡½æ•°ä½“æ”¾åœ¨ä¸€èµ·æ‰è¡Œï¼Œå¦åˆ™æ˜¯ä¸èƒ½æˆåŠŸå°†å‡½æ•°å£°æ˜å†…è”å‡½æ•°çš„ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š inline void swap(int \u0026a, int \u0026b); // å°† inline æ”¾åœ¨å‡½æ•°å£°æ˜å¤„ä¸ä¼šèµ·ä½œç”¨ void swap(int \u0026a, int \u0026b) { int temp = a; a = b; b = temp; } /* ---------------------------------åˆ†å‰²çº¿--------------------------------- */ void swap(int \u0026a, int \u0026b); inline void swap(int \u0026a, int \u0026b) // æˆåŠŸå°† swap å‡½æ•°å£°æ˜ä¸ºå†…è”å‡½æ•° { int temp = a; a = b; b = temp; } PSï¼š å­¦å®Œè¿™ä¸€å°èŠ‚æˆ‘ä»¬åº”è¯¥äº†è§£åˆ°ï¼šåº”è¯¥å°†é‚£äº›é¢‘ç¹ä½¿ç”¨ä¸”çŸ­å°(ä¸€èˆ¬å°‘äº10è¡Œ)çš„å‡½æ•°å£°æ˜ä¸ºå†…è”å‡½æ•°ï¼ˆè™½ç„¶ç¼–è¯‘å™¨ä¸ä¸€å®šä¼šå°†å…¶è®¤å®šä¸ºå†…è”å‡½æ•°ï¼‰ï¼Œä¸”åº”å°† inline æ”¾åœ¨å‡½æ•°ä½“å‰æ‰ä¼šèµ·ä½œç”¨ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:10","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å†…å­˜ç©ºé—´çš„ç”³è¯·\råœ¨ Cè¯­è¨€ä¸­ï¼ŒåŠ¨æ€åˆ†é…å’Œé‡Šæ”¾å†…å­˜çš„å‡½æ•°æ˜¯ mallocã€calloc å’Œ freeï¼Œè€Œåœ¨ C++è¯­è¨€ä¸­ï¼Œé€šå¸¸ä½¿ç”¨newã€new[]ã€delete å’Œ delete[] æ“ä½œç¬¦æ¥åŠ¨æ€åœ°åˆ†é…å†…å­˜å’Œé‡Šæ”¾å†…å­˜ã€‚ newã€new[]ã€delete å’Œ delete[] å‡æ˜¯C++ä¸­çš„å…³é”®å­—ï¼Œè€Œéå‡½æ•°ï¼ï¼ï¼ new ç”¨äºåŠ¨æ€åˆ†é…å•ä¸ªç©ºé—´ï¼Œnew [] ç”¨äºåŠ¨æ€åˆ†é…æ•°ç»„ç©ºé—´ã€‚delete ç”¨äºé‡Šæ”¾åˆ†é…çš„å•ä¸ªç©ºé—´ï¼Œdelete[] ç”¨äºé‡Šæ”¾åˆ†é…çš„æ•°ç»„ç©ºé—´ã€‚ int *p = new int; // ç”³è¯·äº†ä¸€ä¸ªintç±»å‹çš„ç©ºé—´ï¼Œç­‰ä»·äº malloc(sizeof(int)); int *A = new int[10]; // ç”³è¯·äº†ä¸€ä¸ªæ•°ç»„ç©ºé—´ï¼Œå¤§å°ä¸º10ï¼Œç”¨äºå­˜åœ¨intç±»å‹çš„å€¼ï¼Œç­‰ä»·äº malloc(sizeof(int) * 10); delete p; // é‡Šæ”¾å•ä¸ªçš„ç©ºé—´ delete[] A; //é‡Šæ”¾æ•°ç»„ç©ºé—´ ä¸ºäº†é¿å…å†…å­˜æ³„éœ²ï¼Œnew å’Œ deleteã€new[] å’Œ delete[] æ“ä½œç¬¦åº”è¯¥æˆå¯¹å‡ºç°ï¼Œå¹¶ä¸”ä¸è¦å°†è¿™äº›æ“ä½œç¬¦ä¸ Cè¯­è¨€ä¸­åŠ¨æ€åˆ†é…å†…å­˜å’Œé‡Šæ”¾å†…å­˜çš„å‡ ä¸ªå‡½æ•°ä¸€èµ·æ··ç”¨ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:11","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‘½ä»¤è¡Œå¤„ç†æŠ€æœ¯\råœ¨C++ä¸­ï¼Œå‘½ä»¤è¡Œå¤„ç†æ˜¯ä¸€é¡¹åŸºæœ¬ä½†éå¸¸é‡è¦çš„æŠ€æœ¯ï¼Œç‰¹åˆ«æ˜¯å¼€å‘å‘½ä»¤è¡Œå·¥å…·å’Œåº”ç”¨ç¨‹åºæ—¶ã€‚å¤„ç†å‘½ä»¤è¡Œå‚æ•°å¯ä»¥é€šè¿‡æ ‡å‡†çš„ main å‡½æ•°å‚æ•°æˆ–æ›´é«˜çº§çš„åº“æ¥å®ç°ã€‚ä¸‹é¢ä»‹ç»ä¸€ç§æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•ï¼š ä½¿ç”¨mainå‡½æ•°çš„å‚æ•° C++ç¨‹åºçš„å…¥å£ç‚¹æ˜¯ main å‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š int main(int argc, char* argv[]) argcï¼ˆargument countï¼‰ï¼šè¡¨ç¤ºå‘½ä»¤è¡Œå‚æ•°çš„æ•°é‡ï¼ŒåŒ…æ‹¬å‘½ä»¤æœ¬èº«ã€‚ argvï¼ˆargument vectorï¼‰ï¼šä¸€ä¸ªå­—ç¬¦æŒ‡é’ˆæ•°ç»„ï¼ŒåŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„å®é™…å€¼ã€‚ ä¾‹å¦‚ï¼Œå¯¹äºå‘½ä»¤ wc report1 report2 report3ï¼Œ argcä¸º4ï¼Œargv[0]ä¸ºwcï¼Œargv[1]ä¸ºreport1ï¼Œä¾æ¬¡ç±»æ¨ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:12","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆé€‰è¯»ï¼‰\råœ¨ C++ä¸­æœ‰å››ä¸ªå…³é”®å­—ç”¨äºå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼š static_castã€const_castã€reinterpret_cast å’Œ dynamic_castã€‚å®ƒä»¬ç›¸æ¯”Cè¯­è¨€ä¸­çš„ä¼ ç»Ÿè½¬æ¢æ–¹å¼ï¼ˆä½¿ç”¨æ‹¬å·è¡¨ç¤ºçš„ç±»å‹è½¬æ¢ï¼‰æä¾›äº†æ›´ä¸ºç²¾ç»†å’Œå®‰å…¨çš„ç±»å‹è½¬æ¢æœºåˆ¶ã€‚ static_cast\rè¯¥å…³é”®å­—ç”¨äºç›¸å…³ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œå¦‚æ•´å‹ä¸æµ®ç‚¹å‹ï¼ŒæŒ‡é’ˆç±»å‹ç­‰ã€‚å®ƒæ‰§è¡Œçš„æ˜¯ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ï¼Œä¸ä¼šåšè¿è¡Œæ—¶çš„ç±»å‹æ£€æŸ¥ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯åœ¨ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨åˆ©ç”¨å·²çŸ¥çš„ç±»å‹ä¿¡æ¯æ¥è¿›è¡Œç±»å‹å…¼å®¹æ€§æ£€æŸ¥å¹¶æ‰§è¡Œè½¬æ¢ã€‚æ‰€ä»¥å¦‚æœç±»å‹ä¹‹é—´çš„è½¬æ¢æ˜¯ä¸å®‰å…¨çš„æˆ–ä¸å…è®¸çš„ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šç»™å‡ºé”™è¯¯ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š static_cast\u003cæƒ³è¦è½¬æ¢ä¸ºçš„ç±»å‹\u003e(å˜é‡æˆ–è¡¨è¾¾å¼) // åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ int i = 10; float f = static_cast\u003cfloat\u003e(i); // å°†intè½¬æ¢ä¸ºfloat /* ---------------------------------åˆ†å‰²çº¿--------------------------------- */ // æŒ‡é’ˆç±»å‹è½¬æ¢ // å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„æŒ‡é’ˆ static_cast ä¸èƒ½åœ¨ä¸¤ä¸ªã€Œå…·ä½“ç±»å‹ã€çš„æŒ‡é’ˆä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œåªèƒ½ // å°†ä¸€ä¸ªæŒ‡é’ˆè½¬æ¢ä¸º void * ç±»å‹ï¼Œæˆ–å°† void * ç±»å‹çš„æŒ‡é’ˆè½¬æ¢ä¸ºå…¶åŸæœ¬çš„æ•°æ®ç±»å‹ int i = 5; void* ptr = static_cast\u003cvoid *\u003e(\u0026i); // å°† int * ç±»å‹çš„æŒ‡é’ˆè½¬æ¢ä¸º void * ç±»å‹ int* intPtr = static_cast\u003cint*\u003e(ptr); // voidæŒ‡é’ˆè½¬æ¢å›intæŒ‡é’ˆ // float *floatPtr = static_cast\u003cfloat*\u003e(\u0026i) // è¿™ç§è½¬æ¢æ˜¯ä¸è¢«å…è®¸çš„ class Base {}; class Derived : public Base {}; Derived d; Base* basePtr = static_cast\u003cBase*\u003e(\u0026d); // æ´¾ç”Ÿç±»æŒ‡é’ˆè½¬æ¢ä¸ºåŸºç±»æŒ‡é’ˆ /* ---------------------------------åˆ†å‰²çº¿--------------------------------- */ // ç±»å‹å‘ä¸Šçš„å®‰å…¨ç±»å‹è½¬æ¢ã€‚ // äº†è§£å³å¯ï¼Œåé¢ä¼šä»‹ç»ç±»çš„ç›¸å…³çŸ¥è¯† class Base { public: virtual ~Base() {} }; class Derived : public Base { public: void func() { // ... } }; void function(Base\u0026 baseRef) { Derived\u0026 derivedRef = static_cast\u003cDerived\u0026\u003e(baseRef); //å°†æ´¾ç”Ÿç±» Derived ç±»å‹çš„å¼•ç”¨è½¬æ¢ä¸ºåŸºç±»Baseç±»å‹çš„å¼•ç”¨ derivedRef.func(); // ä½¿ç”¨ Derived ç±»å‹çš„å¼•ç”¨è°ƒç”¨ Derived çš„æˆå‘˜å‡½æ•° } PSï¼š ä¸€å®šè¦æ³¨æ„ static_cast æ˜¯ä¸èƒ½ç”¨äºä¸¤ä¸ªå…·ä½“ç±»å‹æŒ‡é’ˆä¹‹é—´çš„è½¬æ¢çš„ï¼Œå› ä¸ºå®ƒä»¬æŒ‡å‘çš„æ•°æ®ç±»å‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼å’Œå¤§å°ä¸åŒï¼Œç›´æ¥è½¬æ¢æŒ‡é’ˆç±»å‹å¯èƒ½ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚ dynamic_cast\råœ¨è¿™é‡Œè®¤è¯†è¯¥å…³é”®å­—å³å¯ï¼Œåé¢å­¦å®Œç±»çš„çŸ¥è¯†å†ä»”ç»†ç†è§£ã€‚ è¯¥å…³é”®å­—ä¸»è¦ç”¨äºå¤„ç†å«æœ‰ç»§æ‰¿å…³ç³»çš„ç±»ä¹‹é—´çš„å®‰å…¨å‘ä¸‹è½¬å‹ï¼Œå³ä»åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è½¬æ¢ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–å¼•ç”¨ã€‚å®ƒåœ¨è¿è¡Œæ—¶æ£€æŸ¥è½¬æ¢çš„å®‰å…¨æ€§ï¼Œæ‰€ä»¥å…·æœ‰è¾ƒé«˜çš„æ€§èƒ½å¼€é”€ã€‚å…¶åˆ©ç”¨äº† C++ çš„å¤šæ€æ€§å’Œè¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼ˆRTTIï¼‰æœºåˆ¶æ¥ç¡®ä¿è½¬æ¢çš„å®‰å…¨æ€§ã€‚dynamic_cast åªèƒ½ç”¨äºå«æœ‰è™šå‡½æ•°çš„ç±»æˆ–å…¶æ´¾ç”Ÿç±»ï¼Œå› ä¸ºRTTI éœ€è¦è™šå‡½æ•°è¡¨æ¥ç¡®å®šå¯¹è±¡çš„åŠ¨æ€ç±»å‹ã€‚ class Base { public: virtual ~Base() {} // è™šææ„å‡½æ•°ï¼Œç¡®ä¿ç±»æ˜¯å¤šæ€çš„ }; class Derived : public Base { // æ´¾ç”Ÿç±»å†…å®¹ }; int main() { Derived d; Base* b = \u0026d; // å‘ä¸‹è½¬å‹å°è¯• Derived* d2 = dynamic_cast\u003cDerived*\u003e(b); if (d2) { // è½¬æ¢æˆåŠŸï¼Œd2 æ˜¯ä¸€ä¸ª Derived ç±»å‹çš„æŒ‡é’ˆ } else { // è½¬æ¢å¤±è´¥ï¼Œè¿™åœ¨æœ¬ä¾‹ä¸­ä¸ä¼šå‘ç”Ÿï¼Œå› ä¸º b ç¡®å®æŒ‡å‘ Derived å¯¹è±¡ } // é”™è¯¯çš„å‘ä¸‹è½¬å‹å°è¯• Base b2; Derived* d3 = dynamic_cast\u003cDerived*\u003e(\u0026b2); if (!d3) { // è½¬æ¢å¤±è´¥ï¼Œb2 æ˜¯ Base ç±»å‹çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯ Derived } return 0; } const_cast\rè¯¥å…³é”®å­—ç”¨äºå»é™¤æŒ‡å‘å¸¸æ•°å¯¹è±¡çš„æŒ‡é’ˆæˆ–å¼•ç”¨çš„å¸¸é‡æ€§ã€‚ PSï¼š è¿™é‡Œåªä¼šç®€å•çš„ä»‹ç»ä¸€ä¸‹ï¼Œäº†è§£è¯¥å…³é”®å­—çš„ä½œç”¨å³å¯ã€‚å› ä¸ºä½¿ç”¨ const_cast å»æ‰æŒ‡é’ˆæˆ–å¼•ç”¨çš„å¸¸é‡æ€§å¹¶ä¸”å»ä¿®æ”¹åŸå§‹å˜é‡çš„æ•°å€¼ï¼Œæ˜¯ä¸€ç§éå¸¸ä¸å¥½çš„è¡Œä¸ºï¼Œåº”è¯¥åœ¨ç¨‹åºä¸­é¿å…è¿™ç§æƒ…å†µã€‚ #include\u003ciostream\u003e using namespace std; int main() { const int a = 10; const int * p = \u0026a; int *q; q = const_cast\u003cint *\u003e(p); *q = 20; //fine cout \u003c\u003c a \u003c\u003c \" \" \u003c\u003c *p \u003c\u003c \" \" \u003c\u003c *q \u003c\u003c endl; cout \u003c\u003c \u0026a \u003c\u003c \" \" \u003c\u003c p \u003c\u003c \" \" \u003c\u003c q \u003c\u003cendl; return 0; } è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š 10 20 20 002CFAF4 002CFAF4 002CFAF4 æŸ¥çœ‹è¿è¡Œç»“æœï¼Œé—®é¢˜æ¥äº†ï¼ŒæŒ‡é’ˆ p å’ŒæŒ‡é’ˆ q éƒ½æ˜¯æŒ‡å‘ a å˜é‡çš„ï¼Œä¸”ç»è¿‡è°ƒè¯•å‘ç° 002CFAF4 åœ°å€å†…çš„å€¼ç¡®å®ç”± 10 è¢«ä¿®æ”¹æˆäº† 20ï¼Œè¿™æ˜¯æ€ä¹ˆä¸€å›äº‹å‘¢ï¼Ÿä¸ºä»€ä¹ˆ a çš„å€¼æ‰“å°å‡ºæ¥è¿˜æ˜¯ 10 å‘¢ï¼Ÿ å…¶å®è¿™æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œæˆ‘ä»¬è¦åº†å¹¸ a å˜é‡æœ€ç»ˆçš„å€¼æ²¡æœ‰å˜æˆ 20ï¼å˜é‡ a ä¸€å¼€å§‹å°±è¢«å£°æ˜ä¸ºä¸€ä¸ªå¸¸é‡å˜é‡ï¼Œä¸ç®¡åé¢çš„ç¨‹åºæ€ä¹ˆå¤„ç†ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œå°±æ˜¯ä¸ä¼šå˜åŒ–çš„ã€‚è¯•æƒ³ä¸€ä¸‹å¦‚æœè¿™ä¸ªå˜é‡ a æœ€ç»ˆå˜æˆäº† 20 ä¼šæœ‰ä»€ä¹ˆåæœå‘¢ï¼Ÿå¯¹äºè¿™äº›ç®€çŸ­çš„ç¨‹åºè€Œè¨€ï¼Œå¦‚æœæœ€å a å˜æˆäº† 20ï¼Œæˆ‘ä»¬ä¼šä¸€çœ¼çœ‹å‡ºæ˜¯ q æŒ‡é’ˆä¿®æ”¹äº†ï¼Œä½†æ˜¯ä¸€æ—¦ä¸€ä¸ªé¡¹ç›®å·¥ç¨‹éå¸¸åºå¤§çš„æ—¶å€™ï¼Œåœ¨ç¨‹åºæŸä¸ªåœ°æ–¹å‡ºç°äº†ä¸€ä¸ª q è¿™æ ·çš„æŒ‡é’ˆï¼Œå®ƒå¯ä»¥ä¿®æ”¹å¸¸é‡ aï¼Œè¿™æ˜¯ä¸€ä»¶å¾ˆå¯æ€•çš„äº‹æƒ…çš„ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªç¨‹åºçš„æ¼æ´ï¼Œæ¯•ç«Ÿå°†å˜é‡ a å£°æ˜ä¸ºå¸¸é‡å°±æ˜¯ä¸å¸Œæœ›ä¿®æ”¹å®ƒï¼Œå¦‚æœåé¢èƒ½ä¿®æ”¹ï¼Œè¿™å°±å¤ªææ€–äº†ã€‚ reinterpret_cast\rè¯¥å…³é”®å­—å¯ä»¥åœ¨å‡ ä¹ä»»ä½•ç±»å‹çš„æŒ‡é’ˆä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œç”šè‡³å¯ä»¥åœ¨æŒ‡é’ˆå’Œè¶³å¤Ÿå¤§çš„æ•´æ•°ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚è¿™ç§è½¬æ¢ä¸ä¼šå°è¯•ä¿ç•™å¯¹è±¡çš„å€¼ï¼Œè€Œæ˜¯ç®€å•åœ°é‡æ–°è§£é‡Šä½æ¨¡å¼ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´é”™è¯¯çš„ç»“æœã€‚ç”±äºè¿™ç§è½¬æ¢çš„ä¸å®‰å…¨æ€§ï¼Œåªæœ‰åœ¨ç¡®å®å¿…è¦ä¸”ä½ éå¸¸æ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆçš„æƒ…å†µä¸‹ï¼Œæ‰åº”è¯¥ä½¿ç”¨å®ƒã€‚ åœ¨ C++ä¸­ï¼Œè¯¥å…³é”®å­—ä¸»è¦æœ‰ä¸‰ç§å¼ºåˆ¶è½¬æ¢ç”¨é€”ï¼šæ”¹å˜æŒ‡é’ˆæˆ–å¼•ç”¨çš„ç±»å‹ã€å°†æŒ‡é’ˆæˆ–å¼•ç”¨è½¬æ¢ä¸ºä¸€ä¸ªè¶³å¤Ÿé•¿åº¦çš„æ•´å½¢ã€å°†æ•´å‹è½¬æ¢ä¸ºæŒ‡é’ˆæˆ–å¼•ç”¨ç±»å‹ã€‚ // å°†æ•´å‹æŒ‡é’ˆè½¬æ¢ä¸ºåŒç²¾åº¦æµ®ç‚¹å‹æŒ‡é’ˆ int *a = new int; double *d = reinterpret_cast\u003cdouble *\u003e(a); int i = 100; int* p = \u0026i; cout \u003c\u003c \"p value: \" \u003c\u003c p \u003c\u003c endl; // å°†æ•´æ•°åœ°å€è½¬æ¢ä¸ºæ•´æ•° intptr_t address_as_int = reinterpret_cast\u003cintptr_t\u003e(p); cout \u003c\u003c \"address_as_int: \" \u003c\u003c address_as_int \u003c\u003c endl ; // å°†æ•´æ•°é‡æ–°è½¬æ¢å›æŒ‡é’ˆ int* p2 = reinterpret_cast\u003cint*\u003e(address_as_int); cout \u003c\u003c \"p2 value: \" \u003c\u003c p2 \u003c\u003c endl; ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:13","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¼‚å¸¸å¤„ç†ï¼ˆé€‰è¯»ï¼‰\rå¼‚å¸¸è§„èŒƒæ˜¯ C++98 æ–°å¢çš„ä¸€é¡¹åŠŸèƒ½ï¼Œä½†æ˜¯åæ¥çš„ C++11 å·²ç»å°†å®ƒæŠ›å¼ƒäº†(å› ä¸ºå…¶å¾ˆéš¾å®ç°)ï¼Œä¸å†å»ºè®®ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œä¸‹é¢çš„å†…å®¹äº†è§£ä¸€ä¸‹å³å¯(ä¸çœ‹ä¹Ÿè¡Œ)ã€‚ åœ¨ C++ ä¸­ï¼Œä¸€ä¸ªå‡½æ•°èƒ½å¤Ÿæ£€æµ‹å‡ºå¼‚å¸¸å¹¶ä¸”å°†å¼‚å¸¸è¿”å›ï¼Œè¿™ç§æœºåˆ¶ç§°ä¸ºæŠ›å‡ºå¼‚å¸¸ã€‚å½“æŠ›å‡ºå¼‚å¸¸åï¼Œå‡½æ•°è°ƒç”¨è€…æ•è·åˆ°è¯¥å¼‚å¸¸ï¼Œå¹¶å¯¹è¯¥å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå¼‚å¸¸æ•è·ã€‚ C++ æ–°å¢ throw å…³é”®å­—ç”¨äºæŠ›å‡ºå¼‚å¸¸ï¼Œæ–°å¢ catch å…³é”®å­—ç”¨äºæ•è·å¼‚å¸¸ï¼Œæ–°å¢ try å…³é”®å­—å°è¯•æ•è·å¼‚å¸¸ã€‚é€šå¸¸å°†å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸çš„è¯­å¥æ”¾åœ¨try{ }ç¨‹åºå—ä¸­ï¼Œè€Œå°†å¼‚å¸¸å¤„ç†è¯­å¥ç½®äºcatch{ }è¯­å¥å—ä¸­ã€‚å…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š try { //å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„è¯­å¥ } catch (å¼‚å¸¸ç±»å‹1) { //å¼‚å¸¸ç±»å‹1çš„å¤„ç†ç¨‹åº } catch (å¼‚å¸¸ç±»å‹2) { //å¼‚å¸¸ç±»å‹2çš„å¤„ç†ç¨‹åº } // â€¦â€¦ catch (å¼‚å¸¸ç±»å‹n) { //å¼‚å¸¸ç±»å‹nçš„å¤„ç†ç¨‹åº } ç”± try ç¨‹åºå—æ•è· throw æŠ›å‡ºçš„å¼‚å¸¸ï¼Œç„¶åä¾æ®å¼‚å¸¸ç±»å‹è¿è¡Œå¯¹åº” catch ç¨‹åºå—ä¸­çš„å¼‚å¸¸å¤„ç†ç¨‹ã€‚catch ç¨‹åºå—é¡ºåºå¯ä»¥æ˜¯ä»»æ„çš„ï¼Œä¸è¿‡å‡éœ€è¦æ”¾åœ¨ try ç¨‹åºå—ä¹‹åã€‚ä¸€ä¸ªå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š #include\u003ciostream\u003e using namespace std; enum index{underflow, overflow}; int array_index(int *A, int n, int index); int main() { int *A = new int[10]; for(int i=0; i \u003c 10; i++) A[i] = i; try { cout\u003c\u003carray_index(A,10,5)\u003c\u003cendl; cout\u003c\u003carray_index(A,10,-1)\u003c\u003cendl; cout\u003c\u003carray_index(A,10,15)\u003c\u003cendl; } catch(index e) { if(e == underflow) { cout\u003c\u003c\"index underflow!\"\u003c\u003cendl; exit(-1); } if(e == overflow) { cout\u003c\u003c\"index overflow!\"\u003c\u003cendl; exit(-1); } } return 0; } int array_index(int *A, int n, int index) { if(index \u003c 0) throw underflow; // æŠ›å‡ºä¸‹æº¢å‡ºå¼‚å¸¸ if(index \u003e n-1) throw overflow; // æŠ›å‡ºä¸Šæº¢å‡ºå¼‚å¸¸ return A[index]; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:2:14","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"Stringç±»å‹\rC++å¢å¼ºäº†å¯¹å­—ç¬¦ä¸²çš„æ”¯æŒï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨ C è¯­è¨€é£æ ¼çš„å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ stringç±» å¤„ç†å­—ç¬¦ä¸²ï¼Œä¸”åè€…å¤„ç†èµ·å­—ç¬¦ä¸²æ¥æ›´åŠ æ–¹ä¾¿ã€‚ä½¿ç”¨ string æ•°æ®ç±»å‹éœ€è¦åŒ…å«å¤´æ–‡ä»¶ \u003cstring\u003eã€‚ PSï¼š stringç±»å‹çš„å˜é‡æœ¬è´¨æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶åŒ…å«çš„å­—ç¬¦ä¸²ä¸å­˜åœ¨Cè¯­è¨€ä¸­çš„å­—ç¬¦ä¸²ç»“æŸç¬¦ \\0ï¼Œå› ä¸ºå…¶å†…éƒ¨é€šè¿‡ç»´æŠ¤ä¸€ä¸ªé•¿åº¦è®¡æ•°å™¨æ¥è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¹¶ä¸ä¾èµ– \\0ã€‚ stringç±»å‹å˜é‡å¯ç›´æ¥è°ƒç”¨ç±»ä¸­çš„ size() æˆ– length() å‡½æ•°æ¥è·å–å­—ç¬¦ä¸²é•¿åº¦ã€‚ string s = \"mystring\"; int len = s.length(); // len çš„å€¼ä¸º 8 ","date":"2024-08-07","objectID":"/posts/3b2b064/:3:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"stringç±»å‹å˜é‡å®šä¹‰å’Œè½¬æ¢\rstringç±»å‹å˜é‡å¸¸ç”¨çš„å®šä¹‰æ–¹æ³•æœ‰ï¼š #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { char c_char_array[] = \"Hello, World!\"; // åªå®šä¹‰ä¸åˆå§‹åŒ–ï¼Œç¼–è¯‘å™¨ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰è¿›è¡Œèµ‹å€¼ string s1; // å®šä¹‰æ—¶ç›´æ¥è¿›è¡Œåˆå§‹åŒ– string s2 = \"mystring\"; // å®šä¹‰æ—¶è¿›è¡Œå¤åˆ¶åˆå§‹åŒ–ï¼Œs3çš„å†…å®¹å’Œs2ä¸€æ · string s3 = s2; // å®šä¹‰æ—¶ä½¿ç”¨æŒ‡å®šå­—ç¬¦å’Œå¤§å°æ¥åˆå§‹åŒ–ï¼Œs4 çš„å†…å®¹ä¸º sssssss string s4 (7, 's'); // å®šä¹‰æ—¶ä½¿ç”¨å­—ç¬¦æ•°ç»„æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œs5çš„å†…å®¹ä¸º Hello, World! string s5(c_char_array); return 0; } è™½ç„¶ C++ æä¾›äº† string ç±»å‹æ¥æ›¿ä»£ C è¯­è¨€ä¸­çš„ char* å­—ç¬¦ä¸²ï¼Œä½†ç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­è¿˜æ˜¯ä¸å¯é¿å…åœ°ä¼šç¢°åˆ°ç”¨ char* å­—ç¬¦ä¸²çš„åœ°æ–¹ã€‚ä¸ºæ­¤ï¼Œstringç±»æä¾›äº†ä¸€ä¸ªè½¬æ¢å‡½æ•° c_str()ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªåªè¯»çš„å­—ç¬¦æŒ‡é’ˆ(const char *)ï¼ŒæŒ‡å‘çš„å†…å®¹ä¸stringå¯¹è±¡åŒ…å«çš„å­—ç¬¦ä¸²ç›¸åŒï¼Œä¸”ä»¥ \\0 ç»“å°¾ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e int main() { std::string str = \"Hello, World!\"; const char* cstr = str.c_str(); // è¿›è¡Œè½¬æ¢ std::cout \u003c\u003c cstr \u003c\u003c std::endl; // è¾“å‡º: Hello, World! return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:3:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"stringç±»å‹å˜é‡è¾“å…¥è¾“å‡º\råœ¨ C++ ä¸­ï¼Œå¯¹äºCé£æ ¼çš„å­—ç¬¦ä¸²æœ‰ä¸‰ç§è¾“å…¥æ–¹æ³•ï¼›è€Œå¯¹äº string å¯¹è±¡ï¼Œåªæœ‰ä¸¤ç§è¾“å…¥æ–¹å¼ï¼š // Cé£æ ¼çš„å­—ç¬¦ä¸² char info[100]; cin \u003e\u003e info; //ç¬¬ä¸€ç§ cin.getline(info, 100); // ç¬¬äºŒç§ï¼Œè¯»å–ä¸€è¡Œï¼Œä¼šæŠ›å¼ƒæœ€åçš„ '\\n' cin.get(info, 100); // ç¬¬ä¸‰ç§ï¼Œè¯»å–ä¸€è¡Œï¼Œä¿ç•™æœ€åçš„ '\\n' /* ---------------------------------åˆ†å‰²çº¿--------------------------------- */ // stringå¯¹è±¡ string str; cin \u003e\u003e str; //ç¬¬ä¸€ç§ï¼Œè¯»å–ä¸€ä¸ªå•è¯ï¼Œå³é‡åˆ° ç©ºæ ¼æˆ–æ¢è¡Œç¬¦å°±ç»“æŸè¯»å– getline(cin, str); //ç¬¬äºŒç§ï¼Œè¯»å–ä¸€è¡Œï¼Œå³é‡åˆ° '\\n' ç»“æŸè¯»å– stringå¯¹è±¡å’Œå­—ç¬¦æ•°ç»„å‡ä½¿ç”¨ cout è¿›è¡Œè¾“å‡ºã€‚ #include\u003ciostream\u003e #include\u003cstring\u003e using namespace std; int main() { string mystr; getline(cin, mystr); cout \u003c\u003c mystr \u003c\u003c endl; //è¿›è¡Œè¾“å‡º return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:3:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"stringç±»å‹å­—ç¬¦ä¸²çš„è¿æ¥\rå¯¹äº string ç±»å‹å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ + æˆ–è€… += ç¬¦å·è¿›è¡Œå­—ç¬¦ä¸²çš„è¿æ¥ï¼ˆåˆ©ç”¨äº†æ“ä½œç¬¦é‡è½½ï¼Œåé¢ä¼šå­¦ä¹ ï¼‰ã€‚ ç”¨â€œ+â€é£æ ¼å­—ç¬¦ä¸²è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥æ—¶ï¼Œæ“ä½œç¬¦å·¦å³ä¸¤è¾¹æ—¢å¯ä»¥éƒ½æ˜¯ string å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª string å­—ç¬¦ä¸²å’Œä¸€ä¸ª C é£æ ¼çš„å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ª string å­—ç¬¦ä¸²å’Œä¸€ä¸ª char å­—ç¬¦ã€‚è€Œç”¨â€œ+=â€é£æ ¼å­—ç¬¦ä¸²è¿›è¡Œå­—ç¬¦ä¸²è¿æ¥æ—¶ï¼Œæ“ä½œç¬¦å³è¾¹æ—¢å¯ä»¥æ˜¯ä¸€ä¸ª string å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª C é£æ ¼å­—ç¬¦ä¸²æˆ–ä¸€ä¸ª char å­—ç¬¦ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { string s1, s2, s3; s1 = \"first\"; s2 = \"second\"; s3 = s1 + s2; cout\u003c\u003c s3 \u003c\u003cendl; // è¾“å‡ºï¼šfirstsecond s2 += s1; cout\u003c\u003c s2 \u003c\u003cendl; // è¾“å‡ºï¼šsecondfirst s1 += \"third\"; cout\u003c\u003c s1 \u003c\u003cendl; //è¾“å‡ºï¼šfirstthird s1 += 'a'; cout\u003c\u003c s1 \u003c\u003cendl; //è¾“å‡ºï¼šfirstthirda return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:3:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ä¿®æ”¹å­—ç¬¦ä¸²\rå’Œå­—ç¬¦æ•°ç»„ä¸€æ ·ï¼Œstring å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æŒ‰ç…§ä¸‹æ ‡é€ä¸€è®¿é—®æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œèµ·å§‹ä¸‹æ ‡ä»æ˜¯ 0 ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { string s = \"1234567890\"; for(int i = 0; i \u003c s.length(); i++) // éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ { cout\u003c\u003c s[i] \u003c\u003c\" \"; } // forå¾ªç¯çš„æœ€ç»ˆè¾“å‡ºç»“æœä¸º 1 2 3 4 5 6 7 8 9 0 cout \u003c\u003c endl; // è¾“å‡ºæ¢è¡Œç¬¦ s[7] = '9'; cout \u003c\u003c s \u003c\u003c endl; // è¾“å‡ºç»“æœä¸º1234567990 return 0; } é™¤äº†èƒ½é€ä¸ªè®¿é—®å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å¤–ï¼Œstringç±»è¿˜æä¾›äº†ä¸€äº›æˆå‘˜å‡½æ•°æ–¹ä¾¿æˆ‘ä»¬æ“ä½œ string ç±»å‹å˜é‡ã€‚ erase()æˆå‘˜å‡½æ•°\rè¯¥å‡½æ•°ç”¨äºåˆ é™¤å­—ç¬¦ä¸²ä¸­çš„å­å­—ç¬¦ä¸²ã€‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå­å­—ç¬¦ä¸²çš„èµ·å§‹ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå­å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸æŒ‡å®šæ­¤å‚æ•°ï¼Œåˆ™é»˜è®¤å­ä¸²ä¸ºä»èµ·å§‹ä½ç½®å¼€å§‹ä¸€ç›´åˆ°æœ€åä¸€ä¸ªå­—ç¬¦)ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { string s1, s2, s3; s1 = s2 = s3 = \"1234567890\"; s2.erase(5); s3.erase(5, 3); cout \u003c\u003c s1 \u003c\u003c endl; // è¾“å‡º 1234567890 cout \u003c\u003c s2 \u003c\u003c endl; // è¾“å‡º 12345 cout \u003c\u003c s3 \u003c\u003c endl; // è¾“å‡º 1234590 return 0; } insert()æˆå‘˜å‡½æ•°\rè¯¥å‡½æ•°ç”¨äºåœ¨å­—ç¬¦ä¸²æŒ‡å®šä½ç½®æ’å…¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæ’å…¥ä½ç½®çš„ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè¦æ’å…¥çš„å­—ç¬¦ä¸²(å¯ä»¥æ˜¯string æˆ– å­—ç¬¦æ•°ç»„)ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { char carry[] = \"bbb\"; string s1, s2; s1 = \"1234567890\"; s2 = \"aaa\"; cout \u003c\u003c s1 \u003c\u003c endl; // è¾“å‡º 1234567890 s1.insert(5, s2); cout \u003c\u003c s1 \u003c\u003c endl; // è¾“å‡º 12345aaa67890 s1.insert(5, carry); cout \u003c\u003c s1 \u003c\u003c endl; // 12345bbbaaa67890 return 0; } replace()æˆå‘˜å‡½æ•°\rè¯¥å‡½æ•°ç”¨äºä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²æ¥æ›¿æ¢ä¸€ä¸ªæŒ‡å®šçš„å­å­—ç¬¦ä¸²ã€‚æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¢«æ›¿æ¢çš„å­å­—ç¬¦ä¸²çš„èµ·å§‹ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè¢«æ›¿æ¢çš„å­å­—ç¬¦ä¸²é•¿åº¦ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºç”¨æ¥æ›¿æ¢çš„å­—ç¬¦ä¸²(å¯ä»¥æ˜¯ string æˆ– å­—ç¬¦æ•°ç»„)ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { string s1, s2, s3; s1 = s2 = \"1234567890\"; s3 = \"aaa\"; cout \u003c\u003c s1 \u003c\u003c endl; // è¾“å‡º 1234567890 s1.replace(5, 4, s3); cout \u003c\u003c s1 \u003c\u003c endl; // è¾“å‡º 12345aaa0 cout \u003c\u003c s2 \u003c\u003c endl; // è¾“å‡º 1234567890 s2.replace(5, 2, \"aaa\"); cout\u003c\u003c s2 \u003c\u003cendl; // è¾“å‡º 12345aaa890 return 0; } swap()æˆå‘˜å‡½æ•°\rè¯¥å‡½æ•°ç”¨äºäº¤æ¢ä¸¤ä¸ª string ç±»å‹å˜é‡çš„å€¼ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { string s1 = \"string\"; string s2 = \"aaaaaa\"; s1.swap(s2); // äº’æ¢å€¼ cout \u003c\u003c s1 \u003c\u003c endl; // è¾“å‡º aaaaaa cout \u003c\u003c s2 \u003c\u003c endl; // è¾“å‡º string return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:3:4","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è·å–å­å­—ç¬¦ä¸²\rä½¿ç”¨æˆå‘˜å‡½æ•° substr() æ¥è·å–stringå­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå­å­—ç¬¦ä¸²çš„èµ·å§‹ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå­å­—ç¬¦ä¸²çš„é•¿åº¦(ä¸æŒ‡å®šæ­¤å‚æ•°ï¼Œåˆ™é»˜è®¤å­å­—ç¬¦ä¸²ä¸ºä»èµ·å§‹ä¸‹æ ‡çš„å­—ç¬¦å¼€å§‹ä¸€ç›´åˆ°æœ€åä¸€ä¸ªå­—ç¬¦)ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { string s1 = \"first second third\"; string s2, s3; s2 = s1.substr(6, 6); s3 = s1.substr(6); cout \u003c\u003c s2 \u003c\u003c endl; // è¾“å‡ºsecond cout \u003c\u003c s3 \u003c\u003c endl; // è¾“å‡ºsecond third return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:3:5","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æŸ¥æ‰¾å­—ç¬¦ä¸²\rä½¿ç”¨æˆå‘˜å‡½æ•° find() åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²ã€‚æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæŸ¥æ‰¾çš„èµ·å§‹ä½ç½®(ä¸æŒ‡å®šæ­¤å‚æ•°ï¼Œåˆ™é»˜è®¤ä»0å¼€å§‹ï¼Œå³ä»å­—ç¬¦ä¸²é¦–å¼€å§‹æŸ¥æ‰¾)ã€‚ æ‰¾åˆ°äº†ä¼šè¿”å›èµ·å§‹ä¸‹æ ‡ï¼Œæ²¡æ‰¾åˆ°ä¼šè¿”å›ä¸€ä¸ª std::string::npos (è¿™æ˜¯ä¸€ä¸ªé™æ€æˆå‘˜å¸¸é‡ï¼Œè¡¨ç¤ºæ²¡æœ‰æ‰¾åˆ°å­å­—ç¬¦ä¸²çš„å ä½ç¬¦å€¼)ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { string s1 = \"first second third\"; string s2 = \"second\"; int index1 = s1.find(s2, 6); int index2 = s1.find(s2, 7); // è¾“å‡º Found at index : 6 if(index1 != std::string::npos) cout\u003c\u003c\"Found at index : \"\u003c\u003c index1 \u003c\u003cendl; else cout\u003c\u003c\"Not found\"\u003c\u003cendl; // è¾“å‡º Not found if(index2 != std::string::npos) cout\u003c\u003c\"Found at index : \"\u003c\u003c index2 \u003c\u003cendl; else cout\u003c\u003c\"Not found\"\u003c\u003cendl; return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:3:6","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å­—ç¬¦ä¸²çš„æ¯”è¾ƒ\r==ã€!=ã€\u003c=ã€\u003e=ã€\u003c å’Œ \u003e æ“ä½œç¬¦éƒ½å¯ä»¥ç”¨äºè¿›è¡Œ string ç±»å‹å­—ç¬¦ä¸²çš„æ¯”è¾ƒï¼ˆæ˜¯ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹é€ä¸ªæ¯”è¾ƒçš„ï¼‰ï¼Œè¿™äº›æ“ä½œç¬¦ä¸¤è¾¹éƒ½å¯ä»¥æ˜¯ string å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä¸€è¾¹æ˜¯ string å­—ç¬¦ä¸²å¦ä¸€è¾¹æ˜¯å­—ç¬¦ä¸²æ•°ç»„ã€‚ #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; int main() { string s1 = \"secondsecondthird\"; string s2 = \"secondthird\"; if( s1 == s2 ) cout \u003c\u003c \" == \" \u003c\u003c endl; if( s1 != s2 ) cout \u003c\u003c \" != \" \u003c\u003c endl; if( s1 \u003c s2 ) cout \u003c\u003c \" \u003c \" \u003c\u003c endl; if( s1 \u003e s2 ) cout \u003c\u003c \" \u003e \" \u003c\u003c endl; return 0; } // æœ€ç»ˆè¾“å‡º != å’Œ \u003c ","date":"2024-08-07","objectID":"/posts/3b2b064/:3:7","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»å’Œå¯¹è±¡\rC++æ˜¯ä¸€é—¨ é¢å‘å¯¹è±¡ çš„ç¼–ç¨‹è¯­è¨€ï¼Œå­¦ä¹  C++ï¼Œå¿…é¡»è¦ææ¸…æ¥šç±»å’Œå¯¹è±¡çš„æ¦‚å¿µã€‚ ç±»æ˜¯C++é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å®ç°æ–¹å¼ï¼Œç±»å¯ä»¥çœ‹åšæ˜¯ç»“æ„ä½“çš„å‡çº§ç‰ˆï¼Œå®ƒæ—¢å¯ä»¥åŒ…å«å˜é‡ï¼Œä¹Ÿå¯ä»¥åŒ…å«å‡½æ•°ã€‚C++ä¸­çš„å¯¹è±¡ï¼Œå¯ä»¥ç†è§£ä¸ºé€šè¿‡ç±»å®šä¹‰å‡ºæ¥çš„å˜é‡ã€‚å’Œç»“æ„ä½“ä¸€æ ·ï¼Œç±»æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œè€Œå¯¹è±¡å°±æ˜¯ç±»è¿™ç§æ•°æ®ç±»å‹çš„ä¸€ä¸ªå˜é‡ã€‚ä¸€ä¸ªç±»å¯ä»¥åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ç±»çš„ä¸€ä¸ªå…·ä½“å®ä¾‹ï¼Œæ‹¥æœ‰ç±»ä¸­çš„å˜é‡å’Œå‡½æ•°ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»å’Œå¯¹è±¡çš„å®šä¹‰\rå®šä¹‰ä¸€ä¸ªç±»ä¸å®šä¹‰ä¸€ä¸ªç»“æ„ä½“çš„è¯­æ³•ç›¸ä¼¼ï¼Œåªä¸è¿‡å°† struct å…³é”®å­—æ¢ä½äº† class å…³é”®å­—ã€‚å®šä¹‰å®Œåå°±å¯ä»¥åƒä½¿ç”¨inté‚£æ ·æ¥ä½¿ç”¨ Studentå®šä¹‰å¯¹è±¡ã€æ•°ç»„ã€æŒ‡é’ˆã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š class Student { // åœ¨è¿™é‡Œå®šä¹‰æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•° }; int main() { Student xiao_ming; // å®šä¹‰äº†ä¸€ä¸ª Studentç±»å‹çš„å¯¹è±¡ xiao_ming Student all_student[1000]; // å®šä¹‰äº†ä¸€ä¸ªStudentç±»å‹çš„æ•°ç»„ï¼Œå¤§å°ä¸º1000 Student *stuptr; // å®šä¹‰äº†ä¸€ä¸ªStudentç±»å‹çš„æŒ‡é’ˆ return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°\rå‰é¢è¯´äº†ç±»ä¸ä»…æ‹¥æœ‰æˆå‘˜å˜é‡ï¼Œè¿˜æœ‰æˆå‘˜å‡½æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªStudentç±»çš„å®šä¹‰: class Student { // å®šä¹‰å¯¹åº”çš„æˆå‘˜å˜é‡ string _name; int _id_num; int _age; char _sex; // å®šä¹‰å¯¹åº”çš„æˆå‘˜å‡½æ•° void set_age(int age); int get_age(); }; ä½ å¯èƒ½å‘ç°äº†åœ¨å®šä¹‰ç±»çš„æ—¶å€™æˆ‘ä»¬å¹¶æ²¡æœ‰å®šä¹‰æˆå‘˜å‡½æ•°ï¼Œåªæ˜¯å¯¹å…¶è¿›è¡Œäº†å£°æ˜ï¼Œè¿™æ˜¯å› ä¸ºæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥ç»™å‡ºæˆå‘˜å‡½æ•°çš„å®šä¹‰ï¼š åœ¨å®šä¹‰ç±»ï¼Œå¯¹æˆå‘˜å‡½æ•°è¿›è¡Œå£°æ˜æ—¶å°±ç»™å‡ºå®šä¹‰ï¼Œè¿™ç§æ–¹æ³•è¢«ç§°ä¸ºå†…è”å®šä¹‰(å³ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ¨å‡½æ•°å‰åŠ ä¸Š inline å…³é”®å­—)ã€‚è¿™ç§å®šä¹‰æ–¹æ³•ç›´æ¥åœ¨å¤´æ–‡ä»¶(.h)ä¸­å†™å‡½æ•°å®šä¹‰ã€‚ åœ¨ç±»å¤–éƒ¨ç»™å‡ºå‡½æ•°å®šä¹‰ï¼Œå³åœ¨å¯¹åº”çš„.cppæ–‡ä»¶ä¸­ç»™å‡ºå‡½æ•°å®šä¹‰ï¼ˆéœ€è¦ä½¿ç”¨ä¸è§£æç¬¦ ::ï¼‰ã€‚ PS1ï¼š æ¨èä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ç»™å‡ºå‡½æ•°å®šä¹‰ï¼Œå³åœ¨å¤´æ–‡ä»¶ä¸­ç»™å‡ºç±»çš„å®šä¹‰ï¼ˆåªå¯¹æˆå‘˜å‡½æ•°è¿›è¡Œå£°æ˜ï¼‰ï¼Œåœ¨å¯¹åº”çš„ .cpp æ–‡ä»¶ä¸­ç»™å‡ºå‡½æ•°å®šä¹‰ã€‚åªæœ‰é‚£äº›ä¸€ä¸¤è¡Œå°±å¯ä»¥æå®šçš„æˆå‘˜å‡½æ•°æ‰ä½¿ç”¨å†…è”å®šä¹‰çš„æ–¹æ³•ã€‚ PS2ï¼š å…¶å®ä¸åªæˆå‘˜å‡½æ•°ï¼Œæ„é€ å‡½æ•°ã€ææ„å‡½æ•°ç­‰ä¹Ÿæ¨èä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ç»™å‡ºå®šä¹‰ï¼ˆé™¤éå‡½æ•°å®šä¹‰ç‰¹åˆ«çŸ­ï¼‰ã€‚ è¯´äº†é‚£ä¹ˆå¤šï¼Œä½ å¯èƒ½æœ‰ç‚¹è¿·ç³Šï¼Œé‚£å°±æ¥çœ‹çœ‹å…·ä½“ç¤ºä¾‹å§ï¼š class Student { // å®šä¹‰å¯¹åº”çš„æˆå‘˜å˜é‡ string _name; int _id_num; int _age; char _sex; // ä½¿ç”¨å†…è”å®šä¹‰ void set_age(int age) { _age = age; } int get_age() const { return _age; } //è¿™é‡Œçš„constè¡¨ç¤ºè¯¥å‡½æ•°åªä¼šè¯»å–å˜é‡å€¼ï¼Œä¸ä¼šä¿®æ”¹å˜é‡å€¼ï¼Œå¦‚æœä¿®æ”¹äº†å˜é‡å€¼ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚ }; /* ---------------------------------åˆ†å‰²çº¿--------------------------------- */ // åœ¨å¤´æ–‡ä»¶ example.h ä¸­ç»™å‡ºç±»å®šä¹‰ class Student { // å®šä¹‰å¯¹åº”çš„æˆå‘˜å˜é‡ string _name; int _id_num; int _age; char _sex; // åªå£°æ˜æˆå‘˜å‡½æ•° void set_age(int age); int get_age() const; }; // åœ¨å¯¹åº”çš„ example.cpp æ–‡ä»¶ç»™å‡ºæˆå‘˜å‡½æ•°çš„å®šä¹‰ void Student::set_age(int age) // éœ€è¦ä½¿ç”¨ ç±»å+åŸŸè§£æç¬¦:: å‘Šè¯‰ç¼–è¯‘å™¨è¿™æ˜¯å“ªä¸ªç±»çš„æˆå‘˜å‡½æ•° { _age = age; } int Student::get_age() const { return _age; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æˆå‘˜è®¿é—®ç¬¦\ré€šè¿‡å‰é¢çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¼šäº†å¦‚ä½•ç¼–å†™ä¸€ä¸ªç±»ã€å¦‚ä½•å®šä¹‰ä¸€ä¸ªç±»å¯¹è±¡ã€å¦‚ä½•å®šä¹‰ä¸€ä¸ªç±»å¯¹è±¡æŒ‡é’ˆç­‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•è®¿é—®ç±»æˆå‘˜å‘¢ï¼Ÿ å’Œç»“æ„ä½“ä¸€æ ·ï¼Œç±»å¯¹è±¡é€šè¿‡ . ç¬¦å·è®¿é—®æˆå‘˜ï¼Œç±»å¯¹è±¡æŒ‡é’ˆé€šè¿‡-\u003eç¬¦å·è®¿é—®æˆå‘˜ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; class Student { string _name; int _id_num; int _age; char _sex; public: void set_age(int age) { _age = age; } int get_age() const { return _age; } }; int main() { Student xiao_ming; Student *xiao_li_ptr = new Student; xiao_ming.set_age(20); cout \u003c\u003c xiao_ming.get_age() \u003c\u003c endl; xiao_li_ptr-\u003eset_age(22); cout \u003c\u003c xiao_li_ptr-\u003eget_age() \u003c\u003c endl; return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»æˆå‘˜çš„è®¿é—®æƒé™ä»¥åŠç±»çš„å°è£…\råœ¨ä¸Šä¸€å°èŠ‚ä¸­ï¼Œä½ å¯èƒ½æ³¨æ„åˆ°äº†æˆ‘åœ¨å®šä¹‰ç±»æ—¶ä½¿ç”¨äº† publicï¼Œè¿™æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œè¡¨ç¤ºè¯¥å…³é”®å­—ä¸‹çš„ç±»æˆå‘˜æ˜¯å…·æœ‰ å…¬å¼€çš„ è®¿é—®æƒé™ã€‚è¿™ä¸€èŠ‚å°±æ¥è¯¦ç»†è®²è§£ã€‚ åœ¨C++ä¸­ï¼Œé€šè¿‡ publicã€protectedã€private ä¸‰ä¸ªå…³é”®å­—æ¥æ§åˆ¶æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°çš„è®¿é—®æƒé™ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºå…¬æœ‰çš„ã€å—ä¿æŠ¤çš„ã€ç§æœ‰çš„ã€‚é€šä¿—æ¥è¯´ï¼Œå°±æ˜¯ä½¿ç”¨è¿™ä¸‰ä¸ªå…³é”®å­—æ¥é™åˆ¶æˆå‘˜çš„è®¿é—®æ–¹å¼ï¼Œä»¥å®ç°ç±»çš„å°è£…å®Œæˆï¼Œå®Œæˆæ•°æ®éšè—ã€‚è¿™ä¸‰ä¸ªè®¿é—®æƒé™ç”±é«˜åˆ°ä½ä¾æ¬¡ä¸ºï¼š public â†’ protected â†’ privateã€‚ åœ¨è¿™é‡Œä¸»è¦è®²è§£ public å’Œ private å…³é”®å­—ï¼Œprotected å°†ä¼šåœ¨ç»§æ‰¿å’Œæ´¾ç”Ÿé‚£ä¸€ç« è¿›è¡Œè¯¦ç»†è®²è§£ã€‚ ä½ ä¸»è¦éœ€è¦è®°ä½çš„æ˜¯ï¼š ç±»å¯¹è±¡å’Œç±»å¯¹è±¡æŒ‡é’ˆåªèƒ½è®¿é—® public æˆå‘˜ privateæˆå‘˜åªèƒ½è¢«è¯¥ç±»çš„å…¶ä»–æˆå‘˜è®¿é—® å°†å°½å¯èƒ½å¤šçš„æˆå‘˜è®¾ç½®ä¸ºç§æœ‰ï¼Œä»¥éšè—ç±»çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œåªæä¾›å¿…è¦çš„å…¬å…±æ¥å£ï¼ˆå³å‡½æ•°ï¼‰ä¾›å¤–éƒ¨è®¿é—®ã€‚ è‹¥æŸä¸ªç§æœ‰æˆå‘˜éœ€è¦è¢«æ´¾ç”Ÿç±»è®¿é—®ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º protected æˆå‘˜ ç¤ºä¾‹å¦‚ä¸‹ï¼š #include \u003ciostream\u003e using namespace std; //ç±»çš„å£°æ˜ class Student { private: // ç§æœ‰æˆå‘˜ï¼Œåªèƒ½è¢«è¯¥ç±»çš„å…¶ä»–æˆå‘˜è®¿é—® string _name; int _age; float _score; public: // å…¬æœ‰æˆå‘˜ void set_name(const string \u0026name); void set_age(const int age); void set_score(const float score); void showInfo() const; }; // æˆå‘˜å‡½æ•°çš„å®šä¹‰ void Student::set_name(const string \u0026name) { _name = name; } void Student::set_age(const int age) { _age = age; } void Student::set_score(const float score) { _score = score; } void Student::showInfo() const { cout \u003c\u003c _name \u003c\u003c \"çš„å¹´é¾„æ˜¯\" \u003c\u003c _age \u003c\u003c \"ï¼Œæˆç»©æ˜¯\" \u003c\u003c _score \u003c\u003c endl; } int main() { Student stu; stu.set_name(\"å°æ˜\"); stu.set_age(15); stu.set_score(92.5f); stu.showInfo(); Student *pstu = new Student; pstu -\u003e set_name(\"æå\"); pstu -\u003e set_age(16); pstu -\u003e set_score(96); pstu -\u003e showInfo(); return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:4","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»(class)å’Œç»“æ„ä½“(struct)çš„åŒºåˆ«\råœ¨Cè¯­è¨€ä¸­ï¼Œstruct æ˜¯åªèƒ½å®šä¹‰æˆå‘˜å˜é‡ï¼Œè€Œä¸èƒ½å®šä¹‰æˆå‘˜å‡½æ•°çš„ã€‚è€Œåœ¨ C++ ä¸­ï¼Œstruct ä¸ class ç›¸ä¼¼ï¼Œæ—¢å¯ä»¥å®šä¹‰æˆå‘˜å˜é‡ï¼Œåˆå¯ä»¥å®šä¹‰æˆå‘˜å‡½æ•°ã€‚ struct å’Œ classçš„åŒºåˆ«æœ‰ï¼š å½“ä¸æŒ‡å®šæˆå‘˜çš„è®¿é—®æƒé™æ—¶ï¼Œstructä¸­çš„æˆå‘˜é»˜è®¤æ˜¯ public å±æ€§ï¼Œè€Œclassä¸­çš„æˆå‘˜é»˜è®¤æ˜¯ private å±æ€§ã€‚ class ç»§æ‰¿é»˜è®¤æ˜¯ private ç»§æ‰¿ï¼Œè€Œ struct ç»§æ‰¿é»˜è®¤æ˜¯ public ç»§æ‰¿ class å¯ä»¥ä½¿ç”¨æ¨¡æ¿ï¼Œè€Œ struct ä¸èƒ½ åœ¨ç¼–å†™C++ä»£ç æ—¶ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ class æ¥å®šä¹‰ç±»ï¼Œè€Œä½¿ç”¨ struct æ¥å®šä¹‰ç»“æ„ä½“ï¼Œè¿™æ ·åšè¯­ä¹‰æ›´åŠ æ˜ç¡®ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:5","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"é€šè¿‡å¼•ç”¨æ¥ä¼ é€’å’Œè¿”å›ç±»å¯¹è±¡\råœ¨è®²å¼•ç”¨æ—¶ï¼Œæˆ‘ä»¬å°±è¯´äº†æ¨èä½¿ç”¨å¼•ç”¨ æ¥ä¼ é€’ç±»å¯¹è±¡ï¼Œè¿™æ˜¯å› ä¸ºé‡‡ç”¨ä¼ å€¼çš„æ–¹å¼éœ€è¦ç»å†å¯¹è±¡é—´çš„æ‹·è´æ“ä½œï¼Œä¸€å®šç¨‹åº¦ä¸Šä¼šé™ä½ç¨‹åºè¿è¡Œçš„æ•ˆç‡ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‡é’ˆæ¥ä¼ é€’ï¼Œä½†æ˜¯ä½¿ç”¨å¼•ç”¨æ›´åŠ ç®€ç»ƒç›´è§‚ã€‚ ç¤ºä¾‹å¦‚ä¸‹ï¼š #include \u003ciostream\u003e using namespace std; class Student { private: string _name; int _age; float _score; public: void set_name(const string \u0026name); void set_age(const int age); void set_score(const float score); string get_name()const {return _name;} int get_age()const {return _age;} float get_score()const {return _score;} }; void Student::set_name(const string \u0026name) { _name = name; } void Student::set_age(const int age) { _age = age; } void Student::set_score(const float score) { _score = score; } const Student\u0026 show(const Student \u0026mstu) // ä½¿ç”¨å¼•ç”¨æ¥ä¼ é€’å’Œè¿”å›å¯¹è±¡ { cout \u003c\u003c mstu.get_name() \u003c\u003c \"çš„å¹´é¾„æ˜¯\" \u003c\u003c mstu.get_age() \u003c\u003c \"ï¼Œæˆç»©æ˜¯\" \u003c\u003c mstu.get_score() \u003c\u003c endl; return mstu; } int main() { Student stu; stu.set_name(\"å°æ˜\"); stu.set_age(15); stu.set_score(92.5f); const Student \u0026t_stu = show(stu); cout \u003c\u003c t_stu.get_name() \u003c\u003c endl; // è¾“å‡ºå°æ˜ return 0; } PSï¼š è™½ç„¶å‰é¢å·²ç»è¯´è¿‡ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦æé†’çš„æ˜¯ ä¸è¦è¿”å›ä¸´æ—¶å˜é‡å’Œå±€éƒ¨å˜é‡çš„å¼•ç”¨ï¼ï¼ï¼ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:6","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æ„é€ å‡½æ•°åŠå…¶è°ƒç”¨\råœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªæˆå‘˜å˜é‡éƒ½ç¼–å†™äº†åˆå§‹åŒ–å‡½æ•°(set_nameã€set_ageç­‰)ï¼Œä½†æ˜¯ï¼Œè¿™å¾ˆéº»çƒ¦ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆç®€å•çš„æ–¹æ³•å¯ä»¥æ¥å®Œæˆåˆå§‹åŒ–å‘¢ï¼Ÿå½“ç„¶æœ‰ï¼Œé‚£å°±æ˜¯ä½¿ç”¨æ„é€ å‡½æ•°ï¼æœ‰äº†å®ƒå°±ä¸ç”¨ç¼–å†™ç±»ä¼¼äºset_nameã€set_ageçš„å‡½æ•°äº†ï¼Œå·æ‡’æ˜Ÿäººç‹‚å–œï¼ˆ*ï¼¾â–½ï¼¾ï¼‰/ æ„é€ å‡½æ•°æ˜¯ç±»ä¸­ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå…¶ç‰¹æ®Šä¹‹å¤„æœ‰ä¸‰ç‚¹ï¼š æ„é€ å‡½æ•°çš„å‡½æ•°åå¿…é¡»ä¸ç±»åç›¸åŒ æ„é€ å‡½æ•°æ— è¿”å›å€¼ åˆ›å»ºç±»å¯¹è±¡çš„æ—¶å€™ï¼Œæ„é€ å‡½æ•°ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ï¼Œè€Œæ— éœ€æˆ‘ä»¬ä¸»åŠ¨è°ƒç”¨ æ„é€ å‡½æ•°çš„ä½œç”¨å°±æ˜¯åˆå§‹åŒ–å¯¹è±¡ï¼Œå¹¶å¤„ç†å¯¹è±¡åˆ›å»ºæ—¶éœ€è¦å¤„ç†çš„å…¶å®ƒäº‹åŠ¡ã€‚ æ‰€ä»¥ï¼Œå‰é¢çš„ä»£ç æˆ‘ä»¬å°±å¯ä»¥ç®€åŒ–ä¸ºï¼š #include \u003ciostream\u003e using namespace std; class Student { private: string _name; int _age; float _score; public: Student(const string \u0026name, int age, float score); string get_name()const {return _name;} int get_age()const {return _age;} float get_score()const {return _score;} void showInfo() const; }; Student::Student(const string \u0026name, int age, float score) { _name = name; _age = age; _score = score; } void Student::showInfo() const { cout \u003c\u003c _name \u003c\u003c \"çš„å¹´é¾„æ˜¯\" \u003c\u003c _age \u003c\u003c \"ï¼Œæˆç»©æ˜¯\" \u003c\u003c _score \u003c\u003c endl; } int main() { Student stu(\"å°æ˜\", 15, 92.5f); // éšå¼è°ƒç”¨å¯¹åº”çš„æ„é€ å‡½æ•°å®Œæˆåˆå§‹åŒ– // Student stu1; // è¯¥ä»£ç æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºæ²¡æœ‰åŒ¹é…çš„æ„é€ å‡½æ•° stu.showInfo(); return 0; } éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºç¼–å†™äº†æ„é€ å‡½æ•°çš„ç±»ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šä¸ºå…¶ç”Ÿæˆä¸€ä¸ªè®¿é—®æƒé™ä¸ºpublicçš„æ— å‚çš„é»˜è®¤æ„é€ å‡½æ•°ï¼ˆè¯¥å‡½æ•°çš„å‡½æ•°ä½“ä¸ºç©ºï¼‰ï¼Œæ‰€ä»¥ä¸Šé¢æ³¨é‡Šçš„ä»£ç æ˜¯é”™è¯¯çš„ï¼ˆæ²¡æœ‰åŒ¹é…çš„æ„é€ å‡½æ•°ï¼‰ã€‚å¦‚æœè¦ä½¿ç”¨æ— å‚çš„æ„é€ å‡½æ•°å°±éœ€è¦è‡ªå·±æ‰‹åŠ¨ç¼–å†™äº†ã€‚ æ—¢ç„¶æœ‰éšå¼è°ƒç”¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆè‚¯å®šå°±æœ‰æ˜¾ç¤ºè°ƒç”¨æ„é€ å‡½æ•°çš„æ–¹æ³•ï¼Œä½†æ˜¯å¹¶ä¸æ¨èã€‚ æ˜¾ç¤ºè°ƒç”¨ä¸ºï¼šStudent stu = Student(\"å°æ˜\", 15, 92.5f); PSï¼š æ„é€ å‡½æ•°æ—¢ç„¶æ˜¯å‡½æ•°ï¼Œé‚£å®ƒå°±å¯ä»¥é‡è½½å’Œä½¿ç”¨é»˜è®¤å‚æ•°ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:7","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"åˆå§‹åŒ–åˆ—è¡¨\råœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ˜¯åœ¨ç±»å¤–éƒ¨ç»™å‡ºæ„é€ å‡½æ•°çš„å®šä¹‰æ¥è¿›è¡Œæˆå‘˜å˜é‡çš„åˆå§‹åŒ–ï¼Œè¿˜æ˜¯å¤ªéº»çƒ¦äº†ï¼ˆè¦å†™çš„ä»£ç å¤ªå¤šäº†ï¼ï¼‰ï¼Œè¿˜æœ‰æ›´ç®€å•çš„æ–¹æ³•å—ï¼Ÿ ç›´æ¥åœ¨å£°æ˜æ„é€ å‡½æ•°æ—¶ç»™å‡ºå®šä¹‰è¿›è¡Œåˆå§‹åŒ–ï¼ŸNoï¼Œè¿™æ ·çš„åˆå§‹åŒ–ä»£ç ä¸€ç‚¹ä¸ç®€æ´ä¸ä¼˜é›…ã€‚è¿™æ—¶ åˆå§‹åŒ–åˆ—è¡¨ å°±å‡ºåœºäº†ï¼ç›´æ¥çœ‹ä¾‹å­ï¼š #include \u003ciostream\u003e using namespace std; class Student { private: string _name; int _age; float _score; public: // ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥è¿›è¡Œæˆå‘˜å˜é‡çš„åˆå§‹åŒ– Student(const string \u0026name, int age, float score):_name(name), _age(age), _score(score){} string get_name()const {return _name;} int get_age()const {return _age;} float get_score()const {return _score;} void showInfo() const; }; void Student::showInfo() const { cout \u003c\u003c _name \u003c\u003c \"çš„å¹´é¾„æ˜¯\" \u003c\u003c _age \u003c\u003c \"ï¼Œæˆç»©æ˜¯\" \u003c\u003c _score \u003c\u003c endl; } int main() { Student stu(\"å°æ˜\", 15, 92.5f); stu.showInfo(); return 0; } å¦‚æœæ„é€ å‡½æ•°åªè¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼Œé‚£ä¹ˆå¢™è£‚æ¨èä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ã€‚å¦‚æœæ„é€ å‡½æ•°é™¤äº†åˆå§‹åŒ–æˆå‘˜å˜é‡ï¼Œè¿˜éœ€è¦è¿›è¡Œå…¶ä»–æ“ä½œï¼Œæ“ä½œè¾ƒçŸ­å¯ç›´æ¥å†™åœ¨å‡½æ•°ä½“å†…ï¼Œæ“ä½œè¾ƒé•¿é‚£è¿˜æ˜¯å»ºè®®ä¸ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åœ¨ç±»å¤–éƒ¨ç¼–å†™æ„é€ å‡½æ•°çš„å®šä¹‰ã€‚ æ³¨æ„ï¼Œæˆå‘˜å˜é‡çš„åˆå§‹åŒ–é¡ºåºä¸åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆ—å‡ºçš„å˜é‡çš„é¡ºåºæ— å…³ï¼Œå®ƒåªä¸æˆå‘˜å˜é‡åœ¨ç±»ä¸­å£°æ˜çš„é¡ºåºæœ‰å…³ã€‚ class Student { private: string _name; int _age; float _score; public: // åˆå§‹åŒ–é¡ºåºåªè·Ÿå˜é‡å£°æ˜é¡ºåºæœ‰å…³ï¼Œè¿™é‡Œçš„åˆå§‹åŒ–é¡ºåºä¸º _name, _age, _score Student(const string \u0026name, int age, float score): _score(score), _age(age), _name(name) {} ...... }; PSï¼šconstæˆå‘˜å˜é‡åªèƒ½ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥è¿›è¡Œåˆå§‹åŒ–ï¼ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:8","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è½¬å‹æ„é€ å‡½æ•°\ræ„é€ å‡½æ•°ä¸€èˆ¬åˆ’åˆ†ä¸ºä¸¤ç±»ï¼šé»˜è®¤æ„é€ å‡½æ•°ï¼ˆä¸å¸¦å‚æ•°ï¼‰å’Œå¸¦å‚æ„é€ å‡½æ•°ã€‚åœ¨å¸¦å‚æ„é€ å‡½æ•°ä¸­æœ‰ä¸¤ç§æ¯”è¾ƒå¸¸è§çš„æ„é€ å‡½æ•°ï¼šè½¬å‹æ„é€ å‡½æ•°å’Œå¤åˆ¶æ„é€ å‡½æ•°ã€‚åœ¨è¿™ä¸€èŠ‚å…ˆä»‹ç»è½¬å‹æ„é€ å‡½æ•°ã€‚ è½¬å‹æ„é€ å‡½æ•°ç”¨äº ã€Œéšå¼ç±»å‹è½¬æ¢ï¼Œéšå¼åœ°å°†å…¶ä»–ç±»å‹çš„å¯¹è±¡è½¬æ¢ä¸ºè¯¥ç±»çš„å¯¹è±¡ã€ã€‚å½“è½¬å‹æ„é€ å‡½æ•°åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œå½“è¿™ä¸ªå‚æ•°ä¸ºintç±»å‹ï¼Œåˆ™å¯ç”¨äºå°†intç±»å‹çš„å¯¹è±¡è½¬å˜ä¸ºè¯¥ç±»å¯¹è±¡ï¼›å½“è¿™ä¸ªå‚æ•°ä¸ºchar *ç±»å‹ï¼Œåˆ™å¯ç”¨äºå°†char *ç±»å‹çš„å¯¹è±¡è½¬å˜ä¸ºè¯¥ç±»å¯¹è±¡ã€‚ è¿™é‡Œä¸¾ä¸€ä¸ªå‚æ•°çš„è½¬å‹æ„é€ å‡½æ•°åªæ˜¯æ–¹ä¾¿è®²è§£ï¼Œè½¬å‹æ„é€ å‡½æ•°å½“ç„¶å¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œé€šè¿‡å­¦ä¹ ä¸‹é¢çš„ä¾‹å­è‡ªå·±å°±èƒ½ä¸¾ä¸€åä¸‰ã€‚ ç›´æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š #include \u003ciostream\u003e using namespace std; class Age { public: Age(int a):_age(a){} // å®šä¹‰äº†ä¸€ä¸ªè½¬å‹æ„é€ å‡½æ•°ï¼Œç”¨äºéšå¼ç±»å‹è½¬æ¢ private : int _age; }; void func(Age a) { cout \u003c\u003c \"The function is called.\" \u003c\u003c endl; } int main() { int num = 7; func(num); return 0; } æ˜æ˜funcå‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªAgeç±»å‹çš„å˜é‡ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªintç±»å‹çš„å˜é‡ä¹Ÿå¯ä»¥æˆåŠŸè°ƒç”¨è¯¥å‡½æ•°å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºæ‰§è¡Œä»£ç  func(num); æ—¶ï¼Œç¼–è¯‘å™¨å‘ç°å½¢å‚ä¸å®å‚ç±»å‹ä¸åŒ¹é…ä¸”åœ¨å½¢å‚çš„ç±»å®šä¹‰ä¸­å‘ç°äº†ä¸€ä¸ªç”¨äºå°†intç±»å‹å¯¹è±¡è½¬æ¢ä¸ºAgeç±»å‹å¯¹è±¡çš„è½¬å‹æ„é€ å‡½æ•°ï¼Œè¿™æ—¶ç¼–è¯‘å™¨å°±ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥è½¬å‹æ„é€ å‡½æ•°å°†intç±»å‹å¯¹è±¡è½¬æ¢ä¸ºAgeç±»å‹å¯¹è±¡ï¼Œç„¶åå†ä½¿ç”¨è½¬æ¢å‡ºçš„Ageç±»å‹å¯¹è±¡å»è°ƒç”¨funcå‡½æ•°ã€‚ ä¹‹æ‰€ä»¥è¯´æ˜¯éšå¼çš„ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªè½¬å‹è¿‡ç¨‹å®Œå…¨ç”±ç¼–è¯‘å™¨å®Œæˆï¼Œæ— éœ€ç¨‹åºè®¾è®¡äººå‘˜æ¥æ˜¾ç¤ºçš„è½¬æ¢ã€‚ éšå¼ç±»å‹è½¬æ¢ç»™æˆ‘ä»¬å¸¦æ¥äº†ä¸€å®šçš„ä¾¿åˆ©ï¼Œä½†æ›´å¯èƒ½ä¼šç»™æˆ‘ä»¬è®¾è®¡çš„ç¨‹åºå¸¦æ¥ä¸€äº›éš¾ä»¥è§‰å¯Ÿçš„ç»†å¾®é”™è¯¯ã€‚æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å…³é—­æ‰è¿™ç§éšå¼ç±»å‹è½¬æ¢ï¼Œè¿™æ—¶å°±éœ€ä½¿ç”¨ explicit å…³é”®å­—ã€‚ä¿®æ”¹ä¸Šé¢çš„ä¾‹å­ï¼š #include \u003ciostream\u003e using namespace std; class Age { public: explicit Age(int a):_age(a){} // ä½¿ç”¨ explicit å…³é”®å­—ï¼Œç¦æ­¢æ­¤æ„é€ å‡½æ•°ç”¨äºéšå¼ç±»å‹è½¬æ¢ private : int _age; }; void func(Age a) { cout \u003c\u003c \"The function is called.\" \u003c\u003c endl; } int main() { int num = 7; func(num); // ç¼–è¯‘æ—¶ï¼Œæ­¤ä»£ç å°±ä¼šæŠ¥é”™äº†ï¼Œå› ä¸ºå®å‚ä¸å½¢å‚ç±»å‹ä¸åŒ¹é…ä¸”æ— æ³•è½¬æ¢ return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:9","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¤åˆ¶ï¼ˆæ‹·è´ï¼‰æ„é€ å‡½æ•°\rå¤åˆ¶æ„é€ å‡½æ•°ä¹Ÿè¢«ç§°ä¸ºæ‹·è´æ„é€ å‡½æ•°ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ ã€Œåˆ›å»ºä¸€ä¸ªç°æœ‰å¯¹è±¡çš„å‰¯æœ¬ã€ã€‚æ ‡å‡†çš„å¤åˆ¶æ„é€ å‡½æ•°æ ¼å¼å¦‚ä¸‹ï¼š class MyClass { public: // æ ‡å‡†å¤åˆ¶æ„é€ å‡½æ•° MyClass(const MyClass\u0026 other) // ä½¿ç”¨ const é˜²æ­¢ä¿®æ”¹åŸå§‹å¯¹è±¡ï¼Œä¹Ÿå¯å»æ‰constï¼Œä½†æ˜¯å¼•ç”¨ç¬¦å·æ˜¯ä¸‡ä¸‡ä¸å¯å»æ‰çš„ { // ...åˆå§‹åŒ–ä»£ç ... } }; C++11æ ‡å‡†å¼•å…¥äº†ä¸€ç§ç‰¹æ®Šçš„å¤åˆ¶æ„é€ å‡½æ•°ï¼Œç§°ä¸ºâ€œå®Œç¾è½¬å‘â€æ„é€ å‡½æ•°ï¼Œå®ƒå¯ä»¥æœ‰å¤šä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿™äº›å‚æ•°å¯ä»¥é€šè¿‡æ¨¡æ¿å‚æ•°å®Œç¾è½¬å‘ç»™å…¶ä»–æ„é€ å‡½æ•°æˆ–å‡½æ•°ã€‚ä½†ä¸€èˆ¬æ ‡å‡†å¤åˆ¶æ„é€ å‡½æ•°å°±èƒ½æ»¡è¶³éœ€æ±‚äº†ã€‚å¦‚æœ‰éœ€è¦ï¼Œè¯·è‡ªè¡Œå­¦ä¹ â€œå®Œç¾è½¬å‘â€æ„é€ å‡½æ•°ã€‚ å¤åˆ¶æ„é€ å‡½æ•°çš„å‚æ•°å¿…é¡»æ˜¯è¯¥ç±»å¯¹è±¡çš„å¼•ç”¨ã€‚è¿™æ˜¯å› ä¸ºå¦‚æœä¸ä½¿ç”¨å¼•ç”¨ä¼ é€’ï¼Œé‚£å°±æ˜¯é€šè¿‡å€¼ä¼ é€’ï¼Œè€Œå€¼ä¼ é€’éœ€è¦é€šè¿‡å¤åˆ¶çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œå†å°†è¯¥ä¸´æ—¶å¯¹è±¡ä¼ é€’ç»™å¤åˆ¶æ„é€ å‡½æ•°ã€‚è€Œä¸´æ—¶å¯¹è±¡çš„å¤åˆ¶æ„é€ å‡½æ•°ä¹Ÿæ˜¯å€¼ä¼ é€’ï¼Œè¿™åˆéœ€è¦åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡2æ¥ä¼ é€’ï¼Œä¾æ¬¡ç±»æ¨ï¼Œä¼šåˆ›å»ºæ— é™å¤šçš„ä¸´æ—¶å¯¹è±¡ï¼Œå¯¼è‡´çˆ†æ ˆã€‚ ä½ å¯èƒ½è§‰ç‚¹æŠ½è±¡ï¼Œæ²¡å…³ç³»ï¼Œç›´æ¥çœ‹ä¾‹å­ï¼š class Student { public: Student(const Student s) // åˆ›å»ºäº†ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¼•ç”¨çš„å¤åˆ¶æ„é€ å‡½æ•° { ...... } private: ...... }; int main() { Student a; // åˆ›å»ºäº†ä¸€ä¸ªStudentç±»çš„å¯¹è±¡a Student b(a); // åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡bï¼Œç”¨aæ¥è¿›è¡Œåˆå§‹åŒ– /** * ç”±äºStudentç±»çš„å¤åˆ¶æ„é€ å‡½æ•°æ˜¯å€¼ä¼ é€’çš„ï¼Œæ‰€ä»¥ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼ˆå‡è®¾ä¸º temp1ï¼‰å¹¶ä½¿ç”¨aæ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œå† * å°†è¯¥ä¸´æ—¶å¯¹è±¡ä¼ é€’ç»™bçš„å¤åˆ¶æ„é€ å‡½æ•°ï¼Œå³ Student temp1(a); * è€Œåˆ›å»ºtemp1å¯¹è±¡åˆéœ€è¦åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ temp2 æ¥ä¼ é€’å€¼ç»™å…¶å¤åˆ¶æ„é€ å‡½æ•°ï¼Œå³ Student temp2(a); * è¿™æ ·å°±ä¼šæ— é™é€’å½’ä¸‹å»ï¼Œç›´åˆ°çˆ†æ ˆ */ return 0; } å½“ä½ æ²¡æœ‰ç¼–å†™å¤åˆ¶æ„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¤åˆ¶æ„é€ å‡½æ•°ï¼Œç”Ÿæˆçš„å¤åˆ¶æ„é€ å‡½æ•°åªèƒ½è¿›è¡Œæµ…å¤åˆ¶ã€‚ æµ…å¤åˆ¶ä¸æ·±å¤åˆ¶çš„å®šä¹‰\ræµ…å¤åˆ¶æ˜¯å¤åˆ¶å¯¹è±¡çš„æ•°æ®æˆå‘˜çš„å€¼ã€‚å¦‚æœæ•°æ®æˆå‘˜åŒ…æ‹¬æŒ‡å‘åŠ¨æ€åˆ†é…å†…å­˜çš„æŒ‡é’ˆï¼Œæµ…å¤åˆ¶ä¸ä¼šå¤åˆ¶å†…å­˜æœ¬èº«ï¼Œè€Œæ˜¯åªå¤åˆ¶æŒ‡é’ˆçš„å€¼ã€‚è¿™æ„å‘³ç€åŸå§‹å¯¹è±¡å’Œå¤åˆ¶å¯¹è±¡çš„æŒ‡é’ˆæˆå‘˜å°†æŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ æ·±å¤åˆ¶ä¸ä»…å¤åˆ¶éæŒ‡é’ˆæ•°æ®æˆå‘˜çš„å€¼ï¼Œè¿˜ä¼šå¤åˆ¶æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ç©ºé—´ï¼Œå³ç”³è¯·ä¸€å—æ–°çš„å†…å­˜ç©ºé—´ï¼Œåœ¨è¯¥å†…å­˜ç©ºé—´å­˜å‚¨ä¸åŸæ¥çš„å†…å­˜ç©ºé—´ä¸€æ ·çš„å€¼ï¼Œå¹¶å°†æ–°å†…å­˜ç©ºé—´çš„åœ°å€èµ‹å€¼ç»™å‰¯æœ¬å¯¹è±¡å¯¹åº”çš„æŒ‡é’ˆæˆå‘˜ã€‚è¿™æ„å‘³ç€åŸå§‹å¯¹è±¡å’Œå¤åˆ¶å¯¹è±¡çš„æŒ‡é’ˆæˆå‘˜å°†æŒ‡å‘ä¸åŒçš„å†…å­˜åœ°å€ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„ç‹¬ç«‹æ‹·è´ ç®€å•æ¥è¯´ï¼Œæµ…å¤åˆ¶å’Œæ·±å¤åˆ¶çš„å·®åˆ«å°±åœ¨äºæŒ‡é’ˆç±»å‹æˆå‘˜çš„å¤„ç†ï¼Œæµ…å¤åˆ¶åªä¼šå¤åˆ¶åˆå§‹å¯¹è±¡çš„æŒ‡é’ˆæˆå‘˜å­˜å‚¨çš„åœ°å€å€¼ï¼Œä¸ä¼šå¼€è¾Ÿæ–°ç©ºé—´ï¼›è€Œæ·±å¤åˆ¶åˆ™ä¼šå¼€è¾Ÿæ–°çš„å†…å­˜ç©ºé—´ï¼Œå°†åˆå§‹å¯¹è±¡çš„æŒ‡é’ˆæˆå‘˜æŒ‡å‘çš„å†…å­˜ç©ºé—´ä¸­å­˜å‚¨çš„å€¼å¤åˆ¶åˆ°æ–°å†…å­˜ç©ºé—´ä¸­ã€‚ æ—¢ç„¶ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆå¤åˆ¶æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™æ‰éœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹å†™å‘¢ï¼Ÿ å½“ç±»ä¸­æœ‰åŠ¨æ€èµ„æºéœ€è¦è¿›è¡Œæ·±æ‹·è´ é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°å¯èƒ½ä¼šå¯¼è‡´èµ„æºç®¡ç†é—®é¢˜ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:10","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ææ„å‡½æ•°\råœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œåœ¨å¯¹è±¡éœ€è¦è¢«é”€æ¯æ—¶ç³»ç»ŸåŒæ ·ä¼šè‡ªåŠ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥é‡Šæ”¾ç›¸å…³èµ„æºï¼ˆä¾‹å¦‚ç”³è¯·çš„å†…å­˜ç©ºé—´ç­‰ï¼‰ï¼Œè¿™ä¸ªå‡½æ•°è¢«ç§°ä¹‹ä¸ºææ„å‡½æ•°ã€‚ ææ„å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œä¸æ™®é€šæˆå‘˜å‡½æ•°ç›¸æ¯”ï¼Œæœ‰å¦‚ä¸‹ç‰¹å¾ï¼š æ— è¿”å›å€¼ ä¸æ¥å—ä»»ä½•å‚æ•° å‡½æ•°åå¿…é¡»ä¸º ~ç±»å ä¸èƒ½é‡è½½ï¼Œä¸€ä¸ªç±»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªææ„å‡½æ•° å¿…é¡»æ˜¯ public è®¿é—®æƒé™ ç¤ºä¾‹å¦‚ä¸‹ï¼š class Array { public: Array(): length(0), num(nullptr){} // nullptr è¡¨ç¤ºç©ºæŒ‡é’ˆ Array(int * A, int n); Array(const Array \u0026a); void setIndexValue(int value, int index); int * getArray() const; int get_length() const {return length;} ~Array(); // å®šä¹‰ææ„å‡½æ•° private: int length; int *num; }; // è¿™é‡Œåªéœ€å…³æ³¨ææ„å‡½æ•°ï¼Œå…¶ä»–å‡½æ•°å°±ä¸å†™äº† Array::~Array() { if(num != NULL) delete[] num; // é‡Šæ”¾ç”³è¯·çš„å†…å­˜ç©ºé—´ cout\u003c\u003c\"destructor\"\u003c\u003cendl; } ææ„å‡½æ•°çš„è°ƒç”¨é¡ºåºä¸æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºç›¸åï¼Œå³å…ˆè°ƒç”¨æ„é€ å‡½æ•°çš„å¯¹è±¡åè°ƒç”¨ææ„å‡½æ•°ï¼Œåè°ƒç”¨æ„é€ å‡½æ•°çš„å¯¹è±¡å…ˆè°ƒç”¨ææ„å‡½æ•°ã€‚ PSï¼š è™½ç„¶ç¼–è¯‘å™¨ä¼šç”Ÿæˆé»˜è®¤ææ„å‡½æ•°ï¼Œä½†è¿˜æ˜¯æ¨èè‡ªå·±ç¼–å†™ææ„å‡½æ•°ï¼Œç¡®ä¿èµ„æºçš„æ­£ç¡®é‡Šæ”¾ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:11","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¸¸é‡æŒ‡é’ˆthis\råœ¨C++ä¸­ï¼Œthis æŒ‡é’ˆæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆï¼Œå®ƒåœ¨æ¯ä¸ªéé™æ€æˆå‘˜å‡½æ•°ä¸­éƒ½éšå«åœ°å­˜åœ¨ã€‚this æŒ‡é’ˆå­˜å‚¨çš„æ˜¯è°ƒç”¨æˆå‘˜å‡½æ•°çš„å¯¹è±¡çš„åœ°å€ã€‚ä½¿ç”¨ this æŒ‡é’ˆå¯ä»¥è®¿é—®è°ƒç”¨å¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ï¼Œè¿™åœ¨å¤„ç†å¯¹è±¡å†…éƒ¨æ•°æ®æˆ–å®ç°é“¾å¼è°ƒç”¨æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚ PSï¼š é™æ€æˆå‘˜å‡½æ•°æ˜¯æ²¡æœ‰ this æŒ‡é’ˆçš„ï¼Œå­¦äº†åç»­ç« èŠ‚ ç±»ä¸ static å…³é”®å­— å°±å¯æ˜ç™½ã€‚ #include \u003ciostream\u003e using namespace std; class Box { public: Box(int length, int width): _length(length), _width(width) {} // ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ç›´æ¥åˆå§‹åŒ–æˆå‘˜å˜é‡ void set_length(int length) { this-\u003e_length = length; // ä½¿ç”¨thisæŒ‡é’ˆè®¿é—®æˆå‘˜å˜é‡ï¼Œè¿™åªæ˜¯ä¸¾ä¾‹ï¼Œå®é™…ä¸Šç›´æ¥å†™ _length = length; å³å¯ } // è¿”å› *this å…è®¸é“¾å¼è°ƒç”¨ Box\u0026 set_width(int width) { this-\u003e_width = width; return *this; } void display() const { std::cout \u003c\u003c \"Length: \" \u003c\u003c _length \u003c\u003c \", Width: \" \u003c\u003c _width \u003c\u003c std::endl; } private: int _width; int _length; }; int main() { Box box(20, 10); box.display(); // è¾“å‡º Length: 20, Width: 10 box.set_width(20).set_length(10); // é“¾å¼è°ƒç”¨ box.display(); // è¾“å‡º Length: 10, Width: 20 return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:12","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»ä¸ new å’Œ delete å…³é”®å­—\rå½“æˆ‘ä»¬éœ€è¦ä¸ºç±»å¯¹è±¡åŠ¨æ€åˆ†é…å†…å­˜ç©ºé—´å’Œé‡Šæ”¾å†…å­˜ç©ºé—´æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ C++è¯­è¨€æä¾›çš„ newã€new[]ã€deleteã€delete [] å…³é”®å­—ï¼Œä¸è¦ä½¿ç”¨ Cè¯­è¨€æä¾›çš„ malloc()ã€free() å‡½æ•°ã€‚ è¿™æ˜¯å› ä¸º newã€new[] åœ¨ç”³è¯·åˆ°å†…å­˜ç©ºé—´åä¼šè°ƒç”¨ç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œmalloc()ä¸ä¼šï¼›åŒç†ï¼Œdeleteã€delete [] åœ¨é‡Šæ”¾å†…å­˜ç©ºé—´å‰ä¼šå…ˆè°ƒç”¨ç±»çš„ææ„å‡½æ•°é‡Šæ”¾ç›¸å…³èµ„æºï¼Œè€Œfree()ä¸ä¼šã€‚ #include\u003ciostream\u003e using namespace std; class test { public: test(int num = 1):_num(num){cout \u003c\u003c _num \u003c\u003c \" Constructor\" \u003c\u003c endl;} ~test(){cout \u003c\u003c _num \u003c\u003c \" Destructor\" \u003c\u003c endl;} private: int _num; }; int main() { test * t0 = new test(0); // è¾“å‡ºï¼š0 Constructor test * t1 = new test[3]; // è¾“å‡º3æ¬¡ï¼š1 Constructor test * t2 = (test *)malloc(sizeof(test)); // ä¸ä¼šæœ‰è¾“å‡º delete t0; // è¾“å‡ºï¼š0 Destructor delete[] t1; // è¾“å‡º3æ¬¡ï¼š1 Destructor free(t2); // ä¸ä¼šæœ‰è¾“å‡º return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:13","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»ä¸ const å…³é”®å­—\råœ¨å‰é¢æˆ‘ä»¬å·²ç»è¯¦ä»‹ç»è¿‡constå…³é”®å­—äº†ï¼Œconstå½“ç„¶ä¹Ÿå¯ä»¥å’Œæˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ç»“åˆä½¿ç”¨ï¼ˆå’Œæ™®é€šå˜é‡ã€æ™®é€šå‡½æ•°ç»“åˆä½¿ç”¨çš„æ–¹æ³•ä¸€æ ·ï¼‰ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç±»å¯¹è±¡ä¹Ÿå¯ä»¥ç»“åˆconstå…³é”®å­—ï¼ˆå³åœ¨å®šä¹‰ç±»å¯¹è±¡æ—¶åœ¨ç±»åå‰åŠ ä¸Šconstå…³é”®å­—ï¼‰ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼šconstæˆå‘˜å˜é‡åªèƒ½ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥è¿›è¡Œåˆå§‹åŒ–ï¼›constæˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®ä»»ä½•æˆå‘˜å˜é‡ï¼Œä½†åªèƒ½è®¿é—®constæˆå‘˜å‡½æ•°ï¼›constå¯¹è±¡åªèƒ½è®¿é—®constæˆå‘˜å‡½æ•°ã€‚ PS: å¯¹äºconstæˆå‘˜å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä½¿ç”¨constæ¥ä¿®é¥°å…¶thisæŒ‡é’ˆï¼Œç¡®ä¿å…¶ä¸ä¼šä¿®æ”¹å®åˆ—å¯¹è±¡çš„çŠ¶æ€ï¼ˆå³æ”¹å˜å±äºå¯¹è±¡çš„æˆå‘˜å˜é‡ï¼‰ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:14","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»ä¸ mutable å…³é”®å­—ï¼ˆé€‰è¯»ï¼‰\rmutableçš„å«ä¹‰æ˜¯â€œå¯å˜çš„ï¼Œæ˜“å˜çš„â€ï¼Œä¸å¸¸é‡å…³é”®è¯constçš„å«ä¹‰ç›¸åã€‚é‚£ä¹ˆä»€ä¹ˆæ—¶å€™æ‰éœ€è¦ä½¿ç”¨è¯¥å…³é”®è¯å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™æ‰éœ€è¦å°†ä¸€ä¸ªæˆå‘˜å˜é‡å£°æ˜ä¸ºå¯å˜çš„å‘¢ï¼Ÿ æ²¡é”™ï¼å°±æ˜¯éœ€è¦åœ¨constæˆå‘˜å‡½æ•°ä¸­è¢«ä¿®æ”¹çš„æˆå‘˜å˜é‡ï¼å½“ä¸€ä¸ªæˆå‘˜å‡½æ•°è¢«constä¿®é¥°æ—¶ï¼Œè¯´æ˜è¯¥å‡½æ•°ä¸ä¼šå»ä¿®æ”¹æˆå‘˜å˜é‡çš„å€¼ã€‚ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨constæˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹æŸä¸ªä¸ç±»å¯¹è±¡å…³ç³»ä¸å¤§çš„å˜é‡ã€‚æ¯”å¦‚ï¼Œç»Ÿè®¡æŸä¸ªconstæˆå‘˜å‡½æ•°è°ƒç”¨æ¬¡æ•°ï¼Œè¿™æ—¶å°±éœ€è¦å°†å­˜å‚¨è°ƒç”¨æ¬¡æ•°çš„å˜é‡å£°æ˜ä¸º mutableã€‚ class Counter { private: mutable int callCount; // å°†å…¶å£°æ˜ä¸ºå¯å˜çš„ public: Counter() : callCount(0) {} void someConstMethod() const { ++callCount; // å¯ä»¥åœ¨ const å‡½æ•°ä¸­è¢«ä¿®æ”¹ // æ‰§è¡Œå…¶ä»–é€»è¾‘ } int getCallCount() const { return callCount; } }; ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:15","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»ä¸ static å…³é”®å­—\ré™æ€æˆå‘˜å˜é‡\råˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®¾è®¡çš„ç±»çš„æ‰€æœ‰æˆå‘˜å˜é‡éƒ½å±äºè¯¥ç±»å¯¹è±¡ï¼Œå¹¶ä¸å±äºç±»ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å‰é¢è®¾è®¡çš„Studentç±» class Student { private: string _name; int _age; float _score; public: // ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥è¿›è¡Œæˆå‘˜å˜é‡çš„åˆå§‹åŒ– Student(const string \u0026name, int age, float score):_name(name), _age(age), _score(score){} string get_name()const {return _name;} int get_age()const {return _age;} float get_score()const {return _score;} void showInfo() const; }; æ¯ä¸ªStudentå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„å­˜å‚¨ç©ºé—´ï¼Œç”¨æ¥å­˜å‚¨è‡ªå·±çš„_nameã€_ageã€_scoreå˜é‡ï¼Œä½ ä¿®æ”¹ a._age å€¼å¹¶ä¸å½±å“ b._age å€¼ã€‚ å¯æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›åœ¨å¤šä¸ªå¯¹è±¡ä¹‹é—´å…±äº«æ•°æ®ï¼Œå¯¹è±¡aæ”¹å˜äº†æŸä¸ªæ•°æ®åå¯¹è±¡bå¯ä»¥æ£€æµ‹åˆ°ã€‚è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨é™æ€æˆå‘˜å˜é‡æ¥å®ç°æ•°æ®å…±äº«ï¼Œå³åœ¨å˜é‡ç±»å‹å‰ä½¿ç”¨ static å…³é”®å­—ä¿®é¥°ã€‚ èƒ½å®ç°æ•°æ®å…±äº«çš„åŸå› åœ¨äº ã€Œé™æ€æˆå‘˜å˜é‡å±äºç±»ï¼Œä¸å±äºè¯¥ç±»å¯¹è±¡ã€ï¼Œå³ä½¿åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œä¹Ÿåªä¸ºé™æ€æˆå‘˜å˜é‡åˆ†é…ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½ä½¿ç”¨è¿™ä¸ªå†…å­˜ç©ºé—´çš„æ•°æ®ã€‚å½“æŸä¸ªå¯¹è±¡ä¿®æ”¹äº†å…¶å€¼ï¼Œä¹Ÿä¼šå½±å“åˆ°å…¶ä»–å¯¹è±¡ã€‚ class Student { public: Student(){_count++;} ~Student(){_count--;} private: static int _count; //å…¶å®ƒæˆå‘˜å˜é‡ }; åœ¨ä¸Šé¢çš„ç®€å•ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª_counté™æ€æˆå‘˜å˜é‡ç”¨æ¥ç»Ÿè®¡å­¦ç”Ÿäººæ•°ã€‚ä½ å¯èƒ½å‘ç°äº†ï¼Œåœ¨å®šä¹‰_countæ—¶æˆ‘ä»¬å¹¶æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™æ˜¯å› ä¸º ã€Œé™æ€æˆå‘˜å˜é‡åªèƒ½åœ¨ç±»å¤–éƒ¨è¿›è¡Œåˆå§‹åŒ–ã€ï¼Œå…·ä½“æ ¼å¼ä¸ºï¼š ç±»å‹ ç±»å::å˜é‡å = å€¼ é‚£ä¹ˆå°±å°†ä¸Šé¢çš„ä¾‹å­å®Œæˆåˆå§‹åŒ–å§ï¼š class Student { public: Student(){_count++;} ~Student(){_count--;} private: static int _count; //å…¶å®ƒæˆå‘˜å˜é‡ }; int Student::_count = 0; // ä¸èƒ½å†åŠ ä¸Š static æ³¨æ„ï¼š static æˆå‘˜å˜é‡çš„å†…å­˜æ—¢ä¸æ˜¯åœ¨å®šä¹‰ç±»æ—¶åˆ†é…ï¼Œä¹Ÿä¸æ˜¯åœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆ†é…ï¼Œè€Œæ˜¯åœ¨åˆå§‹åŒ–æ—¶åˆ†é…ã€‚åè¿‡æ¥è¯´ï¼Œæ²¡æœ‰åœ¨ç±»å¤–è¿›è¡Œåˆå§‹åŒ–çš„ static æˆå‘˜å˜é‡æ˜¯ä¸èƒ½ä½¿ç”¨çš„ã€‚ä¸”é™æ€æˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œé‚£ä¹ˆåœ¨åˆå§‹åŒ–åå°±å¯ä½¿ç”¨ ç±»å::é™æ€æˆå‘˜å˜é‡å çš„æ–¹å¼å¯¹è®¿é—®æƒé™ä¸º publicçš„é™æ€æˆå‘˜å˜é‡ è¿›è¡Œè®¿é—®ã€‚ é™æ€æˆå‘˜å˜é‡çš„å†…å­˜ç©ºé—´åœ¨å“ªï¼Ÿ\ré™æ€æˆå‘˜å˜é‡çš„å†…å­˜ç©ºé—´å’Œæ™®é€šé™æ€å˜é‡ã€å…¨å±€å˜é‡ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨å†…å­˜çš„å…¨å±€æ•°æ®åŒºè¿›è¡Œåˆ†é…ï¼Œåœ¨è¯¥é™æ€æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–æ—¶åˆ†é…ï¼Œåˆ°ç¨‹åºç»“æŸæ—¶æ‰é‡Šæ”¾ã€‚ é™æ€æˆå‘˜å‡½æ•°\ræ—¢ç„¶å¯ä»¥å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Œé‚£ä¹ˆå¯ä¸å¯ä»¥å£°æ˜é™æ€æˆå‘˜å‡½æ•°å‘¢ï¼Ÿå½“ç„¶å¯ä»¥ï¼åŒæ ·çš„åœ¨å‡½æ•°è¿”å›å€¼å‰åŠ ä¸Šstaticå…³é”®å­—å³å¯å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°ã€‚ åœ¨å‰é¢æˆ‘ä»¬è¯´ï¼šéé™æ€æˆå‘˜å˜é‡æ˜¯å±äºå¯¹è±¡çš„ï¼Œè€Œé™æ€æˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ã€‚é‚£ä¹ˆç”±æ­¤å¯çŸ¥é™æ€æˆå‘˜å‡½æ•°ä¹Ÿæ˜¯å±äºç±»çš„ï¼Œé‚£éé™æ€æˆå‘˜å‡½æ•°å‘¢ï¼Ÿ æ²¡é”™ï¼éé™æ€æˆå‘˜å‡½æ•°ä¹Ÿæ˜¯ã€Œå±äºç±»ã€çš„ï¼ éé™æ€æˆå‘˜å‡½æ•°å’Œé™æ€æˆå‘˜å‡½æ•°çš„æ ¹æœ¬åŒºåˆ«åœ¨äºï¼šã€Œéé™æ€æˆå‘˜å‡½æ•°æœ‰thisæŒ‡é’ˆï¼Œå¯ä»¥è®¿é—®ç±»ä¸­ä»»æ„æˆå‘˜ï¼›è€Œé™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œåªèƒ½è®¿é—®ç±»çš„é™æ€æˆå‘˜ï¼ˆé™æ€æˆå‘˜å˜é‡å’Œé™æ€æˆå‘˜å‡½æ•°ï¼‰ã€ã€‚ é‚£ä¹ˆå°±æ¥æŠŠä¸Šé¢çš„Studentç±»å®Œå–„ä¸€ä¸‹å§ï¼Œ #include \u003ciostream\u003e using namespace std; class Student { public: Student(char *name, int age, float score); void show() const; public: //å£°æ˜é™æ€æˆå‘˜å‡½æ•° static int getTotal(); static float getPoints(); private: static int _total; //æ€»äººæ•° static float _points; //æ€»æˆç»© private: char *_name; int _age; float _score; }; // é™æ€æˆå‘˜å˜é‡åˆå§‹åŒ– int Student::_total = 0; float Student::_points = 0.0; Student::Student(char *name, int age, float score): _name(name), _age(age), _score(score) { _total++; _points += score; } void Student::show() const { cout \u003c\u003c _name \u003c\u003c \"çš„å¹´é¾„æ˜¯\" \u003c\u003c _age \u003c\u003c \"ï¼Œæˆç»©æ˜¯\" \u003c\u003c _score \u003c\u003c endl; } //å®šä¹‰é™æ€æˆå‘˜å‡½æ•° int Student::getTotal() { return _total; } float Student::getPoints() { return _points; } int main() { (new Student(\"å°æ˜\", 15, 90.6)) -\u003e show(); (new Student(\"æç£Š\", 16, 80.5)) -\u003e show(); (new Student(\"å¼ å\", 16, 99.0)) -\u003e show(); (new Student(\"ç‹åº·\", 14, 60.8)) -\u003e show(); int total = Student::getTotal(); float points = Student::getPoints(); cout \u003c\u003c \"å½“å‰å…±æœ‰\" \u003c\u003c total \u003c\u003c \"åå­¦ç”Ÿï¼Œæ€»æˆç»©æ˜¯\" \u003c\u003c points \u003c\u003c \"ï¼Œå¹³å‡åˆ†æ˜¯\" \u003c\u003c points/total \u003c\u003c endl; return 0; } æ—¢ç„¶éé™æ€æˆå‘˜å‡½æ•°å’Œé™æ€æˆå‘˜å‡½æ•°éƒ½å±äºç±»ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜è¦æŠŠä¸€ä¸ªæˆå‘˜å‡½æ•°å£°æ˜ä¸ºé™æ€çš„å‘¢ï¼Ÿå‰é¢å·²ç»è¯´äº†ï¼Œé™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Œå½“ä¸€ä¸ªæˆå‘˜å‡½æ•°åªä¼šå»è®¿é—®é™æ€æˆå‘˜å˜é‡æ—¶ï¼Œæˆ‘ä»¬å°±å¯å°†å…¶å£°æ˜ä¸ºé™æ€æˆå‘˜å‡½æ•°ï¼Œè¿™æ ·å¯ä»¥æ›´åŠ æ˜ç¡®è¯¥å‡½æ•°çš„åŠŸèƒ½ï¼Œä½¿è¯­ä¹‰æ›´åŠ æ¸…æ™°ã€‚ æ³¨æ„ï¼š é™æ€æˆå‘˜å‡½æ•°ä¸èƒ½è¢«constä¿®é¥°ï¼Œåœ¨å‰é¢çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“å¯¹äºconstæˆå‘˜å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šä½¿ç”¨constæ¥ä¿®é¥°å…¶thisæŒ‡é’ˆï¼Œç¡®ä¿å…¶ä¸ä¼šä¿®æ”¹å®åˆ—å¯¹è±¡çš„çŠ¶æ€ã€‚ä½†é™æ€æˆå‘˜å‡½æ•°å¹¶æ²¡thisæŒ‡é’ˆï¼Œæœ¬å°±ä¸ä¼šä¿®æ”¹å®åˆ—å¯¹è±¡çš„çŠ¶æ€ï¼Œè‡ªç„¶å°±ä¸èƒ½ä½¿ç”¨constä¿®é¥°ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:16","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»\ræˆ‘ä»¬åœ¨å‰é¢è¯´åªæœ‰è¯¥ç±»çš„æˆå‘˜å‡½æ•°æ‰èƒ½è®¿é—®è¯¥ç±»çš„privateæˆå‘˜ï¼Œåªæœ‰è¯¥ç±»çš„æˆå‘˜å‡½æ•°åŠå…¶æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®è¯¥ç±»çš„protectedæˆå‘˜ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä¸€ç§ä¾‹å¤–æƒ…å†µâ€”â€”å‹å…ƒï¼ˆfriendï¼‰ã€‚ã€Œé€šè¿‡friendå…³é”®å­—å¯ä»¥ä½¿å¾—å…¶ä»–ç±»çš„æˆå‘˜å‡½æ•°ä»¥åŠå…¨å±€èŒƒå›´å†…çš„å‡½æ•°è®¿é—®å½“å‰ç±»çš„privateå’Œprotectedæˆå‘˜ã€ã€‚ å‹å…ƒå‡½æ•°\rå½“è¯¥ç±»å¤–çš„å‡½æ•°ï¼ˆæŒ‡å…¶ä»–ç±»çš„æˆå‘˜å‡½æ•°å’Œå…¨å±€èŒƒå›´å†…çš„å‡½æ•°ï¼‰éœ€è¦è®¿é—®è¯¥ç±»çš„privateå’Œprotectedæˆå‘˜æ—¶ï¼Œå°±å¯åœ¨è¯¥ç±»ä¸­å°†æ­¤å‡½æ•°å£°æ˜ä¸ºå‹å…ƒå‡½æ•°ã€‚ #include \u003ciostream\u003e using namespace std; class Student{ public: Student(char *name, int age, float score); public: friend void show(const Student \u0026stu); // å°†å…¨å±€èŒƒå›´å†…çš„å‡½æ•° show()å£°æ˜ä¸ºå‹å…ƒå‡½æ•° private: char *_name; int _age; float _score; }; Student::Student(char *name, int age, float score): _name(name), _age(age), _score(score){ } void show(const Student \u0026stu) { cout \u003c\u003c stu._name \u003c\u003c \"çš„å¹´é¾„æ˜¯ \" \u003c\u003c stu._age \u003c\u003c \"ï¼Œæˆç»©æ˜¯ \" \u003c\u003c stu._score \u003c\u003c endl; } int main() { Student stu(\"å°æ˜\", 15, 90.6); show(stu); // è°ƒç”¨å‹å…ƒå‡½æ•° return 0; } æ³¨æ„ï¼š å‹å…ƒå‡½æ•°æ¯•ç«Ÿä¸æ˜¯è¯¥ç±»çš„å‡½æ•°ï¼Œåœ¨å‹å…ƒå‡½æ•°ä¸­ä¸èƒ½ç›´æ¥è®¿é—®è¯¥ç±»æˆå‘˜ï¼Œå¿…é¡» ã€Œå€ŸåŠ©è¯¥ç±»å¯¹è±¡æˆ–è¯¥ç±»å¯¹è±¡æŒ‡é’ˆã€ã€‚å‹å…ƒå‡½æ•°çš„åœ¨è¯¥ç±»ä¸­çš„å£°æ˜ä½ç½®æ²¡æœ‰è¦æ±‚ï¼Œä½†æ˜¯æ¨èåœ¨ public ä¸‹å£°æ˜ã€‚ å‹å…ƒç±»\rä¸ä»…å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°å£°æ˜ä¸ºä¸€ä¸ªç±»çš„ â€œæœ‹å‹â€ï¼Œè¿˜å¯ä»¥å°†æ•´ä¸ªç±»å£°æ˜ä¸ºå¦ä¸€ä¸ªç±»çš„ â€œæœ‹å‹â€ï¼Œè¿™å°±æ˜¯å‹å…ƒç±»ã€‚å‹å…ƒç±»ä¸­çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½æ˜¯å¦ä¸€ä¸ªç±»çš„å‹å…ƒå‡½æ•°ã€‚ ä¾‹å¦‚å°†ç±» B å£°æ˜ä¸ºç±» A çš„å‹å…ƒç±»ï¼Œé‚£ä¹ˆç±» B ä¸­çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½æ˜¯ç±» A çš„å‹å…ƒå‡½æ•°ï¼Œå¯ä»¥è®¿é—®ç±» A çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ publicã€protectedã€private å±æ€§çš„ã€‚ // æå‰å£°æ˜Addressç±»ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨å­˜åœ¨Addressç±» class Address; //å£°æ˜Studentç±» class Student{ public: Student(char *name, int age, float score); public: void show(Address *addr); // åœ¨è¿™é‡Œè¿˜æœªè¿›è¡ŒAddressç±»çš„å£°æ˜ï¼Œæ‰€ä»¥éœ€è¦åœ¨å‰é¢è¿›è¡Œæå‰å£°æ˜å­˜åœ¨Addressç±» private: char *_name; int _age; float _score; }; //å£°æ˜Addressç±» class Address { public: Address(char *province, char *city, char *district); public: //å°†Studentç±»å£°æ˜ä¸ºAddressç±»çš„å‹å…ƒç±»ï¼ŒStudentç±»çš„æˆå‘˜å‡½æ•°å‡å¯è®¿é—®è¯¥ç±»çš„æˆå‘˜ friend class Student; private: char *_province; char *_city; char *_district; }; æ³¨æ„ï¼š é™¤éæœ‰å¿…è¦ï¼Œä¸€èˆ¬ä¸å»ºè®®æŠŠæ•´ä¸ªç±»å£°æ˜ä¸ºå‹å…ƒç±»ï¼Œè€Œåªå°†æŸäº›æˆå‘˜å‡½æ•°å£°æ˜ä¸ºå‹å…ƒå‡½æ•°ï¼Œè¿™æ ·æ›´å®‰å…¨ä¸€äº›ã€‚ä¸”å‹å…ƒå…³ç³»æ˜¯ä¸èƒ½ä¼ é€’çš„ã€‚æ¯”å¦‚ç±»Bæ˜¯ç±»Açš„å‹å…ƒç±»ï¼Œç±»Cæ˜¯ç±»Bçš„å‹å…ƒç±»ï¼Œä½†ç±»Cä¸æ˜¯ç±»Açš„å‹å…ƒã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:4:17","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç»§æ‰¿å’Œæ´¾ç”Ÿ\r","date":"2024-08-07","objectID":"/posts/3b2b064/:5:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç»§æ‰¿çš„æ¦‚å¿µä¸è¯­æ³•\råœ¨C++ä¸­ç»§æ‰¿æ˜¯ä¸€ä¸ªå¾ˆç®€å•å¾ˆç›´è§‚çš„æ¦‚å¿µï¼Œæè¿°çš„æ˜¯ ã€Œç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ã€ã€‚ä¸ç°å®ä¸–ç•Œä¸­çš„ç»§æ‰¿ç±»ä¼¼ï¼Œä¾‹å¦‚å„¿å­ç»§æ‰¿çˆ¶äº²çš„è´¢äº§ã€‚Bç»§æ‰¿äºAå¯ä»¥ç†è§£ä¸ºã€ŒBç±»è·å–äº†Aç±»çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ã€ã€‚ åœ¨C++ä¸­ç»§æ‰¿å’Œæ´¾ç”Ÿæ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼Œåªæ˜¯ç«™çš„è§’åº¦ä¸åŒã€‚ç»§æ‰¿æ˜¯å„¿å­æ¥æ”¶çˆ¶äº²çš„äº§ä¸šï¼Œæ´¾ç”Ÿæ˜¯çˆ¶äº²æŠŠäº§ä¸šä¼ æ‰¿ç»™å„¿å­ã€‚ è¢«ç»§æ‰¿çš„ç±»ç§°ä¸ºçˆ¶ç±»æˆ–åŸºç±»ï¼Œç»§æ‰¿çš„ç±»ç§°ä¸ºå­ç±»æˆ–æ´¾ç”Ÿç±»ã€‚é€šå¸¸â€œå­ç±»â€å’Œâ€œçˆ¶ç±»â€æ”¾åœ¨ä¸€èµ·ç§°å‘¼ï¼Œâ€œåŸºç±»â€å’Œâ€œæ´¾ç”Ÿç±»â€æ”¾åœ¨ä¸€èµ·ç§°å‘¼ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½ æŠŠAç±»ç§°ä¸ºçˆ¶ç±»çš„è¯ï¼Œå°±å¾—æŠŠBç±»ç§°ä¸ºå­ç±»ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥å°†å…¶ç§°ä¸ºæ´¾ç”Ÿç±»ï¼Œä½†æ˜¯ä¸åè°ƒï¼‰ã€‚ æ´¾ç”Ÿç±»é™¤äº†å¤©ç„¶æ‹¥æœ‰åŸºç±»çš„æˆå‘˜ï¼Œè¿˜å¯ä»¥å®šä¹‰è‡ªå·±çš„æ–°æˆå‘˜ï¼Œä»¥å¢å¼ºç±»çš„åŠŸèƒ½ã€‚ å¸¸è§çš„ç»§æ‰¿ä½¿ç”¨åœºæ™¯æœ‰ï¼š åˆ›å»ºçš„æ–°ç±»ä¸æŸä¸ªå·²æœ‰ç±»å¾ˆç›¸ä¼¼ï¼Œåªæ˜¯å¤šå‡ºè‹¥å¹²æˆå‘˜ï¼Œå¯ä»¥è®©æ–°ç±»ç»§æ‰¿äºè¯¥å·²æœ‰ç±»ã€‚ å½“éœ€è¦åˆ›å»ºå¤šä¸ªç±»æ—¶ï¼Œè¿™äº›ç±»æ‹¥æœ‰å¾ˆå¤šç›¸ä¼¼æˆå‘˜ï¼Œå¯ä»¥å°†è¿™äº›ç›¸ä¼¼æˆå‘˜æå–å‡ºæ¥ï¼Œå®šä¹‰ä¸ºä¸€ä¸ªåŸºç±»ï¼Œç„¶åä»è¯¥åŸºç±»æ´¾ç”Ÿå‡ºè¿™äº›ç±»ã€‚ åŸºç±»çš„å®šä¹‰æ–¹æ³•ä¸æ™®é€šç±»ä¸€æ ·ï¼Œæ´¾ç”Ÿç±»çš„å®šä¹‰è¯­æ³•ä¸ºï¼š class æ´¾ç”Ÿç±»ç±»å: ç»§æ‰¿æ–¹å¼ åŸºç±»å { ...... }; è¯´äº†é‚£ä¹ˆå¤šï¼Œç›´æ¥æ¥çœ‹ä¾‹å­ï¼š #include\u003ciostream\u003e using namespace std; //å®šä¹‰ä¸€ä¸ªåŸºç±» Pelple class People { public: void set_name(char *name); void set_age(int age); char *get_name() const; int get_age() const; private: char *_name; int _age; }; void People::set_name(char *name){ _name = name; } void People::set_age(int age){ _age = age; } char* People::get_name()const { return _name; } int People::get_age()const { return _age;} //æ´¾ç”Ÿç±» Studentï¼Œé‡‡ç”¨publicç»§æ‰¿æ–¹å¼ï¼Œåé¢ä¼šè¯¦ç»†è®²è§£ç»§æ‰¿æ–¹å¼ class Student: public People { public: void set_score(float score); float get_score() const; private: float _score; }; void Student::set_score(float score){ _score = score; } float Student::get_score() const { return _score; } int main(){ Student stu; // ç»§æ‰¿äº†Peopleç±»çš„å¯¹åº”æˆå‘˜ stu.set_name(\"å°æ˜\"); stu.set_age(16); stu.set_score(95.5f); cout \u003c\u003c stu.get_name() \u003c\u003c \"çš„å¹´é¾„æ˜¯ \" \u003c\u003c stu.get_age() \u003c\u003c \"ï¼Œæˆç»©æ˜¯ \" \u003c\u003c stu.get_score() \u003c\u003c endl; return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç»§æ‰¿æ–¹å¼\ræ´¾ç”Ÿç±»ç»§æ‰¿åŸºç±»çš„ç»§æ‰¿æ–¹å¼æœ‰ä¸‰ç§ï¼špublicã€protectedã€privateã€‚æ²¡é”™ï¼Œåˆæ˜¯å®ƒä»¬ä¸‰å…„å¼Ÿï¼åœ¨æ²¡æœ‰æŒ‡å®šç»§æ‰¿æ–¹å¼æ—¶ï¼Œç¼–è¯‘å™¨é»˜è®¤ç»§æ‰¿æ–¹å¼ä¸ºprivateã€‚ è¿™ä¸‰ç§ç»§æ‰¿æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿä¸åŒçš„ç»§æ‰¿æ–¹å¼ä¼šå½±å“åŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®æƒé™ã€‚ publicç»§æ‰¿æ–¹å¼ åŸºç±»ä¸­çš„publicæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯publicè®¿é—®æƒé™ åŸºç±»ä¸­çš„protectedæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯protectedè®¿é—®æƒé™ protectedç»§æ‰¿æ–¹å¼ åŸºç±»ä¸­çš„publicæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯protectedè®¿é—®æƒé™ åŸºç±»ä¸­çš„protectedæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶æ˜¯protectedè®¿é—®æƒé™ privateç»§æ‰¿æ–¹å¼ åŸºç±»ä¸­çš„publicæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯privateè®¿é—®æƒé™ åŸºç±»ä¸­çš„protectedæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯privateè®¿é—®æƒé™ ä½ å¯èƒ½å‘ç°äº†ï¼Œç»§æ‰¿æ–¹å¼æ˜¯ç”¨æ¥ ã€ŒæŒ‡å®šåŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„æœ€é«˜è®¿é—®æƒé™çš„ã€ã€‚ä¾‹å¦‚ï¼Œå½“ç»§æ‰¿æ–¹å¼ä¸ºprotectedæ—¶ï¼Œé‚£ä¹ˆåŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„æœ€é«˜è®¿é—®æƒé™ä¹Ÿä¸ºprotectedï¼Œé«˜äºprotectedçš„ä¼šé™çº§ä¸ºprotectedï¼Œä½†ä½äºçš„ä¸ä¼šå‡çº§ã€‚ ä¸ºä»€ä¹ˆæ²¡æœ‰è°ˆè®ºåŸºç±»çš„privateæˆå‘˜å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬åœ¨å‰é¢è¯´è¿‡äº†ä¸€ä¸ªç±»çš„privateæˆå‘˜åªèƒ½è¢«è¯¥ç±»çš„å…¶ä»–æˆå‘˜è®¿é—®ã€‚æ‰€ä»¥ï¼ŒåŸºç±»çš„privateæˆå‘˜è™½ç„¶è¢«æ´¾ç”Ÿç±»æ‰€ç»§æ‰¿ï¼ˆä»ç„¶æ˜¯privateè®¿é—®æƒé™ï¼‰ï¼Œä¸”å ç”¨æ´¾ç”Ÿç±»å¯¹è±¡çš„å†…å­˜ï¼Œä½†å®ƒåœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯ä¸å¯è§çš„ï¼Œæ´¾ç”Ÿç±»åªèƒ½é€šè¿‡åŸºç±»çš„æˆå‘˜å‡½æ•°å»è®¿é—®å®ƒã€‚private æˆå‘˜çš„è¿™ç§ç‰¹æ€§ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„å¯¹æ´¾ç”Ÿç±»éšè—åŸºç±»çš„å®ç°ï¼Œä»¥ä½“ç°é¢å‘å¯¹è±¡çš„å°è£…æ€§ã€‚ æ³¨æ„ï¼šç”±äº private å’Œ protected ç»§æ‰¿æ–¹å¼ä¼šæ”¹å˜åŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®æƒé™ï¼Œå¯¼è‡´ç»§æ‰¿å…³ç³»å¤æ‚ï¼Œæ‰€ä»¥å®é™…å¼€å‘ä¸­æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ publicç»§æ‰¿æ–¹å¼ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ä¿®æ”¹åŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®æƒé™\ræ ¹æ®å®é™…æƒ…å†µç¡®å®šå¥½ç±»çš„ç»§æ‰¿æ–¹å¼åï¼Œæ˜¯ä¸æ˜¯åŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®æƒé™å°±æ— æ³•ä¿®æ”¹äº†å‘¢ï¼Ÿå¹¶ä¸æ˜¯ï¼Œä½¿ç”¨ usingå…³é”®å­—å¯ä»¥ä¿®æ”¹åŸºç±»æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®æƒé™ï¼Œåœ¨æ´¾ç”Ÿç±»ä¸­ å¯¹åº”è®¿é—®æƒé™ä¸‹è¿›è¡Œä»¥ä¸‹å£°æ˜ï¼š using åŸºç±»å::æˆå‘˜å; æ³¨æ„ï¼šå‡½æ•°æˆå‘˜ä¹Ÿåªéœ€è¦å†™å‡½æ•°åå³å¯ï¼Œä¸å¿…åŠ ä¸Š()ç¬¦å·ã€‚ä¸”usingåªèƒ½æ”¹å˜åŸºç±»çš„ public å’Œ protected æˆå‘˜çš„è®¿é—®æƒé™ï¼Œä¸èƒ½æ”¹å˜ private æˆå‘˜çš„è®¿é—®æƒé™ï¼Œå› ä¸ºåŸºç±»çš„ private æˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­æ˜¯ä¸å¯è§çš„ã€‚ #include\u003ciostream\u003e using namespace std; // åŸºç±»People class People { public: void show(); protected: char *_name; int _age; }; void People::show() { cout \u003c\u003c _name \u003c\u003c \"çš„å¹´é¾„æ˜¯\" \u003c\u003c _age \u003c\u003c endl; } // æ´¾ç”Ÿç±»Student class Student : public People { public: void learning(); public: using People::_name; //å°†protectedæ”¹ä¸ºpublic using People::_age; //å°†protectedæ”¹ä¸ºpublic float _score; private: using People::show; //å°†publicæ”¹ä¸ºprivate }; void Student::learning() { cout \u003c\u003c \"æˆ‘æ˜¯\" \u003c\u003c _name \u003c\u003c \"ï¼Œä»Šå¹´\" \u003c\u003c _age \u003c\u003c \"å²ï¼Œè¿™æ¬¡è€ƒäº†\" \u003c\u003c _score \u003c\u003c \"åˆ†ï¼\" \u003c\u003c endl; } int main() { Student stu; stu._name = \"å°æ˜\"; stu._age = 16; stu._score = 99.5f; //stu.show(); //ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºåœ¨æ´¾ç”Ÿç±»ä¸­show()å‡½æ•°è¢«å£°æ˜ä¸ºç§æœ‰æˆå‘˜äº† stu.learning(); return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç»§æ‰¿æ—¶çš„åå­—é®è”½é—®é¢˜\rå¦‚æœæ´¾ç”Ÿç±»ä¸­çš„æˆå‘˜ï¼ˆåŒ…æ‹¬æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ï¼‰å’ŒåŸºç±»ä¸­çš„æˆå‘˜é‡åï¼Œé‚£ä¹ˆå°±ä¼šé®è”½ä»åŸºç±»ç»§æ‰¿è¿‡æ¥çš„æˆå‘˜ã€‚æ‰€è°“é®è”½ï¼Œå°±æ˜¯åœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨è¯¥æˆå‘˜æ—¶ï¼Œä½¿ç”¨çš„æ˜¯æ´¾ç”Ÿç±»è‡ªå·±çš„æˆå‘˜ï¼Œè€Œä¸æ˜¯ä»åŸºç±»ç»§æ‰¿è¿‡æ¥çš„æˆå‘˜ã€‚å¦‚æœè¦ä½¿ç”¨ä»åŸºç±»ç»§æ‰¿è¿‡æ¥çš„æˆå‘˜ï¼Œå°±å¾—é‡‡ç”¨ åŸºç±»å::æˆå‘˜å çš„æ–¹å¼ã€‚ æ³¨æ„ï¼šæ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°ä¸åŸºç±»çš„æˆå‘˜å‡½æ•°ä¸æ„æˆé‡è½½ï¼ˆä½œç”¨åŸŸä¸åŒï¼‰ï¼Œæ‰€ä»¥åªè¦åŒåå°±ä¼šé€ æˆé®è”½ã€‚ #include\u003ciostream\u003e using namespace std; class People { public: People(char *name, int age): _name(name), _age(age){} void show(); protected: char *_name; int _age; }; void People::show() { cout \u003c\u003c \"å—¨ï¼Œå¤§å®¶å¥½ï¼Œæˆ‘å«\" \u003c\u003c _name \u003c\u003c \"ï¼Œä»Šå¹´\" \u003c\u003c _age \u003c\u003c \"å²\" \u003c\u003c endl; } class Student: public People { public: // åˆ«æ€¥ï¼Œä¸‹å°èŠ‚ä¼šè§£é‡Šä¸ºä»€ä¹ˆæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°è¿™æ ·å†™ Student(char *name, int age, float score):People(name, age), _score(score){} public: void show(); //é®è”½åŸºç±»çš„show() private: float _score; }; void Student::show() { cout \u003c\u003c _name \u003c\u003c \"çš„å¹´é¾„æ˜¯\" \u003c\u003c _age \u003c\u003c \"ï¼Œæˆç»©æ˜¯\" \u003c\u003c _score \u003c\u003c endl; } int main() { Student stu(\"å°æ˜\", 16, 90.5); // è°ƒç”¨çš„æ˜¯æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜å‡½æ•°ï¼Œè€Œä¸æ˜¯ä»åŸºç±»ç»§æ‰¿çš„ stu.show(); // è°ƒç”¨çš„æ˜¯ä»åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜å‡½æ•° stu.People::show(); return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:4","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"åŸºç±»å’Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°\rç»è¿‡å‰é¢çš„å­¦ä¹ ï¼Œä½ è‚¯å®šä»¥ä¸ºæ´¾ç”Ÿç±»èƒ½å¤Ÿç»§æ‰¿åŸºç±»çš„å…¨éƒ¨æˆå‘˜å‡½æ•°å§ï¼Noï¼ŒNoï¼ŒNoï¼Œè¿™é‡Œèƒ½è¢«ç»§æ‰¿çš„æˆå‘˜å‡½æ•°ä»…é™äºé‚£äº›æ™®é€šæˆå‘˜å‡½æ•°ï¼Œã€Œæ„é€ å‡½æ•°ï¼ˆåŒ…æ‹¬å¤åˆ¶æ„é€ å‡½æ•°ã€è½¬å‹æ„é€ å‡½æ•°ç­‰ï¼‰ã€ææ„å‡½æ•°æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„ã€ã€‚ ä¸èƒ½è¢«ç»§æ‰¿æ˜¯å› ä¸ºè¿™äº›å‡½æ•°ä¸ç±»æ˜¯ç´§ç´§ç›¸å…³çš„ï¼Œä¾‹å¦‚ï¼Œå¦‚æœåŸºç±»çš„æ„é€ å‡½æ•°è¢«æ´¾ç”Ÿç±»ç»§æ‰¿äº†ï¼Œä½†è¯¥æ„é€ å‡½æ•°ä¸æ´¾ç”Ÿç±»çš„ç±»åå¹¶ä¸ç›¸åŒï¼Œå®ƒå¹¶ä¸èƒ½æˆä¸ºæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼Œæ›´ä¸å¯èƒ½æˆä¸ºæ´¾ç”Ÿç±»çš„æ™®é€šå‡½æ•°ã€‚æ‰€ä»¥ï¼Œå®ƒå¹¶ä¸èƒ½è¢«ç»§æ‰¿ã€‚ æ´¾ç”Ÿç±»æ—¢ç„¶ç»§æ‰¿äº†åŸºç±»çš„æˆå‘˜å˜é‡ï¼Œé‚£ä¹ˆè¿™äº›å˜é‡çš„åˆå§‹åŒ–å·¥ä½œä¹Ÿåº”ç”±æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°å®Œæˆï¼Œä½†æ˜¯å¤§éƒ¨åˆ†åŸºç±»çš„æˆå‘˜å˜é‡éƒ½æ˜¯privateè®¿é—®æƒé™çš„ï¼Œå®ƒä»¬åœ¨æ´¾ç”Ÿç±»ä¸­æ— æ³•è®¿é—®ï¼Œæ›´ä¸èƒ½ä½¿ç”¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ€è·¯æ˜¯ï¼šåœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚ åœ¨ä¸Šä¸€èŠ‚çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæœ‰è¿™æ ·ä¸€è¡Œ Student(char *name, int age, float score):People(name, age), _score(score){} People(name, age)å°±æ˜¯åœ¨è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶å°†nameå’Œageä½œä¸ºå®å‚ä¼ ç»™åŸºç±»çš„æ„é€ å‡½æ•°ã€‚ ä¹Ÿå¯ä»¥å°†åŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨æ”¾åœ¨å‚æ•°åˆå§‹åŒ–åˆ—è¡¨åï¼š Student(char *name, int age, float score): _score(score), People(name, age){} ä¸ç®¡é¡ºåºå¦‚ä½•ï¼Œã€Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°éƒ½ä¼šå…ˆè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°å†æ‰§è¡Œå…¶ä»–ä»£ç ã€ã€‚ æ³¨æ„ï¼šåªèƒ½åœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„å¤´éƒ¨è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œä¸èƒ½åœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å†…è°ƒç”¨ã€‚å› ä¸ºåŸºç±»æ„é€ å‡½æ•°ä¸ä¼šè¢«ç»§æ‰¿ï¼Œä¸èƒ½å½“åšæ™®é€šçš„æˆå‘˜å‡½æ•°æ¥è°ƒç”¨ã€‚ ä»ä¸Šé¢çš„å­¦ä¹ å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼šæ´¾ç”Ÿç±»æ€»æ˜¯å…ˆè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå†è°ƒç”¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ã€‚å³å…ˆæ‰§è¡ŒåŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå†æ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ã€‚ é‚£ä¹ˆç»§æ‰¿å…³ç³»æœ‰å¤šå±‚æ—¶ï¼Œæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„å‘¢ï¼Ÿã€Œæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºæ˜¯æŒ‰ç…§ç»§æ‰¿çš„å±‚æ¬¡è‡ªé¡¶å‘ä¸‹ã€ã€‚ ä¾‹å¦‚ï¼šCç»§æ‰¿äºBï¼ŒBç»§æ‰¿äºAï¼Œé‚£ä¹ˆæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºä¸º Açš„æ„é€ å‡½æ•°â†’Bçš„æ„é€ å‡½æ•°â†’Cçš„æ„é€ å‡½æ•°ã€‚ ç›´æ¥åŸºç±»å’Œé—´æ¥åŸºç±»çš„å®šä¹‰\ré¡¾åæ€ä¹‰ï¼Œä¸€ä¸ªç±»ç›´æ¥ç»§æ‰¿çš„ç±»è¢«ç§°ä¸ºç›´æ¥åŸºç±»ï¼ˆç®€ç§°åŸºç±»ï¼‰ï¼Œé—´æ¥ç»§æ‰¿çš„ç±»è¢«ç§°ä¸ºé—´æ¥åŸºç±»ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒBæ˜¯Cçš„ç›´æ¥åŸºç±»ï¼ŒAæ˜¯Cçš„é—´æ¥åŸºç±»ã€‚\ræ³¨æ„ï¼šæ´¾ç”Ÿç±»åªèƒ½ä¸”å¿…é¡»è°ƒç”¨ç›´æ¥åŸºç±»çš„æ„é€ å‡½æ•°ã€‚è¦ç†è§£è¿™å¥è¯å¿…é¡»æ˜ç™½ä¸¤ç‚¹ï¼š1. å¦‚æœä½ æ²¡æœ‰åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°å¤´éƒ¨è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœåŸºç±»ä¸å­˜åœ¨é»˜è®¤æ„é€ å‡½æ•°ï¼Œåˆ™ç¼–è¯‘æ—¶ä¼šæŠ¥é”™ã€‚2. é€šè¿‡ç¬¬ä¸€ç‚¹å¯çŸ¥ï¼Œç›´æ¥åŸºç±»ä¼šè°ƒç”¨å®ƒçš„åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œå¦‚æœæ´¾ç”Ÿç±»å†è°ƒç”¨å…¶é—´æ¥åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆå°±ä¼šé‡å¤è°ƒç”¨ï¼Œé€ æˆèµ„æºçš„æµªè´¹ï¼Œæ‰€ä»¥æ´¾ç”Ÿç±»ç¦æ­¢è°ƒç”¨é—´æ¥åŸºç±»çš„æ„é€ å‡½æ•°ï¼ˆå¦‚ä¸Šé¢çš„Cç±»ä¸èƒ½è°ƒç”¨Aç±»çš„æ„é€ å‡½æ•°ï¼‰ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:5","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"åŸºç±»å’Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°\rå’Œæ„é€ å‡½æ•°ç±»ä¼¼ï¼Œææ„å‡½æ•°ä¹Ÿä¸èƒ½è¢«ç»§æ‰¿ã€‚ä¸æ„é€ å‡½æ•°ä¸åŒçš„æ˜¯ï¼Œåœ¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ä¸­ä¸ç”¨æ˜¾å¼åœ°è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œå› ä¸ºæ¯ä¸ªç±»åªæœ‰ä¸€ä¸ªææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨çŸ¥é“å¦‚ä½•é€‰æ‹©ï¼Œæ— éœ€ç¨‹åºå‘˜å¹²æ¶‰ã€‚ ææ„å‡½æ•°çš„æ‰§è¡Œé¡ºåºä¸æ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºæ˜¯ç›¸åçš„ï¼šã€Œå…ˆæ‰§è¡Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œå†æ‰§è¡ŒåŸºç±»çš„ææ„å‡½æ•°ã€ã€‚ #include \u003ciostream\u003e using namespace std; class A { public: A(){cout\u003c\u003c\"A constructor\"\u003c\u003cendl;} ~A(){cout\u003c\u003c\"A destructor\"\u003c\u003cendl;} }; class B: public A { public: B(){cout\u003c\u003c\"B constructor\"\u003c\u003cendl;} ~B(){cout\u003c\u003c\"B destructor\"\u003c\u003cendl;} }; class C: public B { public: C(){cout\u003c\u003c\"C constructor\"\u003c\u003cendl;} ~C(){cout\u003c\u003c\"C destructor\"\u003c\u003cendl;} }; int main() { C test; return 0; } è¾“å‡ºç»“æœä¸ºï¼š A constructor B constructor C constructor C destructor B destructor A destructor ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:6","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¤šç»§æ‰¿\råœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæ´¾ç”Ÿç±»éƒ½åªæœ‰ä¸€ä¸ªåŸºç±»ï¼Œç§°ä¸ºå•ç»§æ‰¿ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒC++ä¹Ÿæ”¯æŒå¤šç»§æ‰¿ï¼Œå³ä¸€ä¸ªæ´¾ç”Ÿç±»å¯ä»¥æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªåŸºç±»ã€‚ å¤šç»§æ‰¿å®¹æ˜“è®©ä»£ç é€»è¾‘å¤æ‚ã€æ€è·¯æ··ä¹±ï¼Œä¸€ç›´å¤‡å—äº‰è®®ï¼Œä¸­å°å‹é¡¹ç›®ä¸­è¾ƒå°‘ä½¿ç”¨ã€‚ä½¿ç”¨å¤šç»§æ‰¿æ—¶ä¸€å®šè¦ç¡®ä¿ä»£ç é€»è¾‘æ­£ç¡®ã€‚ å¤šç»§æ‰¿çš„è¯­æ³•å¾ˆç®€å•ï¼Œå°†å¤šä¸ªåŸºç±»ç”¨é€—å·éš”å¼€å³å¯ã€‚ä¾‹å¦‚å·²å£°æ˜äº†ç±»Aã€ç±»Bå’Œç±»Cï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·æ¥å£°æ˜æ´¾ç”Ÿç±»Dï¼š class D: public A, private B, protected C { ...... } D æ˜¯å¤šç»§æ‰¿å½¢å¼çš„æ´¾ç”Ÿç±»ï¼Œå®ƒä»¥å…¬æœ‰çš„æ–¹å¼ç»§æ‰¿ A ç±»ï¼Œä»¥ç§æœ‰çš„æ–¹å¼ç»§æ‰¿ B ç±»ï¼Œä»¥ä¿æŠ¤çš„æ–¹å¼ç»§æ‰¿ C ç±»ã€‚D æ ¹æ®ä¸åŒçš„ç»§æ‰¿æ–¹å¼è·å– Aã€Bã€C ä¸­çš„æˆå‘˜ï¼Œç¡®å®šå®ƒä»¬åœ¨æ´¾ç”Ÿç±»ä¸­çš„è®¿é—®æƒé™ã€‚ å¤šç»§æ‰¿å½¢å¼ä¸‹çš„æ„é€ å‡½æ•°å’Œå•ç»§æ‰¿å½¢å¼åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯è¦åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨å¤šä¸ªåŸºç±»çš„æ„é€ å‡½æ•°ã€‚ä»¥ä¸Šé¢çš„ Aã€Bã€Cã€D ç±»ä¸ºä¾‹ï¼ŒD ç±»æ„é€ å‡½æ•°çš„å†™æ³•ä¸ºï¼š // è¿™é‡Œçš„å£°æ˜é¡ºåºå†³å®šäº†åé¢åŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåº class D: public A, private B, protected C { D(å½¢å‚åˆ—è¡¨):A(å®å‚åˆ—è¡¨),B(å®å‚åˆ—è¡¨),C(å®å‚åˆ—è¡¨){ /*å…¶ä»–æ“ä½œ*/ } ...... } æ³¨æ„ï¼šåŸºç±»æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºå’Œå’Œå®ƒä»¬åœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä¸­å‡ºç°çš„é¡ºåºæ— å…³ï¼Œè€Œæ˜¯å’Œå£°æ˜æ´¾ç”Ÿç±»æ—¶åŸºç±»å‡ºç°çš„é¡ºåºç›¸åŒã€‚ ä½¿ç”¨å¤šç»§æ‰¿æ—¶ï¼Œå½“ä¸¤ä¸ªæˆ–å¤šä¸ªåŸºç±»ä¸­æœ‰åŒåçš„æˆå‘˜æ—¶ï¼Œå¦‚æœç›´æ¥è®¿é—®è¯¥æˆå‘˜ï¼Œå°±ä¼šäº§ç”Ÿå‘½åå†²çªï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“ä½¿ç”¨å“ªä¸ªåŸºç±»çš„æˆå‘˜ã€‚è¿™ä¸ªæ—¶å€™éœ€è¦åœ¨æˆå‘˜åå­—å‰é¢åŠ ä¸Šç±»åå’ŒåŸŸè§£æç¬¦::ï¼Œä»¥æ˜¾å¼åœ°æŒ‡æ˜åˆ°åº•ä½¿ç”¨å“ªä¸ªç±»çš„æˆå‘˜ï¼Œæ¶ˆé™¤äºŒä¹‰æ€§ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:7","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è™šç»§æ‰¿å’Œè™šåŸºç±»\råœ¨å¤šç»§æ‰¿æ—¶å¾ˆå®¹æ˜“äº§ç”Ÿå‘½åå†²çªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬å¾ˆå°å¿ƒåœ°å°†æ‰€æœ‰ç±»ä¸­çš„æˆå‘˜å˜é‡åŠæˆå‘˜å‡½æ•°éƒ½å‘½åä¸ºä¸åŒçš„åå­—æ—¶ï¼Œå‘½åå†²çªä¾ç„¶æœ‰å¯èƒ½å‘ç”Ÿï¼Œæ¯”å¦‚éå¸¸ç»å…¸çš„è±å½¢ç»§æ‰¿ç»“æ„ã€‚ æ‰€è°“è±å½¢ç»§æ‰¿ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œç±» A æ´¾ç”Ÿå‡ºç±» B å’Œç±» Cï¼Œç±» D ç»§æ‰¿è‡ªç±» B å’Œç±» Cï¼Œè¿™ä¸ªæ—¶å€™ç±» A ä¸­çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ç»§æ‰¿åˆ°ç±» D ä¸­å˜æˆäº†ä¸¤ä»½ï¼Œä¸€ä»½æ¥è‡ª A â†’ B â†’ D è¿™æ¡è·¯ï¼Œå¦ä¸€ä»½æ¥è‡ª A â†’ C â†’ D è¿™ä¸€æ¡è·¯ã€‚ class A { public: void set_x(int a){x = a;} int get_x(){return x;} private: int x; }; class B: public A { public: void set_y(int a){y = a;} int get_y(){return y;} private: int y; }; class C: public A { public: void set_z(int a){z = a;} int get_z(){return z;} private: int z; }; class D: public B, public C { //...... }; ä¸Šé¢è¿™ä¸ªä¾‹å­å³ä¸ºå…¸å‹çš„è±å½¢ç»§æ‰¿ç»“æ„ï¼Œç±» A ä¸­çš„æˆå‘˜å˜é‡åŠæˆå‘˜å‡½æ•°ç»§æ‰¿åˆ°ç±» D ä¸­å‡ä¼šäº§ç”Ÿä¸¤ä»½ï¼Œè¿™æ ·çš„å‘½åå†²çªéå¸¸çš„æ£˜æ‰‹ï¼Œé€šè¿‡åŸŸè§£ææ“ä½œç¬¦å·²ç»æ— æ³•åˆ†æ¸…è¿™äº›æˆå‘˜åˆ†åˆ«æ¥è‡ªè°äº†ã€‚ä¸ºæ­¤ï¼ŒC++ æä¾›äº†è™šç»§æ‰¿è¿™ä¸€æ–¹å¼æ¥è§£å†³è¿™ç§æƒ…å†µä¸‹çš„å‘½åå†²çªé—®é¢˜ã€‚è™šç»§æ‰¿åªéœ€è¦åœ¨ä¸­é—´ç±»ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯Bã€Cç±»ï¼‰çš„ç»§æ‰¿å±æ€§å‰åŠ ä¸Š virtual å…³é”®å­—ï¼Œè¯¥å…³é”®å­—åé¢çš„ç±»è¢«ç§°ä¸ºè™šåŸºç±»ã€‚ class A { public: void set_x(int a){x = a;} int get_x(){return x;} private: int x; }; class B: virtual public A { public: void set_y(int a){y = a;} int get_y(){return y;} private: int y; }; class C: virtual public A { public: void set_z(int a){z = a;} int get_z(){return z;} private: int z; }; class D: public B, public C { //...... }; åœ¨æœ¬ä¾‹ä¸­ï¼ŒB å’Œ C éƒ½ä»¥è™šç»§æ‰¿çš„æ–¹å¼ç»§æ‰¿è™šåŸºç±» Aï¼Œå¦‚æ­¤æ“ä½œä¹‹åï¼Œç±» D åªä¼šå¾—åˆ°ä¸€ä»½æ¥è‡ªç±» A çš„æ•°æ®ï¼Œè¿™æ ·å°±è§£å†³äº†åˆšåˆšæ£˜æ‰‹çš„å‘½åå†²çªé—®é¢˜ã€‚ æ³¨æ„ï¼šåœ¨è¿™ä¸€å°èŠ‚å’Œä¸Šä¸€å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯ç®€å•çš„ä»‹ç»äº†ä¸€ä¸‹å¤šç»§æ‰¿å’Œå‘½åå†²çªæ—¶çš„è§£å†³åŠæ³•ï¼Œä½†ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨å¤šç»§æ‰¿ç»å¸¸ä¼šå‡ºç°äºŒä¹‰æ€§é—®é¢˜ï¼Œå¿…é¡»ååˆ†å°å¿ƒã€‚ä¸Šé¢çš„ä¾‹å­æ˜¯ç®€å•çš„ï¼Œå¦‚æœç»§æ‰¿çš„å±‚æ¬¡å†å¤šä¸€äº›ï¼Œå…³ç³»æ›´å¤æ‚ä¸€äº›ï¼Œç¨‹åºçš„ç¼–å†™ã€è°ƒè¯•å’Œç»´æŠ¤å·¥ä½œéƒ½ä¼šå˜å¾—æ›´åŠ å›°éš¾ï¼Œå› æ­¤ä¸æå€¡åœ¨ç¨‹åºä¸­ä½¿ç”¨å¤šç»§æ‰¿ï¼Œåªæœ‰åœ¨æ¯”è¾ƒç®€å•å’Œä¸æ˜“å‡ºç°äºŒä¹‰æ€§çš„æƒ…å†µæˆ–å®åœ¨å¿…è¦æ—¶æ‰ä½¿ç”¨å¤šç»§æ‰¿ï¼Œèƒ½ç”¨å•ä¸€ç»§æ‰¿è§£å†³çš„é—®é¢˜å°±ä¸è¦ä½¿ç”¨å¤šç»§æ‰¿ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:8","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‘ä¸Šè½¬å‹å’Œå‘ä¸‹è½¬å‹\råœ¨ C/C++ ä¸­ç»å¸¸ä¼šå‘ç”Ÿæ•°æ®ç±»å‹çš„è½¬æ¢ï¼Œä¾‹å¦‚å°† int ç±»å‹çš„æ•°æ®èµ‹å€¼ç»™ float ç±»å‹çš„å˜é‡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå…ˆæŠŠ int ç±»å‹çš„æ•°æ®è½¬æ¢ä¸º float ç±»å‹å†èµ‹å€¼ï¼›åè¿‡æ¥ï¼Œfloat ç±»å‹çš„æ•°æ®åœ¨ç»è¿‡ç±»å‹è½¬æ¢åä¹Ÿå¯ä»¥èµ‹å€¼ç»™ int ç±»å‹çš„å˜é‡ã€‚ ç±»å…¶å®ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥å‘ç”Ÿæ•°æ®ç±»å‹è½¬æ¢ï¼Œä¸è¿‡è¿™ç§è½¬æ¢åªæœ‰åœ¨åŸºç±»å’Œæ´¾ç”Ÿç±»ä¹‹é—´æ‰æœ‰æ„ä¹‰ã€‚ã€Œå°†æ´¾ç”Ÿç±»èµ‹å€¼ç»™åŸºç±»ç§°ä¸ºå‘ä¸Šè½¬å‹ï¼ˆUpcastingï¼‰ï¼Œå°†åŸºç±»èµ‹å€¼ç»™æ´¾ç”Ÿç±»ç§°ä¸ºå‘ä¸‹è½¬å‹ï¼ˆDowncastingï¼‰ã€ã€‚ å‘ä¸Šè½¬å‹éå¸¸å®‰å…¨ï¼Œå¯ä»¥ç”±ç¼–è¯‘å™¨è‡ªåŠ¨å®Œæˆï¼›å‘ä¸‹è½¬å‹æœ‰é£é™©ï¼Œéœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨å¹²é¢„ã€‚æ‰€ä»¥ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­å‘ä¸‹è½¬å‹çš„ä½¿ç”¨é¢‘ç‡è¿œè¿œå°äºå‘ä¸Šè½¬å‹ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œåªè¯¦ç»†ä»‹ç»å‘ä¸Šè½¬å‹ï¼Œå‘ä¸‹è½¬å‹è¯·è‡ªå·±æŸ¥é˜…èµ„æ–™å­¦ä¹ ã€‚ å°†æ´¾ç”Ÿç±»å¯¹è±¡èµ‹å€¼ç»™åŸºç±»å¯¹è±¡\rç›´æ¥çœ‹ä¾‹å­ï¼š #include \u003ciostream\u003e using namespace std; //åŸºç±» class A { public: A(int a):_a(a){}; public: void display(); public: int _a; }; void A::display() { cout \u003c\u003c \"Class A: a=\" \u003c\u003c _a \u003c\u003c endl; } //æ´¾ç”Ÿç±» class B: public A{ public: B(int a, int b):A(a), _b(b){}; public: void display(); public: int _b; }; void B::display() { cout \u003c\u003c \"Class B: a=\" \u003c\u003c _a \u003c\u003c \", b=\" \u003c\u003c _b \u003c\u003c endl; } int main(){ A a(10); B b(66, 99); cout \u003c\u003c \"èµ‹å€¼å‰\" \u003c\u003c endl; a.display(); b.display(); cout\u003c\u003c\"------------------------\"\u003c\u003cendl; a = b; cout \u003c\u003c \"èµ‹å€¼å\" \u003c\u003c endl; a.display(); b.display(); return 0; } /* è¿è¡Œç»“æœä¸ºï¼š èµ‹å€¼å‰ Class A: a=10 Class B: a=66, b=99 ------------------------ èµ‹å€¼å Class A: a=66 Class B: a=66, b=99 */ åœ¨æœ¬ä¾‹ä¸­æˆ‘ä»¬åˆ†åˆ«å®šä¹‰äº†åŸºç±»å¯¹è±¡aå’Œæ´¾ç”Ÿç±»å¯¹è±¡bï¼Œaçš„å†…å­˜ç©ºé—´åªå­˜å‚¨äº†_açš„å€¼ï¼Œbçš„å†…å­˜ç©ºé—´å­˜å‚¨äº†_aå’Œ_bçš„å€¼ï¼ˆé€šè¿‡å¯¹å‰é¢å­¦ä¹ å¯çŸ¥å¯¹è±¡çš„å­˜å‚¨ç©ºé—´åªå­˜æ”¾éé™æ€æˆå‘˜å˜é‡ï¼‰ã€‚ åœ¨èµ‹å€¼æ“ä½œa = båï¼Œaçš„å†…å­˜ç©ºé—´ä¸­æ˜¯å¦ä¹Ÿä¼šå­˜åœ¨_bçš„å€¼äº†å‘¢ï¼Ÿå¹¶æ²¡æœ‰ï¼Œå› ä¸ºåœ¨açš„å†…å­˜ç©ºé—´çš„å¤§å°åœ¨å®šä¹‰æ—¶å°±å·²ç»ç¡®å®šå¥½äº†ï¼Œä¸ä¼šå†æ›´æ”¹äº†ï¼Œaçš„å†…å­˜ç©ºé—´åªèƒ½å­˜æ”¾_açš„å€¼ï¼Œæ‰€ä»¥åœ¨è¿›è¡Œèµ‹å€¼æ“ä½œa = bæ—¶ï¼Œä¼šå°†bçš„å†…å­˜ç©ºé—´ä¸­çš„_açš„å€¼èµ‹å€¼ç»™açš„å†…å­˜ç©ºé—´ä¸­çš„_aã€‚å³æ´¾ç”Ÿç±»å¯¹è±¡èµ‹å€¼ç»™åŸºç±»å¯¹è±¡æ—¶ï¼Œä¼šå°†æ´¾ç”Ÿç±»ç‹¬æœ‰çš„æˆå‘˜å˜é‡å€¼æŠ›å¼ƒï¼Œåªå°†æ´¾ç”Ÿç±»ç»§æ‰¿è€Œæ¥çš„æˆå‘˜å˜é‡å€¼èµ‹å€¼ç»™åŸºç±»å¯¹è±¡ï¼ˆå› ä¸ºåŸºç±»å¯¹è±¡åªèƒ½å­˜æ”¾è¿™äº›å€¼ï¼‰ã€‚ æœ‰äººä¼šæƒ³ï¼šä¸ºä»€ä¹ˆèµ‹å€¼åaè°ƒç”¨çš„display()å‡½æ•°ä»ç„¶æ˜¯Aç±»çš„ï¼Ÿè¿™æ˜¯å› ä¸ºèµ‹å€¼æ“ä½œå¹¶ä¸ä¼šæ”¹å˜açš„ç±»å‹ï¼Œaä»ç„¶æ˜¯Aç±»å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒè°ƒç”¨çš„è‚¯å®šæ˜¯Aç±»çš„display()å‡½æ•°ã€‚ å°†æ´¾ç”Ÿç±»æŒ‡é’ˆèµ‹å€¼ç»™åŸºç±»æŒ‡é’ˆ\rä¿®æ”¹ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ï¼š #include \u003ciostream\u003e using namespace std; class A { public: A(int a):_a(a){}; void display(); int _a; }; void A::display() { cout \u003c\u003c \"Class A: a=\" \u003c\u003c _a \u003c\u003c endl; } class B { public: B(int b):_b(b){}; void display(); int _b; }; void B::display() { cout \u003c\u003c \"Class B: b=\" \u003c\u003c _b \u003c\u003c endl; } class C: public A, public B { public: C(int a, int b, int c):A(a), B(b), _c(c){}; void display(); int _c; }; void C::display() { cout \u003c\u003c \"Class C: a=\" \u003c\u003c _a \u003c\u003c \", b=\" \u003c\u003c _b \u003c\u003c \", c=\" \u003c\u003c _c \u003c\u003c endl; } int main(){ A *a = new A(3); B *b = new B(7); C *c = new C(10, 11, 12); cout \u003c\u003c \"èµ‹å€¼å‰\" \u003c\u003c endl; a-\u003edisplay(); b-\u003edisplay(); c-\u003edisplay(); cout\u003c\u003c\"------------------------\"\u003c\u003cendl; a = c; b = c; cout \u003c\u003c \"èµ‹å€¼å\" \u003c\u003c endl; a-\u003edisplay(); b-\u003edisplay(); c-\u003edisplay(); cout \u003c\u003c \"açš„åœ°å€ä¸º\" \u003c\u003c a \u003c\u003c endl; cout \u003c\u003c \"bçš„åœ°å€ä¸º\" \u003c\u003c b \u003c\u003c endl; cout \u003c\u003c \"cçš„åœ°å€ä¸º\" \u003c\u003c c \u003c\u003c endl; return 0; } /* è¿è¡Œç»“æœå¦‚ä¸‹ï¼š èµ‹å€¼å‰ Class A: a=3 Class B: b=7 Class C: a=10, b=11, c=12 ------------------------ èµ‹å€¼å Class A: a=10 Class B: b=11 Class C: a=10, b=11, c=12 açš„åœ°å€ä¸º0x6b1aa0 bçš„åœ°å€ä¸º0x6b1aa4 cçš„åœ°å€ä¸º0x6b1aa0 */ è¯¥ä¾‹å­æ˜¯ä¸€ä¸ªå¤šç»§æ‰¿çš„ä¾‹å­ï¼ŒCç±»åˆ†åˆ«ç»§æ‰¿äºAç±»å’ŒBç±»ï¼Œçœ‹å®Œè¿™ä¸ªä¾‹å­åï¼Œä½ å¯èƒ½ä¼šæœ‰ä¸¤ä¸ªç–‘é—®ï¼šä¸ºä»€ä¹ˆèµ‹å€¼åAç±»å’ŒBç±»æŒ‡é’ˆè°ƒç”¨çš„è¿˜æ˜¯è‡ªå·±çš„display()å‡½æ•°ï¼Ÿä¸ºä»€ä¹ˆèµ‹å€¼æ“ä½œååªæœ‰aå’Œcå­˜å‚¨çš„åœ°å€å€¼ç›¸åŒï¼Œbçš„å€¼è¦å¤§äºaã€cçš„å€¼ï¼Ÿè®©æˆ‘ä»¬ä¾æ¬¡æ¥æ€è€ƒè§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ã€‚ 1.ä¸ºä»€ä¹ˆèµ‹å€¼åAç±»å’ŒCç±»æŒ‡é’ˆè°ƒç”¨çš„è¿˜æ˜¯è‡ªå·±çš„display()å‡½æ•°ï¼Ÿ å¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆè¦æ˜ç™½æˆå‘˜å‡½æ•°æ˜¯å±äºç±»çš„è€Œä¸æ˜¯ç±»å¯¹è±¡ï¼Œç±»å¯¹è±¡ç©ºé—´å¹¶ä¸å­˜å‚¨æˆå‘˜å‡½æ•°ã€‚åœ¨è¿›è¡Œ a = c; b = c; æ“ä½œåï¼Œaå’Œbçš„ç±»å‹å¹¶æ²¡æœ‰æ”¹å˜ï¼Œåªæ˜¯æŒ‡å‘äº†æ´¾ç”Ÿç±»Cçš„å¯¹è±¡è€Œå·²ã€‚æ‰€ä»¥ï¼Œæ‰§è¡Œa-\u003edisplay(); b-\u003edisplay();æ“ä½œæ—¶ï¼Œç¼–è¯‘å™¨ä¼šå»å¯¹åº”çš„Aç±»å’ŒBç±»ä¸­æ‰¾åˆ°display()æ¥æ‰§è¡Œã€‚aï¼ŒbæŒ‡å‘Cç±»å¯¹è±¡ï¼Œè°ƒç”¨display()æ—¶ä¼ å…¥çš„thisè‚¯å®šæ˜¯æŒ‡å‘Cç±»å¯¹è±¡çš„ï¼Œæ‰€ä»¥æœ€ç»ˆåœ¨display()ä¸­ä½¿ç”¨çš„æ˜¯Cç±»å¯¹è±¡å­˜å‚¨çš„æˆå‘˜å˜é‡å€¼ã€‚ ç®€å•æ¦‚æ‹¬å°±æ˜¯ï¼šç¼–è¯‘å™¨é€šè¿‡æŒ‡é’ˆç±»å‹æ¥è®¿é—®æˆå‘˜å‡½æ•°ï¼ˆè™šå‡½æ•°é™¤å¤–ï¼Œåé¢ä¼šè®²ï¼‰ï¼Œé€šè¿‡æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡æ¥è®¿é—®æˆå‘˜å˜é‡ 2.ä¸ºä»€ä¹ˆèµ‹å€¼æ“ä½œååªæœ‰aå’Œcå­˜å‚¨çš„åœ°å€å€¼ç›¸åŒï¼Œbçš„å€¼è¦å¤§äºaã€cçš„å€¼ï¼Ÿ è¿™æ˜¯å› ä¸ºåœ¨ C++ ä¸­ï¼Œå½“ä¸€ä¸ªç±»é€šè¿‡å¤šé‡ç»§æ‰¿ä»å¤šä¸ªåŸºç±»æ´¾ç”Ÿæ—¶ï¼Œæ´¾ç”Ÿç±»å¯¹è±¡çš„å†…å­˜ç©ºé—´ä¸­åŒ…å«äº†æ‰€æœ‰åŸºç±»çš„æˆå‘˜å˜é‡ã€‚æ¯ä¸ªåŸºç±»çš„æˆå‘˜åœ¨å†…å­˜ç©ºé—´ä¸­å æ®ä¸åŒçš„ä½ç½®ã€‚ä¸ºäº† ã€Œä½¿åŸºç±»æŒ‡é’ˆèƒ½å¤Ÿæ­£ç¡®æŒ‡å‘å…¶å¯¹åº”çš„åŸºç±»æˆå‘˜å˜é‡ï¼Œç¼–è¯‘å™¨åœ¨è¿›è¡ŒæŒ‡é’ˆè½¬æ¢æ—¶éœ€è¦è¿›è¡Œåœ°å€è°ƒæ•´ã€ã€‚ æœ¬ä¾‹çš„cçš„å†…å­˜ç©ºé—´å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ‰§è¡Œa = c;æ“ä½œæ—¶ï¼Œå› ä¸ºAç±»æˆå‘˜å˜é‡çš„èµ·å§‹ä½ç½®å°±æ˜¯0x6b1aa0ï¼Œæ— éœ€è°ƒæ•´ï¼Œæ‰€ä»¥ açš„å€¼ä¸cçš„å€¼ä¸€æ ·ï¼›æ‰§è¡Œb = c;æ“ä½œæ—¶ï¼Œç¼–è¯‘å™¨å‘ç°Bç±»æˆå‘˜å˜é‡çš„èµ·å§‹ä½ç½®å¹¶ä¸æ˜¯0x6b1aa0ï¼Œæ‰€ä»¥ä¼šå°†0x6b1aa0åŠ ä¸Šå¯¹åº”åç§»é‡è°ƒæ•´ä¸º0x6b1aa4åå†èµ‹å€¼ç»™bã€‚æ‰€ä»¥ï¼Œbçš„å€¼å¤§äºaã€cçš„å€¼ã€‚ æ´¾ç”Ÿç±»å­˜å‚¨åŸºç±»æˆå‘˜çš„é¡ºåºä¸å£°æ˜ç»§æ‰¿å…³ç³»æ—¶çš„é¡ºåºä¸€è‡´ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­å°±ä¼šå…ˆå­˜å‚¨_bå†å­˜å‚¨_aï¼Œä½¿å¾—cå’Œbçš„å€¼ç›¸åŒï¼Œè€Œaçš„å€¼å¤§äºå®ƒä»¬ä¸¤çš„å€¼ã€‚ class C: public B, public A { public: C(int a, int b, int c):A(a), B(b), _c(c){}; void display(); int _c; }; å°†æ´¾ç”Ÿç±»å¼•ç”¨èµ‹å€¼ç»™åŸºç±»å¼•ç”¨\rå¼•ç”¨åœ¨æœ¬è´¨ä¸Šæ˜¯é€šè¿‡æŒ‡é’ˆçš„æ–¹å¼å®ç°çš„ï¼Œæ—¢ç„¶åŸºç±»çš„æŒ‡é’ˆå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æœ‰ç†ç”±æ¨æ–­ï¼šåŸºç±»çš„å¼•ç”¨ä¹Ÿå¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œå¹¶ä¸”å®ƒçš„è¡¨ç°å’ŒæŒ‡é’ˆæ˜¯ç±»ä¼¼çš„ã€‚ ä¿®æ”¹å‰é¢çš„ä»£ç ï¼ŒéªŒè¯æ¨æ–­æ­£ç¡®ï¼š #include \u003ciostream\u003e using namespace std; class A { public: A(int a):_a(a){}; void display(); int _a; }; void A::display() { cout \u003c\u003c \"Class A: a=\" \u003c\u003c _a \u003c\u003c endl; } class B { public: B(int b):_b(b){}; void display(); int _b; }; void B::display() { cout \u003c\u003c \"Class B: b=\" \u003c\u003c _b \u003c\u003c endl; } class C: public A, public B { public: C(int a, int b, int c):A(a), B(b), _c(c){}; void display(); int _c; }; void C::display() { cout \u003c\u003c \"Class C: a=\" \u003c\u003c _a \u003c\u003c \", b=\" \u003c\u003c _b \u003c\u003c \", c=\" \u003c\u003c _c \u003c\u003c endl; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:5:9","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¤šæ€ä¸è™šå‡½æ•°\ré¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€æœ‰ ã€Œå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ã€ ä¸‰ç§æœºåˆ¶ï¼Œè¿™ä¸‰ç§æœºåˆ¶èƒ½å¤Ÿæœ‰æ•ˆæé«˜ç¨‹åºçš„å¯è¯»æ€§ã€å¯é‡ç”¨æ€§å’Œå¯æ‰©å±•æ€§ã€‚å‰é¢å·²ç»å­¦ä¹ è¿‡å°è£…ã€ç»§æ‰¿äº†ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸€èŠ‚ä»‹ç»å¤šæ€ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:6:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å¤šæ€çš„ç®€å•ä»‹ç»\râ€œå¤šæ€\"æŒ‰å­—é¢æ¥è¯´å°±æ˜¯ã€Œå¤šç§å½¢æ€ã€ï¼ŒæŒ‡çš„æ˜¯åŒä¸€åå­—çš„äº‹ç‰©æœ‰å¤šç§å½¢æ€ï¼Œå¯ä»¥å®Œæˆä¸åŒçš„åŠŸèƒ½ã€‚ å¤šæ€å¯ä»¥åˆ†ä¸ºç¼–è¯‘æ—¶çš„å¤šæ€å’Œè¿è¡Œæ—¶çš„å¤šæ€ã€‚å‰è€…ä¸»è¦æ˜¯æŒ‡å‡½æ•°çš„é‡è½½ï¼ˆåŒ…æ‹¬è¿ç®—ç¬¦çš„é‡è½½ï¼‰ã€å¯¹é‡è½½å‡½æ•°çš„è°ƒç”¨ï¼Œåœ¨ç¼–è¯‘æ—¶å°±èƒ½æ ¹æ®å®å‚ç¡®å®šè°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œå› æ­¤å«ç¼–è¯‘æ—¶çš„å¤šæ€ï¼›è€Œåè€…åˆ™å’Œç»§æ‰¿ã€è™šå‡½æ•°ç­‰æ¦‚å¿µæœ‰å…³ï¼Œæ˜¯æœ¬ç« è¦è®²è¿°çš„å†…å®¹ï¼Œåœ¨åé¢æåŠçš„å¤šæ€éƒ½æ˜¯æŒ‡è¿è¡Œæ—¶çš„å¤šæ€ã€‚ é‚£å¤šæ€æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿåœ¨å‘ä¸Šè½¬å‹çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°å°†æ´¾ç”Ÿç±»çš„å¯¹è±¡æŒ‡é’ˆèµ‹å€¼ç»™åŸºç±»å¯¹è±¡çš„æŒ‡é’ˆåï¼ŒåŸºç±»å¯¹è±¡çš„æŒ‡é’ˆåªèƒ½ä½¿ç”¨æ´¾ç”Ÿç±»çš„æˆå‘˜å˜é‡ï¼Œè€Œä¸èƒ½ä½¿ç”¨æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°ã€‚è¿™å¹¶ä¸ç¬¦åˆäººä»¬çš„æ€ç»´ä¹ æƒ¯ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ç›´è§‚ä¸Šè®¤ä¸ºï¼šå¦‚æœæŒ‡é’ˆæŒ‡å‘äº†æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œé‚£ä¹ˆå°±åº”è¯¥ä½¿ç”¨æ´¾ç”Ÿç±»çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°ã€‚è€Œå¤šæ€å°±å¯ä»¥å®ç°è¿™æ ·çš„æ•ˆæœï¼Œä½¿å¾—åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡æ—¶è°ƒç”¨çš„æ˜¯æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°ã€‚ è¦æƒ³å½¢æˆå¤šæ€å¿…é¡»å…·å¤‡ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š å­˜åœ¨ç»§æ‰¿å…³ç³» ç»§æ‰¿å…³ç³»ä¸­å¿…é¡»æœ‰å‡½æ•°ç­¾åç›¸åŒçš„è™šå‡½æ•° å­˜åœ¨åŸºç±»ç±»å‹çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œé€šè¿‡è¯¥æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•° ä¸‹ä¸€å°èŠ‚å°†ä¼šè¯¦ç»†ä»‹ç»ä¸ºä»€ä¹ˆå¿…é¡»å…·å¤‡è¿™ä¸‰ä¸ªæ¡ä»¶æ‰èƒ½å½¢å‚å¤šæ€ã€‚ å¤šæ€çš„ä½¿ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å‡è®¾ä½ æ­£åœ¨ç©ä¸€æ¬¾å†›äº‹æ¸¸æˆï¼Œæ•Œäººçªç„¶å‘åŠ¨äº†åœ°é¢æˆ˜äº‰ï¼Œäºæ˜¯ä½ å‘½ä»¤é™†å†›ã€ç©ºå†›åŠå…¶æ‰€æœ‰ç°å½¹è£…å¤‡è¿›å…¥ä½œæˆ˜çŠ¶æ€ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š #include \u003ciostream\u003e using namespace std; //å†›é˜Ÿ class Troops { public: virtual void fight(){ cout\u003c\u003c\"Strike back!\"\u003c\u003cendl; } }; //é™†å†› class Army: public Troops { public: void fight(){ cout\u003c\u003c\"--Army is fighting!\"\u003c\u003cendl; } }; //99Aä¸»æˆ˜å¦å…‹ class _99A: public Army { public: void fight(){ cout\u003c\u003c\"----99A(Tank) is fighting!\"\u003c\u003cendl; } }; //æ­¦ç›´10æ­¦è£…ç›´å‡æœº class WZ_10: public Army { public: void fight(){ cout\u003c\u003c\"----WZ-10(Helicopter) is fighting!\"\u003c\u003cendl; } }; //é•¿å‰‘10å·¡èˆªå¯¼å¼¹ class CJ_10: public Army { public: void fight(){ cout\u003c\u003c\"----CJ-10(Missile) is fighting!\"\u003c\u003cendl; } }; //ç©ºå†› class AirForce: public Troops { public: void fight(){ cout\u003c\u003c\"--AirForce is fighting!\"\u003c\u003cendl; } }; //J-20éšå½¢æ­¼å‡»æœº class J_20: public AirForce { public: void fight(){ cout\u003c\u003c\"----J-20(Fighter Plane) is fighting!\"\u003c\u003cendl; } }; //CH5æ— äººæœº class CH_5: public AirForce { public: void fight(){ cout\u003c\u003c\"----CH-5(UAV) is fighting!\"\u003c\u003cendl; } }; //è½°6Kè½°ç‚¸æœº class H_6K: public AirForce { public: void fight(){ cout\u003c\u003c\"----H-6K(Bomber) is fighting!\"\u003c\u003cendl; } }; int main(){ Troops *p = new Troops; p -\u003efight(); //é™†å†› p = new Army; p -\u003efight(); p = new _99A; p -\u003e fight(); p = new WZ_10; p -\u003e fight(); p = new CJ_10; p -\u003e fight(); //ç©ºå†› p = new AirForce; p -\u003e fight(); p = new J_20; p -\u003e fight(); p = new CH_5; p -\u003e fight(); p = new H_6K; p -\u003e fight(); return 0; } è¿™ä¸ªä¾‹å­ä¸­çš„æ´¾ç”Ÿç±»æ¯”è¾ƒå¤šï¼Œå¦‚æœä¸ä½¿ç”¨å¤šæ€ï¼Œé‚£ä¹ˆå°±éœ€è¦å®šä¹‰å¤šä¸ªæŒ‡é’ˆå˜é‡ï¼Œå¾ˆå®¹æ˜“é€ æˆæ··ä¹±ï¼›è€Œæœ‰äº†å¤šæ€ï¼Œåªéœ€è¦ä¸€ä¸ªæŒ‡é’ˆå˜é‡ p å°±å¯ä»¥è°ƒç”¨æ‰€æœ‰æ´¾ç”Ÿç±»çš„è™šå‡½æ•°ã€‚ ä»è¿™ä¸ªä¾‹å­ä¸­ä¹Ÿå¯ä»¥å‘ç°ï¼Œå¯¹äºå…·æœ‰å¤æ‚ç»§æ‰¿å…³ç³»çš„å¤§ä¸­å‹ç¨‹åºï¼Œå¤šæ€å¯ä»¥å¢åŠ å…¶çµæ´»æ€§ï¼Œè®©ä»£ç æ›´å…·æœ‰è¡¨ç°åŠ›ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:6:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è™šå‡½æ•°\rè™šå‡½æ•°æŒ‡çš„å°±æ˜¯è™šæˆå‘˜å‡½æ•°ï¼ˆæ„é€ å‡½æ•°å’Œé™æ€æˆå‘˜å‡½æ•°é™¤å¤–ï¼‰ï¼Œå› ä¸ºæ™®é€šå‡½æ•°ï¼ˆéæˆå‘˜å‡½æ•°ï¼‰æ˜¯æ— æ³•å£°æ˜ä¸ºè™šå‡½æ•°çš„ã€‚è€Œæ™®é€šå‡½æ•°æ— æ³•å£°æ˜ä¸ºè™šå‡½æ•°çš„åŸå› æ˜¯ ã€Œè™šå‡½æ•°çš„ä½œç”¨å°±æ˜¯å½¢æˆå¤šæ€ã€ï¼Œè€Œå½¢æˆå¤šæ€çš„ç¬¬ä¸€ä¸ªæ¡ä»¶å°±æ˜¯å­˜åœ¨ç»§æ‰¿å…³ç³»ï¼Œæ™®é€šå‡½æ•°å¾ˆæ˜æ˜¾æ˜¯ä¸å­˜åœ¨ç»§æ‰¿å…³ç³»çš„ï¼Œæ‰€ä»¥æ— æ³•å£°æ˜ä¸ºè™šå‡½æ•°ã€‚ åªéœ€åœ¨å£°æ˜æˆå‘˜å‡½æ•°æ—¶åœ¨å‡½æ•°çš„è¿”å›å€¼å‰ä½¿ç”¨ virtual å…³é”®å­—ï¼Œå°±å¯å°†ä¸€ä¸ªæˆå‘˜å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•°ã€‚è·Ÿé™æ€æˆå‘˜å‡½æ•°ä¸€æ ·ï¼Œåœ¨ç±»å¤–å®šä¹‰è™šå‡½æ•°æ—¶æ— éœ€å†åŠ ä¸Švirtualå…³é”®å­—ã€‚è™šå‡½æ•°è¢«æ´¾ç”Ÿç±»ç»§æ‰¿åä»ç„¶æ˜¯è™šå‡½æ•°ï¼Œå½“ä½ éœ€è¦é‡å†™ç»§æ‰¿çš„è™šå‡½æ•°æ—¶ï¼Œåªèƒ½é‡å†™å…¶å‡½æ•°ä½“ï¼Œè€Œä¸èƒ½ä¿®æ”¹å…¶å‡½æ•°ç­¾åï¼ˆå³è¿”å›å€¼ã€å‡½æ•°åã€å‚æ•°åˆ—è¡¨ï¼‰ã€‚ä¸”å»ºè®®åœ¨è¯¥è™šå‡½æ•°çš„å‚æ•°åˆ—è¡¨åä½¿ç”¨ override å…³é”®å­—ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨æ­¤å‡½æ•°æ˜¯é‡å†™çš„è™šå‡½æ•°ï¼Œä»¥ä¾¿ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥é‡å†™æ˜¯å¦å‡ºé”™ã€‚å¦‚æœæŸä¸ªåŸºç±»ä¸å…è®¸æ´¾ç”Ÿç±»é‡å†™æŸä¸ªè™šå‡½æ•°æ—¶ï¼Œä½¿ç”¨å…³é”®å­— final æ¥å®ç°ã€‚ ç›´æ¥æ¥çœ‹ä¾‹å­ï¼š #include\u003ciostream\u003e using namespace std; class Base { public: virtual void display(); // å°†æ­¤å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•° }; class Derived: public Base { public: void display() override; //ä½¿ç”¨ override å…³é”®å­—å‘Šè¯‰ç¼–è¯‘å™¨æ­¤å‡½æ•°æ˜¯é‡å†™åŸºç±»çš„è™šå‡½æ•° }; void Base::display() { cout \u003c\u003c \"I'm Base class!\" \u003c\u003c endl; } void Derived::display() { cout \u003c\u003c \"I'm Derived class!\" \u003c\u003c endl; } int main() { Base *Bp = new Base; Bp-\u003edisplay(); Derived *Dp = new Derived; Dp-\u003edisplay(); cout \u003c\u003c \"èµ‹å€¼åï¼š\" \u003c\u003c endl; Bp = Dp; Bp-\u003edisplay(); return 0; } /* è¿è¡Œç»“æœï¼š I'm Base class! I'm Derived class! èµ‹å€¼åï¼š I'm Derived class! */ ä½¿ç”¨å¤šæ€åï¼Œå½“æˆ‘ä»¬å°†æ´¾ç”Ÿç±»æŒ‡é’ˆèµ‹å€¼ç»™åŸºç±»æŒ‡é’ˆåï¼Œå¯ä»¥å‘ç°è¯¥åŸºç±»æŒ‡é’ˆä¹Ÿå¯ä»¥è°ƒç”¨æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°äº†ï¼ åœ¨è¿™é‡Œå†æ€»ç»“ä¸€ä¸‹ï¼šè™šå‡½æ•°çš„å”¯ä¸€ä½œç”¨å°±æ˜¯æ„æˆå¤šæ€ï¼Œè€Œä½¿ç”¨å¤šæ€çš„ç›®çš„å°±æ˜¯ä½¿å¾—åŸºç±»æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰èƒ½å¤Ÿè®¿é—®æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:6:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è™šå‡½æ•°è¡¨vtable\råœ¨æœ€å¼€å§‹æ—¶å°†æ´¾ç”Ÿç±»æŒ‡é’ˆèµ‹å€¼ç»™åŸºç±»æŒ‡é’ˆåï¼ŒåŸºç±»æŒ‡é’ˆå¹¶ä¸èƒ½è®¿é—®æ´¾ç”Ÿç±»çš„æˆå‘˜å‡½æ•°ï¼Œè€Œä½¿ç”¨è™šå‡½æ•°åä¸ºä»€ä¹ˆå°±å¯ä»¥äº†å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºä½¿ç”¨äº†è™šå‡½æ•°åï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¼šé¢å¤–åœ°å¢åŠ ä¸€ä¸ªè™šå‡½æ•°è¡¨å’Œä¸€ä¸ªè™šå‡½æ•°è¡¨æŒ‡é’ˆï¼Œå½“é€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œç¨‹åºä¼šåœ¨è¿è¡Œæ—¶é€šè¿‡è™šå‡½æ•°è¡¨æŒ‡é’ˆæ‰¾åˆ°è¯¥å¯¹è±¡çš„è™šå‡½æ•°è¡¨ï¼Œåœ¨è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„è™šå‡½æ•°çš„åœ°å€æ¥è°ƒç”¨è¯¥è™šå‡½æ•°ã€‚ è™šå‡½æ•°è¡¨ç®€ç§° vtableï¼Œå…¶æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥æ•°ç»„å­˜å‚¨äº†è¯¥ç±»æ¯ä¸€ä¸ªè™šå‡½æ•°çš„å…¥å£åœ°å€ã€‚è™šå‡½æ•°è¡¨ä¸å¯¹è±¡æ˜¯åˆ†å¼€å­˜å‚¨çš„ï¼Œä¸ºäº†å°†è™šå‡½æ•°è¡¨å’Œå¯¹è±¡å…³è”èµ·æ¥ï¼Œç¼–è¯‘å™¨ä¼šåœ¨å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡é’ˆï¼ˆè¯¥æŒ‡é’ˆæ”¾åœ¨å†…å­˜ç©ºé—´èµ·å§‹ä½ç½®ï¼‰ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘è¯¥å¯¹è±¡çš„è™šå‡½æ•°è¡¨çš„èµ·å§‹ä½ç½®ã€‚ æˆ‘ä»¬å°†é€šè¿‡ä¸‹é¢è¿™ä¸ªä¾‹å­æ¥è¿›è¡Œè¯¦ç»†è®²è§£ï¼š #include \u003ciostream\u003e #include \u003cstring\u003e using namespace std; class People { public: People(const string name, const int age): _name(name), _age(age){} virtual void display() const; virtual void studying(); protected: string _name; int _age; }; void People::display() const { cout \u003c\u003c \"Class Peopleï¼š\" \u003c\u003c _name \u003c\u003c \"ä»Šå¹´\" \u003c\u003c _age \u003c\u003c \"å²äº†ã€‚\" \u003c\u003c endl; } void People::studying() { cout \u003c\u003c \"Class Peopleï¼šæˆ‘æ­£åœ¨å­¦ä¹ ï¼Œè¯·ä¸è¦æ‰“æ‰°æˆ‘ï¼ï¼ï¼\" \u003c\u003c endl; } class Student: public People { public: Student(const string name, const int age, const float score):People(name, age), _score(score){} public: void display() const override; virtual void examing(); protected: float _score; }; void Student::display() const { cout \u003c\u003c \"Class Studentï¼š\" \u003c\u003c _name \u003c\u003c \"ä»Šå¹´\" \u003c\u003c _age \u003c\u003c \"å²äº†ï¼Œè€ƒäº†\" \u003c\u003c _score \u003c\u003c \"åˆ†ã€‚\" \u003c\u003c endl; } void Student::examing() { cout \u003c\u003c \"Class Studentï¼š\" \u003c\u003c _name \u003c\u003c \"æ­£åœ¨è€ƒè¯•ï¼Œè¯·ä¸è¦æ‰“æ‰°Taå•Šï¼\" \u003c\u003c endl; } class Senior: public Student { public: Senior(const string name, const int age, const float score, const bool hasJob): Student(name, age, score), _hasJob(hasJob){} void display() const override; virtual void partying(); private: bool _hasJob; }; void Senior::display() const { if(_hasJob) { cout \u003c\u003c \"Class Seniorï¼š\" \u003c\u003c _name \u003c\u003c \"ä»¥\" \u003c\u003c _score \u003c\u003c \"çš„æˆç»©ä»å¤§å­¦æ¯•ä¸šäº†ï¼Œå¹¶æ‰¾åˆ°äº†å·¥ä½œï¼ŒTaä»Šå¹´\" \u003c\u003c _age \u003c\u003c \"å²ã€‚\" \u003c\u003c endl; } else { cout \u003c\u003c \"Class Seniorï¼š\" \u003c\u003c _name \u003c\u003c \"ä»¥\" \u003c\u003c _score \u003c\u003c \"çš„æˆç»©ä»å¤§å­¦æ¯•ä¸šäº†ï¼Œä½†æ²¡æ‰¾åˆ°å·¥ä½œï¼ŒTaä»Šå¹´\" \u003c\u003c _age \u003c\u003c \"å²ã€‚\" \u003c\u003c endl; } } void Senior::partying() { cout \u003c\u003c \"Class Seniorï¼šå¿«æ¯•ä¸šäº†ï¼Œå¤§å®¶æ­£åœ¨åƒæ•£ä¼™é¥­...\" \u003c\u003c endl; } int main(){ People *p = new People(\"æä¸€\", 29); p -\u003e display(); p = new Student(\"æäºŒ\", 16, 84.5); p -\u003e display(); p = new Senior(\"æä¸‰\", 24, 99.9, true); p -\u003e display(); return 0; } /* è¿è¡Œç»“æœï¼š Class Peopleï¼šæä¸€ä»Šå¹´29å²äº†ã€‚ Class Studentï¼šæäºŒä»Šå¹´16å²äº†ï¼Œè€ƒäº†84.5åˆ†ã€‚ Class Seniorï¼šæä¸‰ä»¥99.9çš„æˆç»©ä»å¤§å­¦æ¯•ä¸šäº†ï¼Œå¹¶æ‰¾åˆ°äº†å·¥ä½œï¼ŒTaä»Šå¹´24å²ã€‚ */ ä¸Šé¢è¿™ä¸ªä¾‹å­çš„å„ä¸ªç±»çš„å¯¹è±¡çš„å†…å­˜ç©ºé—´å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»”ç»†è§‚å¯Ÿè™šå‡½æ•°è¡¨ï¼Œå¯ä»¥å‘ç°åŸºç±»çš„è™šå‡½æ•°åœ¨vtableä¸­çš„ä½ç½®æ˜¯å›ºå®šçš„ï¼Œä¸ä¼šéšç€ç»§æ‰¿å±‚æ¬¡çš„å¢åŠ è€Œæ”¹å˜ï¼Œå¦‚æœæ´¾ç”Ÿç±»é‡å†™äº†åŸºç±»çš„è™šå‡½æ•°ï¼Œé‚£ä¹ˆå°†ä½¿ç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°æ›¿æ¢åŸºç±»å¯¹åº”çš„è™šå‡½æ•°ï¼Œä¸”æ´¾ç”Ÿç±»æ–°å¢çš„è™šå‡½æ•°ä¼šæ·»åŠ åˆ°è™šå‡½æ•°è¡¨çš„åº•éƒ¨ã€‚ å½“é€šè¿‡æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œä¼šå…ˆæ ¹æ®æŒ‡é’ˆæ‰¾åˆ° vptrï¼Œå†æ ¹æ® vfptr æ‰¾åˆ°è™šå‡½æ•°çš„å…¥å£åœ°å€ã€‚ä»¥è™šå‡½æ•° display() ä¸ºä¾‹ï¼Œå®ƒåœ¨ vtable ä¸­çš„ç´¢å¼•ä¸º0ï¼Œé€šè¿‡ p -\u003e display(); è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨å†…éƒ¨ä¼šå‘ç”Ÿç±»ä¼¼ä¸‹é¢çš„è½¬æ¢ï¼š ( *( *(p+0) + 0 ) )(p); 0æ˜¯vptråœ¨å¯¹è±¡å†…å­˜ç©ºé—´ä¸­çš„åç§»ï¼Œp+0è¡¨ç¤ºvptrçš„åœ°å€ï¼Œ*(p+0)è¡¨ç¤ºvptrçš„å€¼ï¼Œå³è™šå‡½æ•°è¡¨çš„èµ·å§‹åœ°å€ã€‚display()åœ¨è™šå‡½æ•°è¡¨ä¸­çš„ä¸‹æ ‡ä¸º0ï¼Œæ‰€ä»¥( *(p+0) + 0 )å°±æ˜¯display()çš„åœ°å€ï¼Œ*( *(p+0) + 0 )(p)å°±æ˜¯å¯¹display()çš„è°ƒç”¨ï¼Œè¿™é‡Œçš„på°±æ˜¯è°ƒç”¨display()æ—¶ä½¿ç”¨çš„å®å‚ï¼Œå®ƒä¼šèµ‹å€¼ç»™thisæŒ‡é’ˆã€‚ é‚£ä¹ˆå¯¹åº”p -\u003e studying();å°±ä¼šè¢«è½¬æ¢ä¸º ( *( *(p+0) + 1 ) )(p); æ³¨æ„ï¼š åˆ«å¿˜äº†pæ˜¯Peopleå¯¹è±¡çš„æŒ‡é’ˆï¼Œå®ƒåªèƒ½è°ƒç”¨display()å’Œstudying()å‡½æ•°ï¼Œè™šå‡½æ•°åªæ˜¯ä½¿å¾—å®ƒèƒ½è°ƒç”¨æ´¾ç”Ÿç±»å¯¹åº”çš„æˆå‘˜å‡½æ•°ã€‚å¯¹äºæœ‰éœ€è¦çš„å‡½æ•°æ‰å°†å…¶è®¾ç½®ä¸ºè™šå‡½æ•°ï¼Œå…¶ä»–å‡½æ•°è¯·ä¸è¦è®¾ç½®ä¸ºè™šå‡½æ•°ï¼Œè¿™ä¼šé™ä½ç¨‹åºè¿è¡Œæ•ˆç‡ã€‚ ä»¥ä¸Šæ˜¯é’ˆå¯¹å•ç»§æ‰¿è¿›è¡Œçš„è®²è§£ã€‚å½“å­˜åœ¨å¤šç»§æ‰¿æ—¶ï¼Œè™šå‡½æ•°è¡¨çš„ç»“æ„å°±ä¼šå˜å¾—å¤æ‚ï¼Œå°¤å…¶æ˜¯æœ‰è™šç»§æ‰¿æ—¶ï¼Œè¿˜ä¼šå¢åŠ è™šåŸºç±»è¡¨ï¼Œæ›´åŠ è®©äººæŠ“ç‹‚ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸åˆ†æäº†ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œç ”ç©¶ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:6:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è™šææ„å‡½æ•°\ræ„é€ å‡½æ•°æ˜¯ä¸èƒ½è¢«å£°æ˜ä¸ºè™šå‡½æ•°çš„ï¼Œå› ä¸ºè°ƒç”¨æ„é€ å‡½æ•°æ—¶è™šå‡½æ•°è¡¨å°šä¸å­˜åœ¨ï¼Œæ­¤æ—¶æ— æ³•é€šè¿‡æŸ¥è¯¢è™šå‡½æ•°è¡¨æ¥æ‰¾åˆ°è¦è°ƒç”¨çš„å‡½æ•°æ˜¯å“ªä¸ªã€‚ ææ„å‡½æ•°çš„ä½œç”¨ä¸ºåœ¨é”€æ¯å¯¹è±¡æ—¶è¿›è¡Œæ¸…ç†å·¥ä½œï¼Œæ­¤æ—¶è™šå‡½æ•°è¡¨æ—©å·²å­˜åœ¨ï¼Œæ‰€ä»¥å¯ä»¥å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œè€Œä¸”æœ‰æ—¶å€™å¿…é¡»è¦å£°æ˜ä¸ºè™šå‡½æ•°ã€‚ ç›´æ¥çœ‹ä¾‹å­ï¼š #include\u003ciostream\u003e using namespace std; class Base { public: Base(); ~Base(); private: int * a; }; Base::Base() { cout \u003c\u003c \"Base constructor!\" \u003c\u003c endl; a = new int[10]; } Base::~Base() { cout \u003c\u003c \"Base destructor!\" \u003c\u003c endl; delete[] a; } class Derived: public Base { public: Derived(); // è¿™é‡Œæ²¡æœ‰æ˜¾ç¤ºè°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„é»˜è®¤æ„é€ å‡½æ•° ~Derived(); private: int * b; }; Derived::Derived() { cout \u003c\u003c \"Derived constructor!\" \u003c\u003c endl; b = new int[1000]; } Derived::~Derived() { cout \u003c\u003c \"Derived destructor!\" \u003c\u003c endl; delete[] b; } int main() { Base *bp = new Derived; delete bp; cout \u003c\u003c \"-------------------------\" \u003c\u003c endl; Derived *dp = new Derived; delete dp; return 0; } /* è¿è¡Œç»“æœï¼š Base constructor! Derived constructor! Base destructor! ------------------------- Base constructor! Derived constructor! Derived destructor! Base destructor! */ åœ¨æœ¬ä¾‹ä¸­ï¼Œbpã€dpåˆ†åˆ«è¡¨ç¤ºåŸºç±»æŒ‡é’ˆå’Œæ´¾ç”Ÿç±»æŒ‡é’ˆï¼Œå®ƒä»¬éƒ½æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ã€‚æœ€åä½¿ç”¨delete bpåªè°ƒç”¨äº†åŸºç±»çš„ææ„å‡½æ•°ï¼Œæ²¡æœ‰è°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œå¯¼è‡´æ´¾ç”Ÿç±»ç”³è¯·çš„1000ä¸ªintç©ºé—´æœªè¢«é‡Šæ”¾ï¼Œé€ æˆäº†å†…å­˜æ³„æ¼ï¼›ä½¿ç”¨delete dpåˆ™æ­£ç¡®çš„å…ˆè°ƒç”¨äº†æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œå†è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œç”³è¯·çš„å†…å­˜ç©ºé—´éƒ½æ­£ç¡®é‡Šæ”¾æ‰äº†ã€‚ 1ï¼‰ä¸ºä»€ä¹ˆdelete bpä¸ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Ÿ å› ä¸ºè¿™é‡Œçš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œé€šè¿‡æŒ‡é’ˆè®¿é—®éè™šå‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®æŒ‡é’ˆç±»å‹æ¥ç¡®å®šè¦è°ƒç”¨çš„å‡½æ•°ã€‚æ‰€ä»¥ï¼Œæ— è®ºbpæŒ‡å‘è°ï¼Œè°ƒç”¨çš„å§‹ç»ˆéƒ½æ˜¯åŸºç±»çš„ææ„å‡½æ•°ã€‚ 2ï¼‰ä¸ºä»€ä¹ˆdelete dpèƒ½å¤Ÿè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Ÿ åœ¨å‰é¢æˆ‘ä»¬å·²ç»è¯´äº†ï¼Œåœ¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ä¸­ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œä¸”è°ƒç”¨é¡ºåºä¸ºæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°â†’åŸºç±»çš„ææ„å‡½æ•°ã€‚ å“ªè¯¥æ€ä¹ˆè®©åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œæ‰§è¡Œdelete bpå¯ä»¥è°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°å‘¢ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯å°†åŸºç±»çš„ææ„å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œè¿™æ ·æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ä¹Ÿä¼šè‡ªåŠ¨æˆä¸ºè™šå‡½æ•°ã€‚è¿™ä¸ªæ—¶å€™ç¼–è¯‘å™¨å°±ä¼šæ ¹æ®æŒ‡é’ˆçš„æŒ‡å‘æ¥è°ƒç”¨ææ„å‡½æ•°å•¦ï¼ä¿®æ”¹ä¸Šé¢çš„ç¤ºä¾‹ï¼Œå°†åŸºç±»ææ„å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•°ï¼š class Base { public: Base(); virtual ~Base(); // åªä¿®æ”¹äº†è¿™é‡Œ private: int * a; }; /* è¿è¡Œç»“æœï¼š Base constructor! Derived constructor! Derived destructor! Base destructor! ------------------------- Base constructor! Derived constructor! Derived destructor! Base destructor! */ åœ¨å®é™…å¼€å‘ä¸­ï¼Œè‡ªå·±å®šä¹‰ææ„å‡½æ•°å°±æ˜¯å¸Œæœ›åœ¨å¯¹è±¡é”€æ¯æ—¶ç”¨å®ƒæ¥è¿›è¡Œæ¸…ç†å·¥ä½œï¼Œæ¯”å¦‚é‡Šæ”¾å†…å­˜ã€å…³é—­æ–‡ä»¶ç­‰ï¼Œå¦‚æœè¿™ä¸ªç±»åˆæ˜¯ä¸€ä¸ªåŸºç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»å°†è¯¥ææ„å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œå¦åˆ™å°±æœ‰å†…å­˜æ³„éœ²çš„é£é™©ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½åº”è¯¥å°†åŸºç±»çš„ææ„å‡½æ•°å£°æ˜ä¸ºè™šå‡½æ•°ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:6:4","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"çº¯è™šå‡½æ•°å’ŒæŠ½è±¡ç±»\råœ¨C++ä¸­ï¼Œå¯ä»¥å°†è™šå‡½æ•°å£°æ˜ä¸ºçº¯è™šå‡½æ•°ï¼Œè¯­æ³•ä¸ºï¼š virtual è¿”å›å€¼ å‡½æ•°å(å‚æ•°åˆ—è¡¨) = 0; çº¯è™šå‡½æ•°æŒ‡çš„å°±æ˜¯æ²¡æœ‰å‡½æ•°ä½“çš„è™šå‡½æ•°ï¼ŒåŒ…å«çº¯è™šå‡½æ•°çš„ç±»ç§°ä¸ºæŠ½è±¡ç±»ã€‚ä¹‹æ‰€ä»¥è¯´å®ƒæŠ½è±¡ï¼Œæ˜¯å› ä¸ºå®ƒæ— æ³•å®ä¾‹åŒ–ã€‚åŸå› å¾ˆæ˜æ˜¾ï¼Œçº¯è™šå‡½æ•°æ²¡æœ‰å‡½æ•°ä½“ï¼Œä¸æ˜¯å®Œæ•´çš„å‡½æ•°ï¼Œæ— æ³•è°ƒç”¨ï¼Œä¹Ÿæ— æ³•ä¸ºå…¶åˆ†é…å†…å­˜ç©ºé—´ã€‚ æŠ½è±¡ç±»é€šå¸¸æ˜¯ä½œä¸ºåŸºç±»ï¼Œè®©æ´¾ç”Ÿç±»å»å®ç°çº¯è™šå‡½æ•°ï¼Œæ´¾ç”Ÿç±»å¿…é¡»å®ç°çº¯è™šå‡½æ•°æ‰èƒ½è¢«å®ä¾‹åŒ–ã€‚ä¸€èˆ¬å°†è™šå‡½æ•°å£°æ˜ä¸ºçº¯è™šå‡½æ•°çš„æƒ…å†µæœ‰ï¼š è¯¥å‡½æ•°å¹¶ä¸æ˜¯åŸºç±»æ‰€éœ€è¦çš„ï¼Œä½†æ´¾ç”Ÿç±»å¿…é¡»è¦å®ç° åŸºç±»æ— æ³•å®ç°è¯¥å‡½æ•°çš„åŠŸèƒ½ï¼Œéœ€è¦æ´¾ç”Ÿæ¥å®ç° ","date":"2024-08-07","objectID":"/posts/3b2b064/:6:5","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"typeidè¿ç®—ç¬¦\råœ¨å¤šæ€ç¯å¢ƒä¸‹ï¼Œå¦‚æœä½ éœ€è¦åœ¨è¿è¡Œæ—¶æ£€æŸ¥æŸä¸ªå¯¹è±¡çš„å®é™…ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ typeid æ¥å®ç°ã€‚è¿™åœ¨å¤„ç†å¤æ‚çš„ç»§æ‰¿å±‚æ¬¡æˆ–å®ç°ç‰¹å®šé€»è¾‘æ—¶å¯èƒ½æœ‰ç”¨ã€‚ if (typeid(*basePtr) == typeid(Derived)) { // Perform some operation specific to Derived type } ","date":"2024-08-07","objectID":"/posts/3b2b064/:6:6","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è¿ç®—ç¬¦é‡è½½\r","date":"2024-08-07","objectID":"/posts/3b2b064/:7:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è¿ç®—ç¬¦é‡è½½åŸºç¡€æ•™ç¨‹\rè¿ç®—ç¬¦é‡è½½ä¹Ÿè¢«ç§°ä¸ºæ“ä½œç¬¦é‡è½½ï¼Œå’Œå‡½æ•°é‡è½½ä¸€æ ·ï¼Œè¿ç®—ç¬¦é‡è½½çš„ç›®çš„æ˜¯ ã€Œä½¿å¾—åŒä¸€ä¸ªè¿ç®—ç¬¦å…·æœ‰å¤šç§åŠŸèƒ½ã€ã€‚è¿ç®—ç¬¦é‡è½½æ˜¯ä¸€ç§ä¼˜é›…çš„å¯¹è±¡æ“ä½œæŠ€æœ¯ï¼Œé€šè¿‡é‡è½½è¿ç®—ç¬¦ï¼Œå¯ä»¥è®©è‡ªå®šä¹‰ç±»å‹çš„ä½¿ç”¨æ›´åŠ è‡ªç„¶å’Œç¬¦åˆç›´è§‰ã€‚ å®é™…ä¸Šï¼Œæˆ‘ä»¬å·²ç»åœ¨ä¸çŸ¥ä¸è§‰ä¸­ä½¿ç”¨äº†è¿ç®—ç¬¦é‡è½½ã€‚ä¾‹å¦‚ï¼Œ+å·å¯ä»¥å¯¹ä¸åŒç±»å‹ï¼ˆintã€float ç­‰ï¼‰çš„æ•°æ®è¿›è¡ŒåŠ æ³•æ“ä½œï¼›\u003c\u003c æ—¢æ˜¯ä½ç§»è¿ç®—ç¬¦ï¼Œåˆå¯ä»¥é…åˆ cout å‘æ§åˆ¶å°è¾“å‡ºæ•°æ®ã€‚C++ æœ¬èº«å·²ç»å¯¹è¿™äº›è¿ç®—ç¬¦è¿›è¡Œäº†é‡è½½ã€‚C++ ä¹Ÿå…è®¸ç¨‹åºå‘˜è‡ªå·±é‡è½½è¿ç®—ç¬¦ï¼Œè¿™ç»™æˆ‘ä»¬å¸¦æ¥äº†å¾ˆå¤§çš„ä¾¿åˆ©ã€‚ è¿ç®—ç¬¦é‡è½½å…¶å®å°±æ˜¯å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨å‡½æ•°ä½“å†…å®ç°æƒ³è¦çš„åŠŸèƒ½ï¼Œå½“ç”¨åˆ°è¯¥è¿ç®—ç¬¦æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚æ‰€ä»¥ï¼Œè¿ç®—ç¬¦é‡è½½çš„æœ¬è´¨å°±æ˜¯å‡½æ•°é‡è½½ã€‚ è¿ç®—ç¬¦é‡è½½çš„è¯­æ³•ä¸ºï¼š è¿”å›å€¼ç±»å‹ operatorè¿ç®—ç¬¦(å‚æ•°åˆ—è¡¨) { ...... } è¿ç®—ç¬¦é‡è½½çš„åŸºæœ¬è§„åˆ™ä¸ºï¼š åªèƒ½é‡è½½å·²ç»å­˜åœ¨çš„è¿ç®—ç¬¦ï¼Œä¸èƒ½åˆ›é€ æ–°çš„è¿ç®—ç¬¦ï¼ˆæ¯”å¦‚ @ï¼‰ã€‚ è‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°å¿…é¡»æ˜¯ç”¨æˆ·å®šä¹‰çš„ç±»å‹ï¼ˆé˜²æ­¢é‡è½½åŸºæœ¬æ•°æ®ç±»å‹çš„è¿ç®—ç¬¦ï¼‰ã€‚ ä¸èƒ½è¿æ³•è¿ç®—ç¬¦åŸæ¥çš„è¯­æ³•è§„åˆ™ã€‚ä¾‹å¦‚%æœ¬æ¥æœ‰ä¸¤ä¸ªæ“ä½œæ•°ï¼Œä¸èƒ½é‡è½½ä¸ºåªæœ‰ä¸€ä¸ªã€‚ ä¸èƒ½ä¿®æ”¹è¿ç®—ç¬¦ä¼˜å…ˆçº§ã€‚ ä¸èƒ½é‡è½½ä»¥ä¸‹è¿ç®—ç¬¦ï¼š::ï¼ˆä½œç”¨åŸŸè§£æï¼‰ã€. *ï¼ˆæŒ‡å‘æˆå‘˜çš„æŒ‡é’ˆï¼‰ã€sizeofï¼ˆå¯¹è±¡æˆ–ç±»å‹çš„å¤§å°ï¼‰ã€typeidï¼ˆå¯¹è±¡æˆ–ç±»å‹çš„ä¿¡æ¯ï¼‰ã€?:ï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰ è¿ç®—ç¬¦é‡è½½çš„æ–¹å¼ï¼š è¿ç®—ç¬¦å¯ä»¥é€šè¿‡æˆå‘˜å‡½æ•°æˆ–éæˆå‘˜å‡½æ•°ï¼ˆé€šå¸¸æ˜¯å‹å…ƒå‡½æ•°ï¼‰æ¥é‡è½½ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€‰æ‹©ä»»æ„ä¸€ç§æ–¹å¼éƒ½è¡Œï¼Œä½†å•ç›®è¿ç®—ç¬¦æœ€å¥½é‡è½½ä¸ºæˆå‘˜å‡½æ•°ï¼ŒåŒç›®è¿ç®—ç¬¦æœ€å¥½é‡è½½ä¸ºå‹å…ƒå‡½æ•°ã€‚ ä½†è¿™äº›è¿ç®—ç¬¦åªèƒ½é€šè¿‡æˆå‘˜å‡½æ•°æ¥é‡è½½ï¼š =ã€()ã€[]ã€â†’ã€‚ ä¾‹å¦‚é‡è½½äº† + æ“ä½œç¬¦æ—¶ï¼Œ å¯¹äº a + b ä¸åŒçš„é‡è½½æ–¹æ³•ç­‰ä»·çš„ç»“æœä¸åŒ é‡è½½ä¸ºæˆå‘˜å‡½æ•°ï¼ša + b ç­‰ä»·äº a.operator+(b) é‡è½½ä¸ºå‹å…ƒå‡½æ•°ï¼ša + b ç­‰ä»·äº operator+(a, b) æ¨èåŒç›®è¿ç®—ç¬¦é‡è½½ä¸ºå‹å…ƒå‡½æ•°çš„åŸå› \rå¯¹äºä¸€ä¸ªæ—¶é—´ç±»çš„å¯¹è±¡aæ¥è¯´ a * 3.7 å’Œ 3.7 * a æ˜¯ç­‰ä»·çš„ï¼Œä½†æ˜¯å¦‚æœå°† * é‡è½½ä¸ºè¯¥ç±»çš„æˆå‘˜å‡½æ•°ï¼Œ 3.7 * a æ˜¯æ— æ³•æ­£å¸¸å¤„ç†çš„ã€‚ ä¸‹é¢æˆ‘ä»¬å°†ä¸¾ä¸€äº›é‡è½½è¿ç®—ç¬¦çš„ç¤ºä¾‹ï¼Œå…¶ä»–è¿ç®—ç¬¦å¦‚ï¼šnewã€deleteã€()ç­‰ä¹Ÿå¯ä»¥é‡è½½ï¼Œæœ‰éœ€è¦æ—¶è¯·è‡ªè¡Œäº†è§£ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:7:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"é‡è½½æ•°å­¦è¿ç®—ç¬¦\rå››åˆ™è¿ç®—ç¬¦ï¼ˆ+ã€-ã€ã€/ã€+=ã€-=ã€=ã€/=ï¼‰å’Œå…³ç³»è¿ç®—ç¬¦ï¼ˆ\u003eã€\u003cã€\u003c=ã€\u003e=ã€==ã€!=ï¼‰éƒ½æ˜¯æ•°å­¦è¿ç®—ç¬¦ï¼Œå®ƒä»¬åœ¨å®é™…å¼€å‘ä¸­éå¸¸å¸¸è§ï¼Œè¢«é‡è½½çš„å‡ ç‡ä¹Ÿå¾ˆé«˜ï¼Œå¹¶ä¸”æœ‰ç€ç›¸ä¼¼çš„é‡è½½æ ¼å¼ã€‚æœ¬èŠ‚ä»¥å¤æ•°ç±» Complex ä¸ºä¾‹å¯¹å®ƒä»¬è¿›è¡Œé‡è½½ï¼Œé‡åœ¨æ¼”ç¤ºè¿ç®—ç¬¦é‡è½½çš„è¯­æ³•ä»¥åŠè§„èŒƒã€‚ å¤æ•°èƒ½å¤Ÿè¿›è¡Œå®Œæ•´çš„å››åˆ™è¿ç®—ï¼Œä½†ä¸èƒ½è¿›è¡Œå®Œæ•´çš„å…³ç³»è¿ç®—ï¼šæˆ‘ä»¬åªèƒ½åˆ¤æ–­ä¸¤ä¸ªå¤æ•°æ˜¯å¦ç›¸ç­‰ï¼Œä½†ä¸èƒ½æ¯”è¾ƒå®ƒä»¬çš„å¤§å°ï¼Œæ‰€ä»¥åœ¨è¯¥ç±»ä¸­ä¸èƒ½å¯¹ \u003eã€\u003cã€\u003c=ã€\u003e= è¿›è¡Œé‡è½½ã€‚ä¸‹é¢æ˜¯å…·ä½“çš„ä»£ç ï¼š #include \u003ciostream\u003e #include \u003ccmath\u003e using namespace std; class Complex{ public: Complex(double real = 0.0, double imag = 0.0): _real(real), _imag(imag){ } public: // è¿ç®—ç¬¦é‡è½½ // ä»¥å‹å…ƒå‡½æ•°çš„å½¢å¼é‡è½½ friend Complex operator+(const Complex \u0026c1, const Complex \u0026c2); friend Complex operator-(const Complex \u0026c1, const Complex \u0026c2); friend Complex operator*(const Complex \u0026c1, const Complex \u0026c2); friend Complex operator/(const Complex \u0026c1, const Complex \u0026c2); friend bool operator==(const Complex \u0026c1, const Complex \u0026c2); friend bool operator!=(const Complex \u0026c1, const Complex \u0026c2); // ä»¥æˆå‘˜å‡½æ•°çš„å½¢å¼é‡è½½ Complex \u0026 operator+=(const Complex \u0026c); Complex \u0026 operator-=(const Complex \u0026c); Complex \u0026 operator*=(const Complex \u0026c); Complex \u0026 operator/=(const Complex \u0026c); public: //æˆå‘˜å‡½æ•° double get_real() const{ return _real; } double get_imag() const{ return _imag; } private: double _real; // å®éƒ¨ double _imag; // è™šéƒ¨ }; Complex operator+(const Complex \u0026c1, const Complex \u0026c2) { Complex c; c._real = c1._real + c2._real; c._imag = c1._imag + c2._imag; return c; } Complex operator-(const Complex \u0026c1, const Complex \u0026c2) { Complex c; c._real = c1._real - c2._real; c._imag = c1._imag - c2._imag; return c; } // (a+bi) * (c+di) = (ac-bd) + (bc+ad)i Complex operator*(const Complex \u0026c1, const Complex \u0026c2) { Complex c; c._real = c1._real * c2._real - c1._imag * c2._imag; c._imag = c1._imag * c2._real + c1._real * c2._imag; return c; } // (a+bi) / (c+di) = [(ac+bd) / (cÂ²+dÂ²)] + [(bc-ad) / (cÂ²+dÂ²)]i Complex operator/(const Complex \u0026c1, const Complex \u0026c2) { Complex c; c._real = (c1._real * c2._real + c1._imag * c2._imag) / (pow(c2._real, 2) + pow(c2._imag, 2)); c._imag = (c1._imag * c2._real - c1._real * c2._imag) / (pow(c2._real, 2) + pow(c2._imag, 2)); return c; } bool operator==(const Complex \u0026c1, const Complex \u0026c2) { if( c1._real == c2._real \u0026\u0026 c1._imag == c2._imag ) { return true; } else { return false; } } bool operator!=(const Complex \u0026c1, const Complex \u0026c2) { if( c1._real != c2._real || c1._imag != c2._imag ) { return true; } else { return false; } } Complex \u0026 Complex::operator+=(const Complex \u0026c) { this-\u003e_real += c._real; this-\u003e_imag += c._imag; return *this; } Complex \u0026 Complex::operator-=(const Complex \u0026c) { this-\u003e_real -= c._real; this-\u003e_imag -= c._imag; return *this; } Complex \u0026 Complex::operator*=(const Complex \u0026c) { this-\u003e_real = this-\u003e_real * c._real - this-\u003e_imag * c._imag; this-\u003e_imag = this-\u003e_imag * c._real + this-\u003e_real * c._imag; return *this; } Complex \u0026 Complex::operator/=(const Complex \u0026c) { this-\u003e_real = (this-\u003e_real*c._real + this-\u003e_imag*c._imag) / (pow(c._real, 2) + pow(c._imag, 2)); this-\u003e_imag = (this-\u003e_imag*c._real - this-\u003e_real*c._imag) / (pow(c._real, 2) + pow(c._imag, 2)); return *this; } int main() { Complex c1(25, 35); Complex c2(10, 20); Complex c3(1, 2); Complex c4(4, 9); Complex c5(34, 6); Complex c6(80, 90); Complex c7 = c1 + c2; Complex c8 = c1 - c2; Complex c9 = c1 * c2; Complex c10 = c1 / c2; cout \u003c\u003c \"c7 = \" \u003c\u003c c7.get_real() \u003c\u003c \" + \" \u003c\u003c c7.get_imag() \u003c\u003c \"i\" \u003c\u003c endl; cout \u003c\u003c \"c8 = \" \u003c\u003c c8.get_real() \u003c\u003c \" + \" \u003c\u003c c8.get_imag() \u003c\u003c \"i\" \u003c\u003cendl; cout \u003c\u003c \"c9 = \" \u003c\u003c c9.get_real() \u003c\u003c \" + \" \u003c\u003c c9.get_imag() \u003c\u003c \"i\" \u003c\u003cendl; cout \u003c\u003c \"c10 = \"\u003c\u003c c10.get_real() \u003c\u003c \" + \" \u003c\u003c c10.get_imag() \u003c\u003c \"i\" \u003c\u003cendl; c3 += c1; c4 -= c2; c5 *= c2; c6 /= c2; cout \u003c\u003c \"c3 = \" \u003c\u003c c3.get_real() \u003c\u003c \" + \" \u003c\u003c c3.get_imag() \u003c\u003c \"i\" \u003c\u003c endl; cout \u003c\u003c \"c4 = \" \u003c\u003c c4.get_real() \u003c\u003c \" + \" \u003c\u003c c4.get_imag() \u003c\u003c \"i\" \u003c\u003c endl; cout \u003c\u003c \"c5 = \" \u003c\u003c c5.get_real() \u003c\u003c \" + \" \u003c\u003c c5.get_imag() \u003c\u003c \"i\" \u003c\u003c endl; cout \u003c\u003c \"c6 = \" \u003c\u003c c6.get_real() \u003c\u003c \" + \" \u003c\u003c c6.get_imag() \u003c\u003c \"i\" \u003c\u003c endl; if(c1 == c2) { cout \u003c\u003c \"c1 == c2\" \u003c\u003c endl; } if(c1 != c2) { cout \u003c\u003c \"c1 != c2\" \u003c\u003c endl; } return 0; } /* è¿è¡Œç»“æœï¼š c7 = 35 + 55i c8 = 15 + 15i c9 = -450 + 850i c10 = 1.9 + -0.3i c3 = 26 + 37i c4 = -6 + -11i ","date":"2024-08-07","objectID":"/posts/3b2b064/:7:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"é‡è½½ \u003c\u003c å’Œ \u003e\u003e\råœ¨C++ä¸­ï¼Œæ ‡å‡†åº“æœ¬èº«å·²ç»å¯¹å·¦ç§»è¿ç®—ç¬¦\u003c\u003cå’Œå³ç§»è¿ç®—ç¬¦\u003e\u003eåˆ†åˆ«è¿›è¡Œäº†é‡è½½ï¼Œä½¿å…¶èƒ½å¤Ÿç”¨äºä¸åŒæ•°æ®çš„è¾“å…¥è¾“å‡ºï¼Œä½†æ˜¯è¾“å…¥è¾“å‡ºçš„å¯¹è±¡åªèƒ½æ˜¯ C++ å†…ç½®çš„æ•°æ®ç±»å‹ï¼ˆä¾‹å¦‚ boolã€intã€double ç­‰ï¼‰å’Œæ ‡å‡†åº“æ‰€åŒ…å«çš„ç±»ç±»å‹ï¼ˆä¾‹å¦‚ stringã€complexã€ofstreamã€ifstream ç­‰ï¼‰ã€‚å¦‚æœæˆ‘ä»¬è‡ªå·±å®šä¹‰äº†ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ï¼Œéœ€è¦ç”¨è¾“å…¥è¾“å‡ºè¿ç®—ç¬¦å»å¤„ç†ï¼Œé‚£ä¹ˆå°±å¿…é¡»å¯¹å®ƒä»¬è¿›è¡Œé‡è½½ã€‚ cout æ˜¯ ostream ç±»çš„å¯¹è±¡ï¼Œcin æ˜¯ istream ç±»çš„å¯¹è±¡ï¼Œè¦æƒ³è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼Œå°±å¿…é¡»ä»¥å‹å…ƒå‡½æ•°çš„å½¢å¼é‡è½½\u003c\u003cå’Œ\u003e\u003eï¼Œå¦åˆ™å°±è¦ä¿®æ”¹æ ‡å‡†åº“ä¸­çš„ç±»ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ã€‚ åœ¨åˆšåˆšçš„Complexç±»æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªæˆå‘˜å‡½æ•°ï¼š class Complex { ...... friend istream \u0026 operator\u003e\u003e(istream \u0026 in, complex \u0026 A) // è¿”å›å¼•ç”¨æ˜¯ä»¥ä¾¿å¯ä»¥è¿›è¡Œè¿ç»­è¯»å…¥æ“ä½œï¼Œå¦‚ cin \u003e\u003e a \u003e\u003e b; { in \u003e\u003e A.real \u003e\u003e A.imag; return in; } friend ostream \u0026 operator\u003c\u003c(ostream \u0026 out, complex \u0026 A) // åŒæ ·è¿”å›å¼•ç”¨æ˜¯ä»¥ä¾¿è¿›è¡Œè¿ç»­è¾“å‡ºæ“ä½œ { out \u003c\u003c A.real \u003c\u003c\" + \"\u003c\u003c A.imag \u003c\u003c\" i \"; return out; } }; ","date":"2024-08-07","objectID":"/posts/3b2b064/:7:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"é‡è½½[]\rC++ è§„å®šï¼Œä¸‹æ ‡è¿ç®—ç¬¦[ ]å¿…é¡»ä»¥æˆå‘˜å‡½æ•°çš„å½¢å¼è¿›è¡Œé‡è½½ã€‚è¯¥é‡è½½å‡½æ•°åœ¨ç±»ä¸­çš„å£°æ˜æ ¼å¼å¦‚ä¸‹ï¼š è¿”å›å€¼ç±»å‹ \u0026 operator[ ] (å‚æ•°); æˆ–è€…ï¼š const è¿”å›å€¼ç±»å‹ \u0026 operator[ ] (å‚æ•°) const; åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥åŒæ—¶æä¾›è¿™ä¸¤ç§ä»¥ä¸Šä¸¤ç§å½¢å¼ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†é€‚åº”constå¯¹è±¡ï¼Œå› ä¸ºconstå¯¹è±¡åªèƒ½è°ƒç”¨constæˆå‘˜å‡½æ•°ã€‚ æ³¨æ„ï¼š å½“ä½ éœ€è¦è‡ªå®šä¹‰ç±»çš„ä¸‹æ ‡è®¿é—®è¡Œä¸ºæ—¶ï¼Œæ‰é‡è½½[]ï¼Œå¦åˆ™æ— éœ€é‡è½½è¯¥è¿ç®—ç¬¦ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:7:4","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"é‡è½½++å’Œ--\rè‡ªå¢++å’Œè‡ªå‡--éƒ½æ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼Œå®ƒçš„å‰ç½®å½¢å¼ï¼ˆç±»ä¼¼++iï¼‰å’Œåç½®å½¢å¼ï¼ˆç±»ä¼¼i++ï¼‰éƒ½å¯ä»¥è¢«é‡è½½ã€‚å‰ç½®å½¢å¼çš„é‡è½½å‚æ•°åˆ—è¡¨ä¸ºç©ºï¼Œä¸”è¿”å›å¯¹è±¡çš„å¼•ç”¨ï¼›åç½®å½¢æˆçš„é‡è½½å‚æ•°åˆ—è¡¨ä¸ºä¸€ä¸ªintå˜é‡ï¼ˆä¸€èˆ¬å‘½åä¸ºdummyï¼Œæ— å®é™…ä½œç”¨ï¼Œåªæ˜¯ä¸ºäº†åŒºåˆ†å‰ç½®ç‰ˆæœ¬ï¼‰ã€ä¸”è¿”å›æ“ä½œå‰çš„å¯¹è±¡å‰¯æœ¬ã€‚ å¦‚ä¸‹æ‰€ç¤ºï¼š #include \u003ciostream\u003e #include \u003ccmath\u003e using namespace std; class Counter { public: Counter(int value) : _count(value) {} // è‡ªå¢å‰ç½®ç‰ˆæœ¬ Counter\u0026 operator++() { _count++; return *this; } // è‡ªå¢åç½®ç‰ˆæœ¬ Counter operator++(int dummy) { Counter temp = *this; // ä¿å­˜å½“å‰çŠ¶æ€ _count++; return temp; // è¿”å›å¢åŠ å‰çš„å‰¯æœ¬ } // è‡ªå‡å‰ç½®ç‰ˆæœ¬ Counter\u0026 operator--() { _count--; return *this; } // è‡ªå‡åç½®ç‰ˆæœ¬ Counter operator--(int dummy) { Counter temp = *this; // ä¿å­˜å½“å‰çŠ¶æ€ _count--; return temp; // è¿”å›å‡å°‘å‰çš„å‰¯æœ¬ } friend ostream\u0026 operator\u003c\u003c (ostream \u0026out, Counter \u0026c) { out \u003c\u003c c._count; } private: int _count; }; int main() { Counter c(1); cout \u003c\u003c \"start c =\" \u003c\u003c c \u003c\u003c endl; ++c;// è°ƒç”¨å‰ç½®ç‰ˆæœ¬ c++;// è°ƒç”¨åç½®ç‰ˆæœ¬ --c; c--; cout \u003c\u003c \"end c =\" \u003c\u003c c \u003c\u003c endl; return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:7:5","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æ¨¡æ¿\ræ³›å‹ç¨‹åºè®¾è®¡æ˜¯ä¸€ç§ç®—æ³•åœ¨å®ç°æ—¶ä¸æŒ‡å®šå…·ä½“è¦æ“ä½œçš„æ•°æ®ç±»å‹çš„ç¨‹åºè®¾è®¡æ–¹æ³•ã€‚æ‰€è°“â€œæ³›å‹â€ï¼ŒæŒ‡çš„æ˜¯ ã€Œç®—æ³•åªè¦å®ç°ä¸€éï¼Œå°±èƒ½é€‚ç”¨äºå¤šç§æ•°æ®ç±»å‹ã€ã€‚æ³›å‹ç¨‹åºè®¾è®¡æ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºèƒ½å¤Ÿå‡å°‘é‡å¤ä»£ç çš„ç¼–å†™ã€‚åœ¨C++ä¸­æ³›å‹ç¨‹åºè®¾è®¡æ˜¯ä½¿ç”¨æ¨¡æ¿æ¥å®ç°çš„ï¼Œæ¨¡æ¿åˆåˆ†ä¸ºå‡½æ•°æ¨¡æ¿å’Œç±»æ¨¡æ¿ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:8:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‡½æ•°æ¨¡æ¿\rå½“æˆ‘ä»¬éœ€è¦ç¼–å†™å¤šä¸ªå‚æ•°ç±»å‹ä¸åŒä½†å®Œæˆçš„å·¥ä½œéƒ½ç›¸åŒçš„å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‡½æ•°æ¨¡æ¿ã€‚å‡½æ•°æ¨¡æ¿æœ¬èº«æ˜¯ä¸€ä¸ªè“å›¾ï¼Œå¹¶ä¸æ˜¯å‡½æ•°ï¼Œæ˜¯ç¼–è¯‘å™¨ç”¨æ¥äº§ç”Ÿæ‹¥æœ‰å…·ä½“ç±»å‹å‚æ•°çš„å‡½æ•°çš„æ¨¡æ¿ï¼ˆè“å›¾ã€è®¾è®¡å›¾ï¼‰ã€‚ æ¯”å¦‚ï¼Œå½“æˆ‘ä»¬æƒ³è¦ç¼–å†™ swap() å‡½æ•°ç”¨äºäº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼æ—¶ï¼Œå°±éœ€è¦ä¸º intã€doubleã€charç­‰å˜é‡ç±»å‹éƒ½ç¼–å†™å¯¹åº”çš„ swap() å‡½æ•°ï¼Œè¿™æ ·æ•ˆç‡æ˜¯ä½ä¸‹çš„ã€éš¾ä»¥ç»´æŠ¤ä¸”ä¸ä¼˜é›…ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨å‡½æ•°æ¨¡æ¿æ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚ å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¨¡æ¿çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š template \u003ctypename T1, typename T2, ......\u003e void functionName(T1 parameter1, T2 parameter2, ......) { // å‡½æ•°ä½“ } template æ˜¯ç”¨äºå®šä¹‰æ¨¡æ¿çš„å…³é”®å­—ã€‚ \u003ctypename T1, typename T2\u003e å®šä¹‰æ¨¡æ¿å‚æ•°T1å’ŒT2ï¼Œè·Ÿå‡½æ•°å‚æ•°ä¸€æ ·ï¼ˆT1ï¼ŒT2æ˜¯æ¨èçš„å‚æ•°åï¼Œæ˜¯å¯ä¿®æ”¹çš„ï¼‰ã€‚typenameå¯ä»¥ä½¿ç”¨classæ¥æ›¿æ¢ï¼Œä½†ä¸æ¨èã€‚ T1ã€T2 å‡æ˜¯æ¨¡æ¿å‚æ•°ç±»å‹ï¼Œåœ¨ç¼–å†™å‡½æ•°æ—¶ä½¿ç”¨ï¼Œç”¨äºå–ä»£å…·ä½“çš„æ•°æ®ç±»å‹ã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ªäº¤æ¢ä¸¤ä¸ªåŒç±»å‹å˜é‡çš„å€¼çš„å‡½æ•°æ¨¡æ¿å¯ä»¥å†™ä¸ºï¼š template \u003ctypename T\u003e void swap(T \u0026a, T \u0026b) { T temp = a; a = b; b = temp; } è¯·æ³¨æ„ï¼š æ¨¡æ¿å‡½æ•°ï¼ˆæŒ‡ç”±å‡½æ•°æ¨¡æ¿ç”Ÿæˆçš„å‡½æ•°ï¼‰ä¸æ¨¡æ¿å‡½æ•°ã€æ¨¡æ¿å‡½æ•°ä¸å¸¸è§„å‡½æ•°å‡èƒ½å®ç°é‡è½½ï¼Œè¯·çœ‹ç¤ºä¾‹ä»£ç ï¼š #include \u003ciostream\u003e // å¸¸è§„å‡½æ•° void func(int x) { std::cout \u003c\u003c \"Non-template function called with int: \" \u003c\u003c x \u003c\u003c std::endl; } // å‡½æ•°æ¨¡æ¿1 template\u003ctypename T\u003e void func(T x) { std::cout \u003c\u003c \"Template function1 called with value: \" \u003c\u003c x \u003c\u003c std::endl; } // å‡½æ•°æ¨¡æ¿2 template\u003ctypename T\u003e void func(T x, int n) { std::cout \u003c\u003c \"Template function2 called with value: \" \u003c\u003c x \u003c\u003c std::endl; } int main() { func(10); // è°ƒç”¨å¸¸è§„å‡½æ•° func(10.5); // è°ƒç”¨ç”±å‡½æ•°æ¨¡æ¿1å®ä¾‹åŒ–çš„æ¨¡æ¿å‡½æ•° func(10.3, 7); // è°ƒç”¨ç”±å‡½æ•°æ¨¡æ¿2å®ä¾‹åŒ–çš„æ¨¡æ¿å‡½æ•° } æœ‰æ—¶å¯¹äºæŸç§ç‰¹å®šç±»å‹ï¼Œæˆ‘ä»¬ä¸æƒ³ä½¿ç”¨é€šç”¨çš„å‡½æ•°æ¨¡æ¿ï¼Œè€Œæ˜¯æƒ³è¦æœ‰äº›ç‰¹å®šçš„æ“ä½œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ˜¾ç¤ºå…·ä½“åŒ–æ¥å®Œæˆæ­¤è¦æ±‚ã€‚æ¯”å¦‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå¯¹äºä¸¤ä¸ªç»“æ„ä½“ job å˜é‡a, bï¼ˆè¯¥ç»“æ„ä½“åŒ…å« å§“åã€è–ªèµ„ã€èŒä½ æˆå‘˜ï¼‰ï¼Œæˆ‘ä»¬åªæƒ³äº¤æ¢ä¸¤ä¸ªå˜é‡çš„è–ªèµ„å’ŒèŒä½çš„å€¼ï¼Œè¿™æ—¶å°±å¯ä»¥é‡‡ç”¨æ˜¾ç¤ºå…·ä½“åŒ–æ¥å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š typedef struct job { string name; double salary; string position; }job; template \u003ctypename T\u003e void Swap(T \u0026a, T \u0026b) { T temp = a; a = b; b = temp; } //æ˜¾ç¤ºå…·ä½“åŒ– template \u003c\u003e void Swap\u003cjob\u003e(job \u0026j1, job \u0026j2) { string position_temp = j1.position; double salary_temp = j1.salary; j1.position = j2.position; j1.salary = j2.salary; j2.position = position_temp; j2.salary = salary_temp; } int main() { job a, b; Â·Â·Â·Â·Â·Â· Swap(a, b); //è°ƒç”¨çš„æ˜¯æ˜¾ç¤ºå…·ä½“åŒ–åˆ›å»ºçš„å‡½æ•°ï¼Œåªäº¤æ¢è¿™ä¸¤ä¸ªå˜é‡çš„è–ªèµ„å’ŒèŒä½çš„å€¼ } ","date":"2024-08-07","objectID":"/posts/3b2b064/:8:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç±»æ¨¡æ¿\rC++ é™¤äº†æ”¯æŒå‡½æ•°æ¨¡æ¿ï¼Œè¿˜æ”¯æŒç±»æ¨¡æ¿ã€‚å‡½æ•°æ¨¡æ¿ä¸­å®šä¹‰çš„ç±»å‹å‚æ•°å¯ä»¥ç”¨åœ¨å‡½æ•°å£°æ˜å’Œå‡½æ•°å®šä¹‰ä¸­ï¼Œç±»æ¨¡æ¿ä¸­å®šä¹‰çš„ç±»å‹å‚æ•°å¯ä»¥ç”¨åœ¨ç±»å£°æ˜å’Œç±»å®ç°ä¸­ã€‚ç±»æ¨¡æ¿çš„ç›®çš„åŒæ ·æ˜¯å°†æ•°æ®çš„ç±»å‹å‚æ•°åŒ–ã€‚ å£°æ˜ç±»æ¨¡æ¿çš„è¯­æ³•ä¸ºï¼š template \u003ctypename T1, typename T2, ...\u003e class ç±»å { ... }; ä¸€æ—¦å£°æ˜äº†ç±»æ¨¡æ¿ï¼Œå°±å¯ä»¥å°†ç±»å‹å‚æ•°ç”¨äºæˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°äº†ã€‚æ¢å¥è¯è¯´ï¼Œå°±å¯ä»¥æŠŠT1ã€T2ã€â€¦å½“ä½œintã€doubleç­‰æ¥ç”¨ã€‚ å‡å¦‚æˆ‘ä»¬ç°åœ¨è¦å®šä¹‰ä¸€ä¸ªç±»æ¥è¡¨ç¤ºåæ ‡ï¼Œè¦æ±‚åæ ‡çš„æ•°æ®ç±»å‹å¯ä»¥æ˜¯æ•´æ•°ã€å°æ•°å’Œå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨ç±»æ¨¡æ¿ï¼š template\u003ctypename T1, typename T2\u003e class Point { public: Point(T1 x, T2 y): _x(x), _y(y){ } public: T1 get_x() const; //è·å–xåæ ‡ void set_x(T1 x); //è®¾ç½®xåæ ‡ T2 get_y() const; //è·å–yåæ ‡ void set_y(T2 y); //è®¾ç½®yåæ ‡ private: T1 _x; //xåæ ‡ T2 _y; //yåæ ‡ }; x åæ ‡å’Œ y åæ ‡çš„æ•°æ®ç±»å‹ä¸ç¡®å®šï¼Œå€ŸåŠ©ç±»æ¨¡æ¿å¯ä»¥å°†æ•°æ®ç±»å‹å‚æ•°åŒ–ï¼Œè¿™æ ·å°±ä¸å¿…å®šä¹‰å¤šä¸ªç±»äº†ã€‚ ä¸Šé¢çš„ä»£ç ä»…ä»…æ˜¯ç±»çš„å£°æ˜ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ç±»å¤–å®šä¹‰æˆå‘˜å‡½æ•°ã€‚åœ¨ç±»å¤–å®šä¹‰æˆå‘˜å‡½æ•°æ—¶ä»éœ€å¸¦ä¸Šæ¨¡æ¿å¤´ï¼Œæ ¼å¼ä¸ºï¼š template\u003ctypename T1, typename T2, ...\u003e è¿”å›å€¼ç±»å‹ ç±»å\u003cç±»å‹å‚æ•°1 , ç±»å‹å‚æ•°2, ...\u003e::å‡½æ•°å(å½¢å‚åˆ—è¡¨) { ...... } ä¸‹é¢å°±å¯¹Pointç±»çš„æˆå‘˜å‡½æ•°è¿›è¡Œå®šä¹‰ï¼š template\u003ctypename T1, typename T2\u003e //æ¨¡æ¿å¤´ T1 Point\u003cT1, T2\u003e::get_x() const { return _x; } template\u003ctypename T1, typename T2\u003e void Point\u003cT1, T2\u003e::set_x(T1 x) { _x = x; } template\u003ctypename T1, typename T2\u003e T2 Point\u003cT1, T2\u003e::get_y() const { return _y; } template\u003ctypename T1, typename T2\u003e void Point\u003cT1, T2\u003e::set_y(T2 y) { _y = y; } å®Œæˆäº†ç±»æ¨¡æ¿çš„ç¼–å†™å°±å¯ä»¥ä½¿ç”¨å…¶æ¥åˆ›å»ºå¯¹è±¡ï¼Œå°†ä¸Šé¢çš„ä»£ç ç»¼åˆèµ·æ¥å†åŠ ä¸Šåˆ›å»ºå¯¹è±¡çš„ä»£ç å°±å¯ä»¥å¾—åˆ°å®Œæ•´çš„ä»£ç ï¼š #include \u003ciostream\u003e using namespace std; template\u003ctypename T1, typename T2\u003e class Point { public: Point(T1 x, T2 y): _x(x), _y(y){ } public: T1 get_x() const; //è·å–xåæ ‡ void set_x(T1 x); //è®¾ç½®xåæ ‡ T2 get_y() const; //è·å–yåæ ‡ void set_y(T2 y); //è®¾ç½®yåæ ‡ private: T1 _x; //xåæ ‡ T2 _y; //yåæ ‡ }; template\u003ctypename T1, typename T2\u003e //æ¨¡æ¿å¤´ T1 Point\u003cT1, T2\u003e::get_x() const { return _x; } template\u003ctypename T1, typename T2\u003e void Point\u003cT1, T2\u003e::set_x(T1 x) { _x = x; } template\u003ctypename T1, typename T2\u003e T2 Point\u003cT1, T2\u003e::get_y() const { return _y; } template\u003ctypename T1, typename T2\u003e void Point\u003cT1, T2\u003e::set_y(T2 y) { _y = y; } int main() { // ç±»æ¨¡æ¿å®ä¾‹åŒ–æ—¶å¿…é¡»æŒ‡å®šå…·ä½“çš„æ•°æ®ç±»å‹ Point\u003cint, int\u003e p1(10, 20); cout \u003c\u003c \"x=\" \u003c\u003c p1.get_x() \u003c\u003c \", y=\" \u003c\u003c p1.get_y() \u003c\u003c endl; Point\u003cint, char*\u003e p2(10, \"ä¸œç»180åº¦\"); cout \u003c\u003c \"x=\" \u003c\u003c p2.get_x() \u003c\u003c \", y=\" \u003c\u003c p2.get_y() \u003c\u003c endl; // å®ä¾‹åŒ–å¯¹è±¡æŒ‡é’ˆæ—¶ï¼Œèµ‹å€¼å·ä¸¤è¾¹éƒ½è¦æŒ‡æ˜å…·ä½“çš„æ•°æ®ç±»å‹ï¼Œä¸”è¦ä¿æŒä¸€è‡´ã€‚ Point\u003cchar*, char*\u003e *p3 = new Point\u003cchar*, char*\u003e(\"ä¸œç»180åº¦\", \"åŒ—çº¬210åº¦\"); cout \u003c\u003c \"x=\" \u003c\u003c p3-\u003eget_x() \u003c\u003c \", y=\" \u003c\u003c p3-\u003eget_y() \u003c\u003c endl; return 0; } /* è¿è¡Œç»“æœï¼š x=10, y=20 x=10, y=ä¸œç»180åº¦ x=ä¸œç»180åº¦, y=åŒ—çº¬210åº¦ */ æ³¨æ„ï¼šç±»æ¨¡æ¿å®ä¾‹åŒ–å¯¹è±¡æ—¶å¿…é¡»æŒ‡å®šå…·ä½“çš„æ•°æ®ç±»å‹ï¼›å®ä¾‹åŒ–å¯¹è±¡æŒ‡é’ˆæ—¶å¿…é¡»åœ¨èµ‹å€¼å·ä¸¤è¾¹éƒ½æŒ‡å®šå…·ä½“çš„æ•°æ®ç±»å‹ï¼Œå…·ä½“è¯·å‚è€ƒç¤ºä¾‹ä»£ç ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:8:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"decltypeå…³é”®å­—ï¼ˆC++11ï¼‰\rå½“æˆ‘ä»¬åœ¨ç¼–å†™æ¨¡æ¿æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸çŸ¥é“è¯¥å®šä¹‰ä»€ä¹ˆç±»å‹çš„å˜é‡çš„æƒ…å†µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š template \u003ctypename T1, typename T2\u003e void func(T1 x, T2, y) { ... xpy = x + y; // è¿™é‡Œçš„ xpyè¯¥å®šä¹‰ä¸ºä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ ... } è¿™é‡Œçš„ xpy åœ¨å®šä¹‰æ—¶åº”è¯¥å®šä¹‰ä¸ºä»€ä¹ˆç±»å‹å‘¢ï¼Ÿç”±äºæ— æ³•é¢„å…ˆçŸ¥é“xï¼Œyçš„ç±»å‹ï¼Œæ‰€ä»¥ xpy çš„ç±»å‹ä¹Ÿå°±æ— æ³•ç¡®å®šã€‚è¿™æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å…³é”®å­— decltype æ¥è§£å†³æ­¤é—®é¢˜ï¼Œå…¶ç”¨æ³•å¦‚ä¸‹ï¼š decltype(expression) var_name = expression; ç¼–è¯‘å™¨ä¼šæ ¹æ® expression çš„è¿ç®—ç»“æœæ­£ç¡®æ¨å¯¼å‡º var_name çš„ç±»å‹ï¼Œæ‰€ä»¥ä¸Šè¿°ä»£ç å¯ä»¥æ”¹ä¸ºï¼š decltype(x + y) xpy = x + y; æˆ‘ä»¬å¯¹äºæ¨¡æ¿çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œè™½ç„¶æ¨¡æ¿è¿˜æœ‰å¾ˆå¤šå†…å®¹ï¼Œä½†åœ¨æˆ‘ä»¬å®é™…ç¼–ç¨‹ä¸­ï¼Œä¸Šé¢çš„æ¨¡æ¿çŸ¥è¯†å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯å¤Ÿç”¨çš„äº†ã€‚å¯¹æ¨¡æ¿æ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ç›¸å…³èµ„æ–™è¿›è¡Œå­¦ä¹ ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:8:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"STLï¼ˆæ ‡å‡†æ¨¡æ¿åº“ï¼‰\rSTLï¼ˆStandard Template Libraryï¼‰æ ‡å‡†æ¨¡æ¿åº“æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œæ ‡å‡†æ¨¡æ¿åº“ä¸º C++ æä¾›äº†å®Œå–„çš„æ•°æ®ç»“æ„åŠç®—æ³•ã€‚ STL æ ‡å‡†æ¨¡æ¿åº“åŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼šå®¹å™¨ã€ç®—æ³•å’Œè¿­ä»£å™¨ã€‚å®¹å™¨æ˜¯å¯¹è±¡çš„é›†åˆï¼ŒSTL çš„å®¹å™¨æœ‰ï¼švectorã€stackã€queueã€dequeã€listã€set å’Œ map ç­‰ã€‚STL ç®—æ³•æ˜¯å¯¹å®¹å™¨è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚æ’åºã€åˆå¹¶ç­‰æ“ä½œã€‚è¿­ä»£å™¨åˆ™æ˜¯è®¿é—®å®¹å™¨çš„ä¸€ç§æœºåˆ¶ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å®¹å™¨\rå®¹å™¨ç”¨äºå­˜æ”¾æ•°æ®çš„ç±»æ¨¡æ¿ã€‚å¯å˜é•¿æ•°ç»„ã€å¤§æ ¹å †ç­‰æ•°æ®ç»“æ„åœ¨ STL ä¸­éƒ½è¢«å®ç°ä¸ºå®¹å™¨ã€‚ä½¿ç”¨å®¹å™¨æ—¶ï¼Œå³å°†å®¹å™¨ç±»æ¨¡æ¿å®ä¾‹åŒ–ä¸ºå®¹å™¨ç±»æ—¶ï¼Œä¼šæŒ‡æ˜å®¹å™¨ä¸­å­˜æ”¾çš„å…ƒç´ æ˜¯ä»€ä¹ˆç±»å‹çš„ã€‚ å®¹å™¨ä¸­å¯ä»¥å­˜æ”¾åŸºæœ¬ç±»å‹çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥å­˜æ”¾å¯¹è±¡ã€‚å¯¹è±¡æˆ–åŸºæœ¬ç±»å‹çš„å˜é‡è¢«æ’å…¥å®¹å™¨ä¸­æ—¶ï¼Œå®é™…æ’å…¥çš„æ˜¯å¯¹è±¡æˆ–å˜é‡çš„ä¸€ä¸ªå¤åˆ¶å“ã€‚ STL ä¸­çš„è®¸å¤šç®—æ³•ï¼ˆå³å‡½æ•°æ¨¡æ¿ï¼‰ï¼Œå¦‚æ’åºã€æŸ¥æ‰¾ç­‰ç®—æ³•ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šå¯¹å®¹å™¨ä¸­çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚è¿™äº›ç®—æ³•åœ¨æ¯”è¾ƒå…ƒç´ æ˜¯å¦ç›¸ç­‰æ—¶é€šå¸¸ç”¨è¿ç®—ç¬¦è¿›è¡Œï¼Œæ¯”è¾ƒå¤§å°é€šå¸¸ç”¨ \u003c è¿ç®—ç¬¦è¿›è¡Œï¼Œå› æ­¤ï¼Œè¢«æ”¾å…¥å®¹å™¨çš„å¯¹è±¡æ‰€å±çš„ç±»æœ€å¥½é‡è½½ ==å’Œ\u003c è¿ç®—ç¬¦ï¼Œä»¥ä½¿å¾—ä¸¤ä¸ªå¯¹è±¡ç”¨==å’Œ\u003cè¿›è¡Œæ¯”è¾ƒæ˜¯æœ‰å®šä¹‰çš„ã€‚ å®¹å™¨å¯åˆ†ä¸ºé¡ºåºå®¹å™¨å’Œå…³è”å®¹å™¨ä¸¤ç§ï¼ŒåŒç±»å‹çš„å®¹å™¨å¯¹è±¡å¯ä»¥ä½¿ç”¨\u003cã€\u003c=ã€\u003eã€\u003e=ã€==ã€!=è¿›è¡Œæ¯”è¾ƒã€‚ é¡ºåºå®¹å™¨\ré¡ºåºå®¹å™¨çš„ç‰¹ç‚¹ä¸ºï¼šå­˜å‚¨çš„å…ƒç´ åœ¨å®¹å™¨ä¸­çš„ä½ç½®ä¸å…ƒç´ å€¼æ— å…³ï¼Œå…ƒç´ åœ¨æ’å…¥æ—¶å¯ä»¥æŒ‡å®šæ’å…¥ä½ç½®ã€‚ å¸¸ç”¨çš„é¡ºåºå®¹å™¨åªæœ‰ä¸‰ç§ï¼šåŠ¨æ€æ•°ç»„ vectorã€åŒç«¯é˜Ÿåˆ— dequeã€åŒå‘é“¾è¡¨ listã€‚ å…³è”å®¹å™¨\rå…³è”å®¹å™¨çš„ç‰¹ç‚¹ä¸ºï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œå­˜å‚¨çš„å…ƒç´ æŒ‰ç…§å…³é”®å­—ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼ˆä½¿ç”¨\u003cè¿ç®—ç¬¦æ¥è¿›è¡Œæ¯”è¾ƒå¤§å°ï¼‰ï¼Œæ’å…¥æ—¶ä¸èƒ½æŒ‡å®šæ’å…¥ä½ç½®ã€‚å› ä¸ºæ˜¯æ’å¥½åºçš„ï¼Œæ‰€ä»¥å…³è”å®¹å™¨åœ¨æŸ¥æ‰¾æ—¶å…·æœ‰éå¸¸å¥½çš„æ€§èƒ½ã€‚ å¸¸ç”¨çš„å…³è”å®¹å™¨æœ‰ï¼šsetã€multisetã€mapã€multimapã€‚å…³è”å®¹å™¨å†…çš„å…ƒç´ æ˜¯æ’å¥½åºçš„ã€‚ é™¤äº†ä»¥ä¸Šä¸¤ç±»å®¹å™¨å¤–ï¼ŒSTL è¿˜åœ¨ä¸¤ç±»å®¹å™¨çš„åŸºç¡€ä¸Šå±è”½ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œçªå‡ºæˆ–å¢åŠ å¦ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œå®ç°äº†ä¸‰ç§å®¹å™¨é€‚é…å™¨ï¼šæ ˆ stackã€é˜Ÿåˆ— queueã€ä¼˜å…ˆçº§é˜Ÿåˆ— priority_queueã€‚ ä¸ºç§°å‘¼æ–¹ä¾¿èµ·è§ï¼Œæœ¬æ•™ç¨‹åé¢å°†å®¹å™¨å’Œå®¹å™¨é€‚é…å™¨ç»Ÿç§°ä¸ºå®¹å™¨ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"è¿­ä»£å™¨\rä½¿ç”¨â€œè¿­ä»£å™¨ï¼ˆiteratorï¼‰â€æ˜¯è®¿é—®å®¹å™¨å…ƒç´ çš„é€šç”¨æ–¹æ³•ã€‚è¿­ä»£å™¨å°±æ˜¯ä¸€ä¸ªå˜é‡ï¼ŒæŒ‡å‘å®¹å™¨ä¸­çš„æŸä¸ªå…ƒç´ ï¼Œé€šè¿‡è¿­ä»£å™¨å°±å¯ä»¥è¯»å†™å®ƒæŒ‡å‘çš„å…ƒç´ ã€‚ä»è¿™ä¸€ç‚¹ä¸Šçœ‹ï¼Œè¿­ä»£å™¨å’ŒæŒ‡é’ˆç±»ä¼¼ã€‚ è¿­ä»£å™¨æŒ‰ç…§å®šä¹‰æ–¹å¼å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å››ç§ï¼š æ­£å‘è¿­ä»£å™¨ï¼šå®¹å™¨ç±»å::iterator è¿­ä»£å™¨å; å¸¸é‡æ­£å‘è¿­ä»£å™¨ï¼šå®¹å™¨ç±»å::const_iterator è¿­ä»£å™¨å; åå‘è¿­ä»£å™¨ï¼šå®¹å™¨ç±»å::reverse_iterator è¿­ä»£å™¨å; å¸¸é‡åå‘è¿­ä»£å™¨ï¼šå®¹å™¨ç±»å::const_reverse_iterator è¿­ä»£å™¨å; æ³¨æ„ï¼š æ‰€æœ‰å®¹å™¨ï¼ˆä¸åŒ…æ‹¬å®¹å™¨é€‚é…å™¨ï¼‰éƒ½èƒ½å®šä¹‰æ­£å‘è¿­ä»£å™¨å’Œå¸¸é‡æ­£å‘è¿­ä»£å™¨ï¼Œä½†ä¸æ˜¯æ‰€æœ‰å®¹å™¨éƒ½èƒ½å®šä¹‰åå‘è¿­ä»£å™¨å’Œå¸¸é‡åå‘è¿­ä»£å™¨ã€‚ *è¿­ä»£å™¨å å°±å¯è®¿é—®è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ ï¼Œé€šè¿‡éå¸¸é‡è¿­ä»£å™¨è¿˜èƒ½ä¿®æ”¹å…¶æŒ‡å‘çš„å…ƒç´ ã€‚ è¿­ä»£å™¨éƒ½å¯ä»¥è¿›è¡Œ++æ“ä½œï¼Œæ­£å‘è¿­ä»£å™¨++ï¼Œå°±ä¼šæŒ‡å‘åä¸€ä¸ªå…ƒç´ ï¼›åå‘è¿­ä»£å™¨++å°±ä¼šæŒ‡å‘å‰ä¸€ä¸ªå…ƒç´ ã€‚ ç›´æ¥æ¥çœ‹ä¾‹å­å§ï¼š #include \u003ciostream\u003e #include \u003cvector\u003e using namespace std; int main() { vector\u003cint\u003e v; // å®šä¹‰ä¸€ä¸ªåŠ¨æ€æ•°ç»„v for (int n = 0; n \u003c 5; ++n) v.push_back(n); //push_backæˆå‘˜å‡½æ•°ç”¨äºåœ¨å®¹å™¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´  vector\u003cint\u003e::iterator i; //å®šä¹‰æ­£å‘è¿­ä»£å™¨ for (i = v.begin(); i != v.end(); ++i) //ç”¨è¿­ä»£å™¨éå†å®¹å™¨ { cout \u003c\u003c *i \u003c\u003c \" \"; //*i å°±æ˜¯è¿­ä»£å™¨iæŒ‡å‘çš„å…ƒç´  (*i) *= 2; // æ¯ä¸ªå…ƒç´ å˜ä¸ºåŸæ¥çš„2å€ } cout \u003c\u003c endl; // ç”¨åå‘è¿­ä»£å™¨éå†å®¹å™¨ for (vector\u003cint\u003e::reverse_iterator j = v.rbegin(); j != v.rend(); ++j) cout \u003c\u003c *j \u003c\u003c \" \"; return 0; } /* è¿è¡Œç»“æœï¼š 0 1 2 3 4 8 6 4 2 0 */ è¿­ä»£å™¨æŒ‰ç…§åŠŸèƒ½å¼ºå¼±åˆ†ä¸ºè¾“å…¥ã€è¾“å‡ºã€æ­£å‘ã€åŒå‘ã€éšæœºè®¿é—®äº”ç§ï¼Œè¿™é‡Œæ˜¯ä»‹ç»å¸¸ç”¨çš„ä¸‰ç§ï¼ˆå‡è®¾pä¸ºå¯¹åº”ç±»å‹çš„è¿­ä»£å™¨ï¼‰ã€‚ 1ï¼‰æ­£å‘è¿­ä»£å™¨ï¼šæ”¯æŒ++pã€p++ã€*pæ“ä½œã€‚æ­¤å¤–ï¼Œä¸¤ä¸ªæ­£å‘è¿­ä»£å™¨å¯ä»¥äº’ç›¸èµ‹å€¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ == å’Œ!=æ¥è¿›è¡Œæ¯”è¾ƒã€‚ 2ï¼‰åŒå‘è¿­ä»£å™¨ï¼šé™¤äº†æ”¯æŒæ­£å‘è¿­ä»£å™¨çš„å…¨éƒ¨åŠŸèƒ½å¤–ï¼Œè¿˜æ”¯æŒ--på’Œp--æ“ä½œã€‚ 3ï¼‰éšæœºè®¿é—®è¿­ä»£å™¨ï¼šé™¤äº†æ”¯æŒåŒå‘è¿­ä»£å™¨çš„å…¨éƒ¨åŠŸèƒ½å¤–ï¼Œè¿˜æ”¯æŒä»¥ä¸‹æ“ä½œï¼š p += i; ä½¿å¾— p å¾€åç§»åŠ¨ i ä¸ªå…ƒç´  p -= i; ä½¿å¾— p å¾€å‰ç§»åŠ¨ i ä¸ªå…ƒç´  p + i; è¿”å› p åé¢ç¬¬ i ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ p - i; è¿”å› p å‰é¢ç¬¬ i ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ p[i]; è¿”å› p åé¢ç¬¬ i ä¸ªå…ƒç´ çš„å¼•ç”¨ ä¸‹è¡¨ä¸ºå„ä¸ªå®¹å™¨çš„è¿­ä»£å™¨åŠŸèƒ½ï¼š å®¹å™¨ è¿­ä»£å™¨åŠŸèƒ½ vector éšæœºè®¿é—® string éšæœºè®¿é—® deque éšæœºè®¿é—® list åŒå‘ set/multiset åŒå‘ map/multimap åŒå‘ stack ä¸æ”¯æŒè¿­ä»£å™¨ queue ä¸æ”¯æŒè¿­ä»£å™¨ priority_queue ä¸æ”¯æŒè¿­ä»£å™¨ æ³¨æ„ï¼š å®¹å™¨é€‚é…å™¨æ˜¯æ²¡æœ‰è¿­ä»£å™¨çš„ï¼ï¼ï¼ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"STLç®—æ³•\rSTL æä¾›èƒ½åœ¨å„ç§å®¹å™¨ä¸­é€šç”¨çš„ç®—æ³•ï¼ˆå¤§çº¦æœ‰70ç§ï¼‰ï¼Œå¦‚æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾ã€æ’åºç­‰ã€‚ç®—æ³•å°±æ˜¯å‡½æ•°æ¨¡æ¿ã€‚ç®—æ³•é€šè¿‡è¿­ä»£å™¨æ¥æ“çºµå®¹å™¨ä¸­çš„å…ƒç´ ã€‚ è®¸å¤šç®—æ³•æ“ä½œçš„æ˜¯å®¹å™¨ä¸Šçš„ä¸€ä¸ªåŒºé—´ï¼ˆä¹Ÿå¯ä»¥æ˜¯æ•´ä¸ªå®¹å™¨ï¼‰ï¼Œå› æ­¤éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯åŒºé—´èµ·ç‚¹å…ƒç´ çš„è¿­ä»£å™¨ï¼Œå¦ä¸€ä¸ªæ˜¯åŒºé—´ç»ˆç‚¹å…ƒç´ çš„åé¢ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚ä¾‹å¦‚ï¼Œæ’åºå’ŒæŸ¥æ‰¾ç®—æ³•éƒ½éœ€è¦è¿™ä¸¤ä¸ªå‚æ•°æ¥æŒ‡æ˜å¾…æ’åºæˆ–å¾…æŸ¥æ‰¾çš„åŒºé—´ã€‚ æœ‰çš„ç®—æ³•è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€‚ä¾‹å¦‚ï¼Œfind ç®—æ³•åœ¨å®¹å™¨ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥å…ƒç´ çš„è¿­ä»£å™¨ã€‚ æœ‰çš„ç®—æ³•ä¼šæ”¹å˜å…¶æ‰€ä½œç”¨çš„å®¹å™¨ã€‚ä¾‹å¦‚ï¼š copyï¼šå°†ä¸€ä¸ªå®¹å™¨çš„å†…å®¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªå®¹å™¨ã€‚ removeï¼šåœ¨å®¹å™¨ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚ random_shuffleï¼šéšæœºæ‰“ä¹±å®¹å™¨ä¸­çš„å…ƒç´ ã€‚ fillï¼šç”¨æŸä¸ªå€¼å¡«å……å®¹å™¨ã€‚ æœ‰çš„ç®—æ³•ä¸ä¼šæ”¹å˜å…¶æ‰€ä½œç”¨çš„å®¹å™¨ã€‚ä¾‹å¦‚ï¼š findï¼šåœ¨å®¹å™¨ä¸­æŸ¥æ‰¾å…ƒç´ ã€‚ count_ifï¼šç»Ÿè®¡å®¹å™¨ä¸­ç¬¦åˆæŸç§æ¡ä»¶çš„å…ƒç´ çš„ä¸ªæ•°ã€‚ ç®—æ³•å¯ä»¥å¤„ç†å®¹å™¨ï¼Œä¹Ÿå¯ä»¥å¤„ç†æ™®é€šçš„æ•°ç»„ã€‚ STL ä¸­çš„å¤§éƒ¨åˆ†å¸¸ç”¨ç®—æ³•éƒ½åœ¨å¤´æ–‡ä»¶ algorithm ä¸­å®šä¹‰ã€‚æ­¤å¤–ï¼Œå¤´æ–‡ä»¶ numeric ä¸­ä¹Ÿæœ‰ä¸€äº›ç®—æ³•ã€‚ algorithmä¸‹å¸¸ç”¨çš„å‡½æ•°ï¼š max(x, y) min(x, y) abs(x) //xå¿…é¡»ä¸ºintç±»å‹ fabs(x) //xå¯ä¸ºæµ®ç‚¹å‹ swap(x, y) reverse(it1, it2) //åè½¬åŒºé—´[it1, it2) å†…çš„å…ƒç´  fill(a, a + len, 0) //å°†æ•°ç»„açš„å…ƒç´ å…¨éƒ¨èµ‹å€¼ä¸º0ï¼Œå’ŒmemsetåŠŸèƒ½ä¸€æ · sort(a, a + x, cmp) //cmpå¯é€‰ //åœ¨[first, last)èŒƒå›´å†…å¯»æ‰¾ç¬¬ä¸€ä¸ªå€¼å¤§äºç­‰äº valçš„å…ƒç´ çš„ä½ç½®ï¼Œå¦‚æœæ˜¯æ•°ç»„è¿”å›æŒ‡é’ˆï¼Œå®¹å™¨è¿”å›è¿­ä»£å™¨ lower_bound(first, last, val) //åœ¨[first, last)èŒƒå›´å†…å¯»æ‰¾ç¬¬ä¸€ä¸ªå€¼å¤§äºvalçš„å…ƒç´ çš„ä½ç½®ï¼Œå¦‚æœæ˜¯æ•°ç»„è¿”å›æŒ‡é’ˆï¼Œå®¹å™¨è¿”å›è¿­ä»£å™¨ upper_bound(first, last, val) next_permutation(a, a + len) // ç»™å‡ºä¸€ä¸ªåºåˆ—åœ¨å…¨æ’åˆ—ä¸­çš„ä¸‹ä¸€ä¸ªåºåˆ—ï¼Œå¯ä»¥æ­é… do while æ¥ä½¿ç”¨ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"STLä¸­çš„å¤§ã€å°å’Œç›¸ç­‰æ¦‚å¿µ\rSTL ä¸­å…³è”å®¹å™¨å†…éƒ¨çš„å…ƒç´ æ˜¯æ’åºçš„ã€‚STL ä¸­çš„è®¸å¤šç®—æ³•ä¹Ÿæ¶‰åŠæ’åºã€æŸ¥æ‰¾ã€‚è¿™äº›å®¹å™¨å’Œç®—æ³•éƒ½éœ€è¦å¯¹å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œæœ‰çš„æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ï¼Œæœ‰çš„æ¯”è¾ƒå…ƒç´ å¤§å°ã€‚ åœ¨ STL ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒå¤§å°æ˜¯é€šè¿‡**\u003c**è¿ç®—ç¬¦è¿›è¡Œçš„ï¼Œå’Œ\u003eè¿ç®—ç¬¦æ— å…³ã€‚åœ¨STLä¸­æåˆ°â€œå¤§â€ã€â€œå°â€çš„æ¦‚å¿µæ—¶ï¼Œä»¥ä¸‹ä¸‰ä¸ªè¯´æ³•æ˜¯ç­‰ä»·çš„ï¼š x æ¯” y å°ã€‚ è¡¨è¾¾å¼x\u003cyä¸ºçœŸã€‚ y æ¯” x å¤§ã€‚ ä¸€å®šè¦æ³¨æ„ï¼Œyæ¯”xå¤§æ„å‘³ç€x\u003cyä¸ºçœŸï¼Œè€Œä¸æ˜¯y\u003exä¸ºçœŸã€‚y\u003exçš„ç»“æœå¦‚ä½•å¹¶ä¸é‡è¦ï¼Œç”šè‡³y\u003exæ˜¯æ²¡å®šä¹‰çš„éƒ½æ²¡æœ‰å…³ç³»ã€‚ åœ¨ STL ä¸­ï¼Œxå’Œyç›¸ç­‰ä¹Ÿå¾€å¾€ä¸ç­‰ä»·äºx==yä¸ºçœŸã€‚å¯¹äºåœ¨æœªæ’åºçš„åŒºé—´ä¸Šè¿›è¡Œçš„ç®—æ³•ï¼Œå¦‚é¡ºåºæŸ¥æ‰¾ç®—æ³• findï¼ŒæŸ¥æ‰¾è¿‡ç¨‹ä¸­æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰ç”¨çš„æ˜¯==è¿ç®—ç¬¦ï¼›ä½†æ˜¯å¯¹äºåœ¨æ’å¥½åºçš„åŒºé—´ä¸Šè¿›è¡ŒæŸ¥æ‰¾ã€åˆå¹¶ç­‰æ“ä½œçš„ç®—æ³•ï¼ˆå¦‚æŠ˜åŠæŸ¥æ‰¾ç®—æ³• binary_searchï¼Œå…³è”å®¹å™¨è‡ªèº«çš„æˆå‘˜å‡½æ•° findï¼‰æ¥è¯´ï¼Œxå’Œyç›¸ç­‰æ˜¯ä¸x\u003cyå’Œy\u003cxåŒæ—¶ä¸ºå‡ç­‰ä»·çš„ï¼Œä¸==è¿ç®—ç¬¦æ— å…³ã€‚çœ‹ä¸Šå»x\u003cyå’Œy\u003cxåŒæ—¶ä¸ºå‡å°±åº”è¯¥å’Œx==yä¸ºçœŸç­‰ä»·ï¼Œå…¶å®ä¸ç„¶ã€‚ä¾‹å¦‚ä¸‹é¢çš„ class Aï¼š class A { int v; public: bool operator\u003c (const A \u0026 a)const {return false;} }; å¯ä»¥çœ‹åˆ°ï¼Œå¯¹ä»»æ„ä¸¤ä¸ªç±» A çš„å¯¹è±¡ xã€yï¼Œx\u003cyå’Œy\u003cxéƒ½æ˜¯ä¸ºå‡çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹ STL çš„å…³è”å®¹å™¨å’Œè®¸å¤šç®—æ³•æ¥è¯´ï¼Œä»»æ„ä¸¤ä¸ªç±» A çš„å¯¹è±¡éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œè¿™ä¸==è¿ç®—ç¬¦çš„è¡Œä¸ºæ— å…³ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œä½¿ç”¨ STL ä¸­çš„å…³è”å®¹å™¨å’Œè®¸å¤šç®—æ³•æ—¶ï¼Œå¾€å¾€éœ€è¦å¯¹\u003cè¿ç®—ç¬¦è¿›è¡Œé€‚å½“çš„é‡è½½ï¼Œä½¿å¾—è¿™äº›å®¹å™¨å’Œç®—æ³•å¯ä»¥ç”¨\u003cè¿ç®—ç¬¦å¯¹æ‰€æ“ä½œçš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚æœ€å¥½å°†\u003cè¿ç®—ç¬¦é‡è½½ä¸ºå‹å…ƒå‡½æ•°ï¼Œå› ä¸ºåœ¨é‡è½½ä¸ºæˆå‘˜å‡½æ•°æ—¶ï¼Œåœ¨æœ‰äº›ç¼–è¯‘å™¨ä¸Šä¼šå‡ºé”™ï¼ˆç”±å…¶ STL æºä»£ç çš„å†™æ³•å¯¼è‡´ï¼‰ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:4","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"vector\rvector æ˜¯é¡ºåºå®¹å™¨çš„ä¸€ç§ï¼Œæ˜¯å¯å˜é•¿çš„åŠ¨æ€æ•°ç»„ï¼Œæ”¯æŒéšæœºè®¿é—®è¿­ä»£å™¨ï¼Œæ‰€æœ‰ STL ç®—æ³•éƒ½èƒ½å¯¹ vector è¿›è¡Œæ“ä½œã€‚è¦ä½¿ç”¨ vectorï¼Œéœ€è¦åŒ…å«å¤´æ–‡ä»¶ vectorã€‚ æ³¨æ„ï¼švectoræ•°ç»„æ˜¯åœ¨å †ç©ºé—´å¼€çš„ã€‚è€Œæ™®é€šæ•°ç»„å¦‚æœæ˜¯åœ¨å±€éƒ¨åŒºåŸŸå†…å¼€ï¼ˆæ¯”å¦‚å‡½æ•°ä½“å†…ï¼‰ï¼Œåˆ™æ˜¯åœ¨æ ˆç©ºé—´å¼€çš„ï¼Œæ ˆç©ºé—´è¾ƒå°ã€‚æ‰€ä»¥ï¼Œå¦‚æœåœ¨å±€éƒ¨åŒºåŸŸå¼€çš„æ™®é€šæ•°ç»„ä¸æ˜“è¿‡å¤§ï¼ˆä¸èƒ½è¶…è¿‡$10^6$ï¼‰ï¼Œè€Œå¯¹vectoræ•°ç»„åˆ™æ²¡æœ‰é™åˆ¶ã€‚ vectorçš„å®šä¹‰å¦‚ä¸‹ï¼š // å®šä¹‰ä¸€ä¸ªvectorï¼Œåˆå§‹åŒ–ä¸ºç©º vector\u003ctypename\u003e name; //typenameä¸ºå®¹å™¨å†…å…ƒç´ ç±»å‹ï¼Œnameä¸ºå®¹å™¨åç§° // å®šä¹‰ä¸€ä¸ªvectorï¼Œåˆå§‹åŒ–æœ‰ n ä¸ªå…ƒç´  vector\u003ctypename\u003e name(n); // å®šä¹‰ä¸€ä¸ªvectorï¼Œåˆå§‹åŒ–æœ‰ n ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ å€¼å‡ä¸º val vector\u003ctypename\u003e name(n, val); // ä½¿ç”¨å…¶ä»–è¿­ä»£å™¨æ¥åˆå§‹åŒ– vector vector\u003ctypename\u003e name(frist, last); // å’Œæ•°ç»„ä¸€æ ·çš„åˆå§‹åŒ–æ–¹å¼ vector\u003cint\u003e numbers1 = {1, 2, 3, 4, 5}; vector\u003cint\u003e numbers2{1, 2, 3, 4, 5}; // æ‹·è´åˆå§‹åŒ– vector\u003cint\u003e a(n, 0); vector\u003cint\u003e b(a); vector\u003cint\u003e c = a; // å®¹å™¨å…ƒç´ ç±»å‹å¦‚æœä¸ºå®¹å™¨æ—¶ï¼Œå®šä¹‰å¦‚ä¸‹ vector\u003c vector\u003ctypename\u003e \u003e name; //ç±»ä¼¼äºŒç»´æ•°ç»„ï¼Œåªä¸è¿‡æ˜¯å¯å˜é•¿çš„ï¼Œ\u003e\u003eä¹‹é—´éœ€è¦æœ‰ç©ºæ ¼ vectorå¸¸ç”¨æˆå‘˜å‡½æ•°ï¼ˆviä¸ºæ•°ç»„åç§°ï¼‰ï¼š ä»£ç  ç®—æ³•å¤æ‚åº¦ è¿”å›å€¼ç±»å‹ å«ä¹‰ vi.front() O(1) å¼•ç”¨ è¿”å›å®¹å™¨ä¸­çš„ç¬¬ä¸€ä¸ªæ•°æ® vi.back() O(1) å¼•ç”¨ è¿”å›å®¹å™¨ä¸­çš„æœ€åä¸€ä¸ªæ•°æ® vi.at(idx) - å¼•ç”¨ è¿”å›vi[idx], ä¼šè¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œå¦‚æœè¶Šç•Œä¼šæŠ¥é”™ï¼Œæ¯”ç›´æ¥ä½¿ç”¨[]æ›´å¥½ä¸€äº›ï¼Œå¸¸åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ vi.size() O(1) - è¿”å›å®é™…æ•°æ®ä¸ªæ•°ï¼ˆunsignedç±»å‹ï¼‰ vi.begin() O(1) è¿­ä»£å™¨ è¿”å›é¦–å…ƒç´ çš„è¿­ä»£å™¨ vi.end() O(1) è¿­ä»£å™¨ è¿”å›æœ€åä¸€ä¸ªå…ƒç´ åä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨ vi.empty() O(1) bool åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›çœŸï¼Œåä¹‹è¿”å›å‡ vi.reserve(sz) - - ä¸ºæ•°ç»„æå‰åˆ†é…szçš„å†…å­˜å¤§å°ï¼Œå³æ”¹å˜äº†capacityçš„å¤§å°ï¼Œä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢åœ¨push_backè¿‡ç¨‹ä¸­å¤šæ¬¡çš„å†…å­˜æ‹·è´ vi.assign(beg, end) - - å°†å¦å¤–ä¸€ä¸ªå®¹å™¨[x.begin(),x.end())é‡Œçš„å†…å®¹æ‹·è´åˆ°viä¸­ vi.assign(n, val) - - å°†nä¸ªvalå€¼æ‹·è´åˆ°viæ•°ç»„ä¸­ï¼Œè¿™ä¼šæ¸…é™¤æ‰å®¹å™¨ä¸­ä»¥å‰çš„å†…å®¹ï¼Œviæ•°ç»„çš„sizeå°†å˜ä¸ºnï¼Œcapacityä¸ä¼šæ”¹å˜ vi.pop_back() O(1) - åˆ é™¤æœ€åä¸€ä¸ªæ•°æ® vi.push_back(element) O(1) - åœ¨å°¾éƒ¨åŠ ä¸€ä¸ªæ•°æ® vi.emplace_back(ele) O(1) - åœ¨æ•°ç»„ä¸­åŠ å…¥ä¸€ä¸ªæ•°æ®ï¼Œå’Œpush_backåŠŸèƒ½åŸºæœ¬ä¸€æ ·ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æ¯”å®ƒæ•ˆç‡æ›´é«˜ï¼Œæ”¯æŒä¼ å…¥å¤šä¸ªæ„é€ å‚æ•° vi.clear() O(N) - æ¸…é™¤å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´  vi.resize(n, v) - - æ”¹å˜æ•°ç»„å¤§å°ä¸ºnã€‚å¦‚æœnå°äºä»¥å‰çš„å¤§å°ï¼Œåˆ™ä¿ç•™å‰nä¸ªå…ƒç´ nï¼Œvå‚æ•°ä¸èµ·ä½œç”¨ï¼›å¦‚æœnå¤§äºä»¥å‰çš„å¤§å°ï¼Œåˆ™æ–°å¢n-preä¸ªå…ƒç´ ï¼Œæ–°å¢å…ƒç´ å€¼ä¸ºvï¼Œä¸æŒ‡å®švæ—¶é»˜è®¤ä¸º0 vi.insert(pos, x) O(N) - å‘è¿­ä»£å™¨posæŒ‡å‘çš„ä½ç½®æ’å…¥å…ƒç´ x vi.erase(first, end) O(N) - åˆ é™¤ [first, end) çš„æ‰€æœ‰å…ƒç´  è®¿é—®vectoræ•°ç»„ä¸­çš„å…ƒç´ æœ‰ä¸‰ç§æ–¹æ³•ï¼š å’Œæ™®é€šæ•°ç»„ä¸€æ ·ï¼Œä½¿ç”¨ä¸‹æ ‡æ¥è®¿é—® ä½¿ç”¨è¿­ä»£å™¨ ä½¿ç”¨åŸºäºèŒƒå›´çš„forå¾ªç¯ï¼ˆå‰é¢ä»‹ç»è¿‡ï¼‰ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:5","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"list\rlist æ˜¯é¡ºåºå®¹å™¨çš„ä¸€ç§ã€‚list æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œä½¿ç”¨ list éœ€è¦åŒ…å«å¤´æ–‡ä»¶ listã€‚ list çš„æ„é€ å‡½æ•°å’Œè®¸å¤šæˆå‘˜å‡½æ•°çš„ç”¨æ³•éƒ½ä¸ vector ç±»ä¼¼ï¼Œæ­¤å¤„ä¸å†åˆ—ä¸¾ã€‚é™¤äº†é¡ºåºå®¹å™¨éƒ½æœ‰çš„æˆå‘˜å‡½æ•°å¤–ï¼Œlist å®¹å™¨è¿˜ç‹¬æœ‰å¦‚ä¸‹è¡¨ æ‰€ç¤ºçš„æˆå‘˜å‡½æ•°ï¼ˆæ­¤è¡¨ä¸åŒ…å«å…¨éƒ¨æˆå‘˜å‡½æ•°ï¼Œä¸”æœ‰äº›å‡½æ•°çš„å‚æ•°è¾ƒä¸ºå¤æ‚ï¼Œè¡¨ä¸­åªåˆ—å‡ºå‡½æ•°åï¼‰ã€‚ æˆå‘˜å‡½æ•°æˆ–æˆå‘˜å‡½æ•°æ¨¡æ¿ ä½œç”¨ void push_front(const T \u0026val) å°† val æ’å…¥é“¾è¡¨æœ€å‰é¢ void pop_front() åˆ é™¤é“¾è¡¨æœ€å‰é¢çš„å…ƒç´  void sort() å°†é“¾è¡¨ä»å°åˆ°å¤§æ’åº void remove(const T \u0026val) åˆ é™¤å’Œ val ç›¸ç­‰çš„å…ƒç´  remove_if åˆ é™¤ç¬¦åˆæŸç§æ¡ä»¶çš„å…ƒç´  void unique() åˆ é™¤æ‰€æœ‰å’Œå‰ä¸€ä¸ªå…ƒç´ ç›¸ç­‰çš„å…ƒç´  void merge(list\u003cT\u003e \u0026x) å°†é“¾è¡¨ x åˆå¹¶è¿›æ¥å¹¶æ¸…ç©º xã€‚è¦æ±‚é“¾è¡¨è‡ªèº«å’Œ x éƒ½æ˜¯æœ‰åºçš„ void splice(iterator i, list\u003cT\u003e \u0026x, iterator first, iterator last) åœ¨ä½ç½® i å‰é¢æ’å…¥é“¾è¡¨ x ä¸­çš„åŒºé—´ [first,last),å¹¶åœ¨é“¾è¡¨ x ä¸­åˆ é™¤è¯¥åŒºé—´ã€‚é“¾è¡¨è‡ªèº«å’Œé“¾è¡¨ x å¯ä»¥æ˜¯åŒä¸€ä¸ªé“¾è¡¨ï¼Œåªè¦ i ä¸åœ¨ [first,last) ä¸­å³å¯ STL ä¸­çš„ç®—æ³• sort å¯ä»¥ç”¨æ¥å¯¹ vector å’Œ deque æ’åºï¼Œå®ƒéœ€è¦éšæœºè®¿é—®è¿­ä»£å™¨çš„æ”¯æŒã€‚å› ä¸º list ä¸æ”¯æŒéšæœºè®¿é—®è¿­ä»£å™¨ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ç®—æ³• sort å¯¹ list å®¹å™¨æ’åºã€‚å› æ­¤ï¼Œlist å®¹å™¨å¼•å…¥äº† sort æˆå‘˜å‡½æ•°ä»¥å®Œæˆæ’åºã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:6","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"deque\rdeque ä¹Ÿæ˜¯é¡ºåºå®¹å™¨çš„ä¸€ç§ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå¯å˜é•¿æ•°ç»„ã€‚è¦ä½¿ç”¨ dequeï¼Œéœ€è¦åŒ…å«å¤´æ–‡ä»¶ dequeã€‚æ‰€æœ‰é€‚ç”¨äº vector çš„æ“ä½œéƒ½é€‚ç”¨äº dequeã€‚ deque å’Œ vector æœ‰å¾ˆå¤šç±»ä¼¼çš„åœ°æ–¹ã€‚åœ¨ deque ä¸­ï¼Œéšæœºå­˜å–ä»»ä½•å…ƒç´ éƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆï¼ˆä½†æ…¢äºvectorï¼‰ã€‚å®ƒç›¸æ¯”äº vector çš„ä¼˜ç‚¹æ˜¯ï¼Œvector åœ¨å¤´éƒ¨åˆ é™¤æˆ–æ·»åŠ å…ƒç´ çš„é€Ÿåº¦å¾ˆæ…¢ï¼Œåœ¨å°¾éƒ¨æ·»åŠ å…ƒç´ çš„æ€§èƒ½è¾ƒå¥½ï¼Œè€Œ deque åœ¨å¤´å°¾å¢åˆ å…ƒç´ éƒ½å…·æœ‰è¾ƒå¥½çš„æ€§èƒ½ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆï¼‰ã€‚å®ƒæœ‰ä¸¤ç§ vector æ²¡æœ‰çš„æˆå‘˜å‡½æ•°ï¼š void push_front (const T \u0026 val); //å°† val æ’å…¥å®¹å™¨çš„å¤´éƒ¨ void pop_front(); //åˆ é™¤å®¹å™¨å¤´éƒ¨çš„å…ƒç´  ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:7","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"pairç±»æ¨¡æ¿\råœ¨å­¦ä¹ å…³è”å®¹å™¨ä¹‹å‰ï¼Œé¦–å…ˆè¦äº†è§£ STL ä¸­çš„ pair ç±»æ¨¡æ¿ï¼Œå› ä¸ºå…³è”å®¹å™¨çš„ä¸€äº›æˆå‘˜å‡½æ•°çš„è¿”å›å€¼æ˜¯ pair å¯¹è±¡ï¼Œè€Œä¸” map å’Œ multimap å®¹å™¨ä¸­çš„å…ƒç´ éƒ½æ˜¯ pair å¯¹è±¡ã€‚ pairå®ä¾‹åŒ–å‡ºæ¥çš„ç±»éƒ½æœ‰ä¸¤ä¸ªæˆå‘˜å˜é‡ï¼Œä¸€ä¸ªæ˜¯ first, ä¸€ä¸ªæ˜¯ secondã€‚pairçš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†ä¸¤ä¸ªå…ƒç´ ç»‘å®šæˆä¸€ä¸ªï¼Œpair çš„å®šä¹‰æ–¹å¼å¦‚ä¸‹æ‰€ç¤ºï¼š pair\u003ctypename1, typename2\u003e p; pair\u003cstring, int\u003e p; // è°ƒç”¨æ— å‚æ„é€ å‡½æ•° p.first = \"ABC\"; p.second = 3; // ä¹Ÿå¯ä»¥å®šä¹‰æ—¶å°±èµ‹å€¼ pair\u003cstring, int\u003e p(\"ABC\", 3); // è°ƒç”¨å¯¹åº”çš„æ„é€ å‡½æ•° æ³¨æ„ï¼špairç±»å‹çš„å˜é‡å¯ä»¥è¿›è¡Œæ¯”è¾ƒï¼Œå…ˆæ¯”è¾ƒfirstï¼Œå¦‚æœfirstç›¸åŒï¼Œåˆ™æ¯”è¾ƒsecond ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:8","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"set\rsetä¸ºé›†åˆï¼Œæ˜¯ä¸€ä¸ªå†…éƒ¨è‡ªåŠ¨æœ‰åºï¼ˆé»˜è®¤é€’å¢æ’åºï¼Œå¯ä¿®æ”¹æ’åºè§„åˆ™ï¼Œè¯·è‡ªè¡Œäº†è§£ï¼‰ä¸”å…ƒç´ ä¸é‡å¤çš„å®¹å™¨ã€‚å¯ç”¨setæ¥å®ç°å…ƒç´ çš„å»é‡ã€‚ä½¿ç”¨éœ€è¦åŒ…å«å¤´æ–‡ä»¶setã€‚ ã€Œä¸èƒ½ç›´æ¥ä¿®æ”¹ set å®¹å™¨ä¸­å…ƒç´ çš„å€¼ã€ã€‚å› ä¸ºå…ƒç´ è¢«ä¿®æ”¹åï¼Œå®¹å™¨å¹¶ä¸ä¼šè‡ªåŠ¨é‡æ–°è°ƒæ•´é¡ºåºï¼Œäºæ˜¯å®¹å™¨çš„æœ‰åºæ€§å°±ä¼šè¢«ç ´åï¼Œå†åœ¨å…¶ä¸Šè¿›è¡ŒæŸ¥æ‰¾ç­‰æ“ä½œå°±ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€‚å› æ­¤ï¼Œå¦‚æœè¦ä¿®æ”¹ set å®¹å™¨ä¸­æŸä¸ªå…ƒç´ çš„å€¼ï¼Œæ­£ç¡®çš„åšæ³•æ˜¯å…ˆåˆ é™¤è¯¥å…ƒç´ ï¼Œå†æ’å…¥æ–°å…ƒç´ ã€‚ setå¸¸ç”¨æˆå‘˜å‡½æ•°ï¼š st.insert(x); //æ’å…¥å…ƒç´ x st.find(x); //æŸ¥æ‰¾å…ƒç´ xï¼ŒæŸ¥æ‰¾æˆåŠŸè¿”å›è¯¥å…ƒç´ çš„è¿­ä»£å™¨ï¼ŒæŸ¥æ‰¾å¤±è´¥è¿”å›st.end()çš„å€¼ st.erase(it); //åˆ é™¤è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´  st.erase(x); //åˆ é™¤å…ƒç´ x st.erase(it_first, it_end); //åˆ é™¤åŒºé—´[it_first~it_end]çš„å…ƒç´  st.size(); //è·å–å…ƒç´ ä¸ªæ•° st.clear(); //åˆ é™¤å…¨éƒ¨å…ƒç´  é™¤äº†setä»¥å¤–ï¼Œè¿˜æœ‰ï¼š multiset:å…ƒç´ å¯ä»¥é‡å¤ï¼Œä¸”å…ƒç´ æœ‰åº unordered_set ï¼šå…ƒç´ æ— åºä¸”åªèƒ½å‡ºç°ä¸€æ¬¡ unordered_multiset ï¼š å…ƒç´ æ— åºå¯ä»¥å‡ºç°å¤šæ¬¡ ä½†å®é™…ä½¿ç”¨é¢‘ç‡è¾ƒä½ï¼Œå°±ä¸ä»‹ç»äº†ï¼Œæœ‰éœ€è¦çš„è¯·è‡ªè¡Œäº†è§£ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:9","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"map\rmap æ˜¯å…³è”å®¹å™¨çš„ä¸€ç§ï¼Œmapå®¹å™¨ä¸»è¦ç”¨ä»¥æ˜ å°„ï¼Œæ¯”å¦‚å°†ä¸€ä¸ªstringæ˜ å°„ä¸ºä¸€ä¸ªintã€‚map çš„æ¯ä¸ªå…ƒç´ éƒ½åˆ†ä¸ºå…³é”®å­—å’Œå€¼ä¸¤éƒ¨åˆ†ï¼Œå®¹å™¨ä¸­çš„å…ƒç´ æ˜¯æŒ‰å…³é”®å­—æ’åºçš„ ï¼ˆé»˜è®¤é€’å¢æ’åºï¼Œå¯ä¿®æ”¹æ’åºè§„åˆ™ï¼Œè¯·è‡ªè¡Œäº†è§£ï¼‰ï¼Œå¹¶ä¸”ä¸å…è®¸æœ‰å¤šä¸ªå…ƒç´ çš„å…³é”®å­—ç›¸åŒï¼ˆå³keyæ˜¯å”¯ä¸€çš„ï¼‰ã€‚ä½¿ç”¨éœ€è¦åŒ…å«å¤´æ–‡ä»¶mapã€‚ mapå®¹å™¨çš„å®šä¹‰ï¼š map\u003ckey, value\u003e mp; //mpä¸ºå°†keyç±»å‹çš„å˜é‡æ˜ å°„ä¸ºvalueç±»å‹çš„å˜é‡ map\u003cstring, int\u003e mp; map\u003cset\u003cint\u003e, string\u003e mp; mapå®¹å™¨å†…å…ƒç´ çš„è®¿é—®ï¼š ï¼ˆ1ï¼‰é€šè¿‡ä¸‹æ ‡ï¼Œå³keyè®¿é—® mp[key] ï¼ˆ2ï¼‰é€šè¿‡è¿­ä»£å™¨ï¼Œè¿­ä»£å™¨çš„å®šä¹‰å’Œå…¶ä»–å®¹å™¨ä¸€æ ·ï¼Œmapå®¹å™¨å†…çš„æ¯ä¸ªå…ƒç´ éƒ½åŒ…æ‹¬keyå’Œvalueï¼Œæ•… itâ†’first è®¿é—®keyï¼Œitâ†’second è®¿é—®valueï¼Œitä¸ºè¿­ä»£å™¨ mapå¸¸ç”¨å‡½æ•°ï¼š mp.find(key) //è¿”å›é”®ä¸ºkeyçš„å…ƒç´ çš„è¿­ä»£å™¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› mp.end() mp.erase(key) //åˆ é™¤é”®ä¸ºkeyçš„å…ƒç´  mp.erase(first, end) //åˆ é™¤åŒºé—´[first,end)çš„å…ƒç´  mp.size() mp.clear() ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:10","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"stack\rstackå³æ ˆå®¹å™¨ï¼ˆå…¶å®æ˜¯å®¹å™¨é€‚é…å™¨ï¼Œæ²¡æœ‰è¿­ä»£å™¨ï¼‰ã€‚ä½¿ç”¨éœ€è¦åŒ…å«å¤´æ–‡ä»¶stackã€‚ å®šä¹‰æ–¹å¼ä¸ºï¼šstack\u003ctypename\u003e stackname; å¸¸ç”¨æˆå‘˜å‡½æ•°ï¼š st.push(x) //å°†xå…¥æ ˆ st.pop() //å¼¹å‡ºæ ˆé¡¶å…ƒç´  st.top() //è·å–æ ˆé¡¶å…ƒç´  st.empty() st.size() ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:11","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"queue\rqueueå³é˜Ÿåˆ—å®¹å™¨ï¼ˆå…¶å®æ˜¯å®¹å™¨é€‚é…å™¨ï¼Œæ²¡æœ‰è¿­ä»£å™¨ï¼‰ã€‚ä½¿ç”¨éœ€è¦åŒ…å«å¤´æ–‡ä»¶queueã€‚ å®šä¹‰æ–¹å¼ä¸ºï¼šqueue\u003ctypename\u003e qname; å¸¸ç”¨æˆå‘˜å‡½æ•°ï¼š q.push(x) //å°†xå…¥é˜Ÿ q.pop() //å‡ºé˜Ÿ q.front() //è·å–é˜Ÿé¦–å…ƒç´  q.back() //è·å–é˜Ÿå°¾å…ƒç´  q.empty() q.size() ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:12","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"priority_queue\rä¼˜å…ˆé˜Ÿåˆ—ï¼Œåº•å±‚é‡‡ç”¨å †æ¥å®ç°çš„ã€‚é˜Ÿåˆ—å…ƒç´ é¡ºåºå¹¶ä¸æ˜¯æŒ‰ç…§å…¥é˜Ÿé¡ºåºæ’åˆ—ï¼Œè€Œæ˜¯æŒ‰ç…§ä¼˜å…ˆçº§è¿›è¡Œæ’åˆ—ã€‚é˜Ÿé¦–å…ƒç´ ä¸ºä¼˜å…ˆçº§æœ€é«˜çš„å…ƒç´ ã€‚ ä¼˜å…ˆé˜Ÿåˆ—ä¸é˜Ÿåˆ—çš„ä¸åŒä¹‹å¤„åœ¨äºï¼šä¼˜å…ˆé˜Ÿåˆ—ä¸å­˜åœ¨ front()å’Œback()å‡½æ•°ï¼Œåªèƒ½é€šè¿‡ top() å‡½æ•°æ¥è®¿é—®é˜Ÿé¦–ï¼ˆå †é¡¶ï¼‰å…ƒç´ ã€‚ä½¿ç”¨top()å‡½æ•°å‰ä¸€å®šè¦å…ˆåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚ å…ƒç´ ä¼˜å…ˆçº§è®¾ç½®ï¼š 1ï¼‰åŸºæœ¬æ•°æ®ç±»å‹çš„ä¼˜å…ˆçº§è®¾ç½® ä¼˜å…ˆé˜Ÿåˆ—å¯¹åŸºæœ¬æ•°æ®ç±»å‹çš„ä¼˜å…ˆçº§è®¾ç½®ä¸€èˆ¬æ˜¯ è¶Šå¤§çš„ä¼˜å…ˆçº§è¶Šé«˜ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„ä¼˜å…ˆçº§è®¾ç½®å¦‚ä¸‹ï¼š //é‡‡ç”¨é»˜è®¤ä¼˜å…ˆçº§è®¾å®šçš„ä¼˜å…ˆé˜Ÿåˆ— priority_queue\u003ctype\u003e pq; //è‡ªå®šä¹‰ä¼˜å…ˆçº§çš„ä¼˜å…ˆé˜Ÿåˆ— priority_queue\u003ctype, vector\u003ctype\u003e, less\u003ctype\u003e \u003e pq; priority_queue\u003ctype, vector\u003ctype\u003e, greater\u003ctype\u003e \u003e pq; ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºé˜Ÿåˆ—å…ƒç´ ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ‰¿è½½å †çš„å®¹å™¨ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºç¬¬ä¸€ä¸ªå‚æ•°çš„æ¯”è¾ƒç±»ï¼Œless\u003ctype\u003e è¡¨ç¤ºtypeè¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œgreater\u003ctype\u003eè¡¨ç¤ºtypeè¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ã€‚ //è¯¥ä¼˜å…ˆé˜Ÿåˆ—è¡¨ç¤ºæ•°å­—è¶Šå°çš„ä¼˜å…ˆçº§è¶Šé«˜ priority_queue\u003cint, vector\u003cint\u003e, greate\u003cint\u003e \u003e pri_q; 2ï¼‰ç»“æ„ä½“çš„ä¼˜å…ˆçº§è®¾ç½® ä½¿ç”¨é¢‘ç‡è¾ƒä½ï¼Œæœ‰éœ€è¦è¯·è‡ªè¡Œäº†è§£ ","date":"2024-08-07","objectID":"/posts/3b2b064/:9:13","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æ™ºèƒ½æŒ‡é’ˆæ¨¡æ¿ç±»\rä½¿ç”¨æŒ‡é’ˆæ—¶ï¼Œä¸€å®šè¦ new ä¸ delete æˆå¯¹å‡ºç°ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬ä¼šå¿˜è®° delete åˆæˆ–è€… åœ¨ delete å‰å°±å‡ºç°äº†å¼‚å¸¸è½¬è€Œå»æ‰§è¡Œå¯¹äºçš„ catch å—å»äº†ã€‚ å¦‚æœæŒ‡é’ˆæ˜¯å¯¹è±¡å°±å¥½ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å…¶è¿‡æœŸæ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°æ¥é‡Šæ”¾å…¶æŒ‡å‘çš„ç©ºé—´ã€‚è¿™æ­£æ˜¯æ™ºèƒ½æŒ‡é’ˆæ¨¡æ¿ç±» auto_ptrã€ unique_ptrã€ shared_ptr èƒŒåçš„æ€æƒ³ï¼Œåªéœ€è¦å°†ç”³è¯·åˆ°çš„ç©ºé—´åœ°å€èµ‹å€¼ç»™å…¶å¯¹è±¡å°±è¡Œï¼Œå…¶å¯¹è±¡çš„ææ„å‡½æ•°ä¼šè‡ªåŠ¨é‡Šæ”¾å¯¹åº”ç©ºé—´ï¼Œä¸å¿…æ‰‹åŠ¨ deleteã€‚ ä½¿ç”¨è¿™äº›æ™ºèƒ½æŒ‡é’ˆéœ€è¦åŒ…å«å¤´æ–‡ä»¶ memoryã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:10:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"unique_ptr\rstd::unique_ptr æ˜¯ä¸€ç§ ç‹¬å æ‰€æœ‰æƒ çš„æ™ºèƒ½æŒ‡é’ˆã€‚å®ƒç¡®ä¿æŒ‡é’ˆèƒ½ç‹¬å ä¸€ä¸ªç”³è¯·çš„å†…å­˜ç©ºé—´ï¼Œå³è¯¥æŒ‡é’ˆä¸èƒ½å°†è‡ªå·±çš„å€¼èµ‹å€¼ç»™å…¶ä»–æŒ‡é’ˆï¼Œå½“è¯¥ unique_ptr æŒ‡é’ˆè¢«é”€æ¯æ—¶ï¼Œå®ƒç®¡ç†çš„ç©ºé—´ä¹Ÿä¼šè¢«é‡Šæ”¾ã€‚ ç‰¹ç‚¹ï¼š ç‹¬å æ‰€æœ‰æƒï¼šä¸èƒ½å¤åˆ¶ï¼Œåªèƒ½ç§»åŠ¨ã€‚ è½»é‡çº§ï¼šæ²¡æœ‰é¢å¤–çš„å¼•ç”¨è®¡æ•°å¼€é”€ã€‚ ä¸»è¦æ“ä½œï¼š åˆ›å»ºå’Œåˆå§‹åŒ–ï¼šä½¿ç”¨ std::make_unique åˆ›å»ºã€‚ ç§»åŠ¨æ‰€æœ‰æƒï¼šä½¿ç”¨ std::move å°†æ‰€æœ‰æƒè½¬ç§»ç»™å¦ä¸€ä¸ª unique_ptrã€‚ ç¤ºä¾‹ï¼š #include \u003ciostream\u003e #include \u003cmemory\u003e class MyClass { public: MyClass() { std::cout \u003c\u003c \"MyClass constructor\" \u003c\u003c std::endl; } ~MyClass() { std::cout \u003c\u003c \"MyClass destructor\" \u003c\u003c std::endl; } void sayHello() const { std::cout \u003c\u003c \"Hello from MyClass\" \u003c\u003c std::endl; } }; int main() { std::unique_ptr\u003cMyClass\u003e ptr1 = std::make_unique\u003cMyClass\u003e(); ptr1-\u003esayHello(); // std::unique_ptr\u003cMyClass\u003e ptr2 = ptr1; // é”™è¯¯ï¼šunique_ptr ä¸èƒ½å¤åˆ¶ std::unique_ptr\u003cMyClass\u003e ptr2 = std::move(ptr1); // ç§»åŠ¨æ‰€æœ‰æƒ if (!ptr1) { std::cout \u003c\u003c \"ptr1 is now empty\" \u003c\u003c std::endl; } ptr2-\u003esayHello(); return 0; } æ³¨æ„ï¼š make_uniqueæ¨¡æ¿å‡½æ•°åœ¨C++14åŠä»¥åçš„æ ‡å‡†ä¸­æ‰æœ‰ã€‚å¦‚æœè¦åœ¨C++11åŠä»¥å‰çš„æ ‡å‡†ä¸­ä½¿ç”¨ï¼Œéœ€è¦è‡ªå·±å®ç°ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:10:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"shared_ptr\rstd::shared_ptr æ˜¯ä¸€ç§ å…±äº«æ‰€æœ‰æƒ çš„æ™ºèƒ½æŒ‡é’ˆã€‚å¤šä¸ª shared_ptr å¯ä»¥ ã€Œå…±äº«åŒä¸€ä¸ªç©ºé—´ã€ï¼Œå¹¶ä½¿ç”¨ å¼•ç”¨è®¡æ•° æ¥ç®¡ç†ç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸã€‚å½“æœ€åä¸€ä¸ª shared_ptr æŒ‡é’ˆè¢«é”€æ¯æ—¶ï¼Œç®¡ç†çš„ç©ºé—´æ‰ä¼šè¢«é‡Šæ”¾ã€‚ ç‰¹ç‚¹ï¼š å…±äº«æ‰€æœ‰æƒï¼šå¤šä¸ª shared_ptr å¯ä»¥æŒ‡å‘åŒä¸€ä¸ªç©ºé—´ã€‚ å¼•ç”¨è®¡æ•°ï¼šå†…éƒ¨ç»´æŠ¤å¼•ç”¨è®¡æ•°ï¼Œæ§åˆ¶ç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸã€‚ ä¸»è¦æ“ä½œï¼š åˆ›å»ºå’Œåˆå§‹åŒ–ï¼šä½¿ç”¨ std::make_shared åˆ›å»ºã€‚ æ‹·è´å’Œèµ‹å€¼ï¼šå¯ä»¥æ‹·è´å’Œèµ‹å€¼ï¼Œå¢åŠ å¼•ç”¨è®¡æ•°ã€‚ é‡ç½®å’Œé‡Šæ”¾ï¼šreset() æ–¹æ³•ç”¨äºé‡Šæ”¾å¯¹è±¡æˆ–æ›´æ¢å¯¹è±¡ã€‚ è·å–åŸå§‹æŒ‡é’ˆï¼šget() æ–¹æ³•æ¥è·å–åŸå§‹æŒ‡é’ˆï¼Œé€šè¿‡è¿™ç§æ–¹æ³•ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ã€‚ æŸ¥çœ‹å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼šuse_count() æ–¹æ³•æ¥æŸ¥çœ‹ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ã€‚ ç¤ºä¾‹ï¼š #include \u003ciostream\u003e #include \u003cmemory\u003e class MyClass { public: MyClass() { std::cout \u003c\u003c \"MyClass constructor\" \u003c\u003c std::endl; } ~MyClass() { std::cout \u003c\u003c \"MyClass destructor\" \u003c\u003c std::endl; } void sayHello() const { std::cout \u003c\u003c \"Hello from MyClass\" \u003c\u003c std::endl; } }; int main() { std::shared_ptr\u003cMyClass\u003e ptr1 = std::make_shared\u003cMyClass\u003e(); std::shared_ptr\u003cMyClass\u003e ptr2 = ptr1; // å…±äº«æ‰€æœ‰æƒ MyClass *temp = ptr1.get(); // è·å–åŸå§‹æŒ‡é’ˆï¼Œè¿™ä¸ä¼šå¢åŠ å¼•ç”¨è®¡æ•° std::cout \u003c\u003c \"-------------------------------------------------\" \u003c\u003c std::endl; // è¾“å‡ºå½“å‰å¼•ç”¨è®¡æ•°ï¼Œåœ¨æ­¤ä¸º 2ï¼Œä½† tempï¼Œptr1ï¼Œptr2éƒ½æŒ‡å‘åŒä¸€ç‰‡å†…å­˜ç©ºé—´ std::cout \u003c\u003c \"Reference count: \" \u003c\u003c ptr1.use_count() \u003c\u003c std::endl; std::cout \u003c\u003c \"ptr1: \" \u003c\u003c ptr1 \u003c\u003c \", \" \u003c\u003c \"ptr2: \" \u003c\u003c ptr2 \u003c\u003c \", \" \u003c\u003c \"temp: \" \u003c\u003c temp \u003c\u003c std::endl; std::cout \u003c\u003c \"-------------------------------------------------\" \u003c\u003c std::endl; ptr1-\u003esayHello(); ptr2-\u003esayHello(); temp-\u003esayHello(); std::cout \u003c\u003c \"-------------------------------------------------\" \u003c\u003c std::endl; ptr1.reset(); // é‡Šæ”¾ ptr1 çš„æ‰€æœ‰æƒ // å¼•ç”¨è®¡æ•°ä¸º 1 std::cout \u003c\u003c \"Reference count after reset: \" \u003c\u003c ptr2.use_count() \u003c\u003c std::endl; ptr2-\u003esayHello(); // ä¸ç”¨ delete tempï¼Œå› ä¸ºè¿™ä¸‰ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªç©ºé—´ï¼Œè¯¥ç©ºé—´å·²ç»è¢«æ™ºèƒ½æŒ‡é’ˆé‡Šæ”¾æ‰äº† return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:10:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"weak_ptr\rstd::weak_ptr æ˜¯ä¸€ç§å¼±å¼•ç”¨æ™ºèƒ½æŒ‡é’ˆï¼Œå®ƒä¸å‚ä¸å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ç®¡ç†ï¼Œä¸èƒ½ç›´æ¥è®¿é—®å¯¹è±¡ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯è§£å†³ std::shared_ptr çš„å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚ std::shared_pt çš„å¾ªç¯å¼•ç”¨é—®é¢˜ è€ƒè™‘ä»¥ä¸‹æƒ…å†µï¼Œå­˜åœ¨ä¸¤ä¸ªç±»Aï¼ŒBï¼›Aç±»é‡Œé¢æœ‰ä¸€ä¸ªæŒ‡å‘Bç±»å¯¹è±¡çš„shared_ptræŒ‡é’ˆï¼ŒBç±»é‡Œé¢æœ‰ä¸€ä¸ªæŒ‡å‘Aç±»å¯¹è±¡çš„shared_ptræŒ‡é’ˆï¼ˆåé¢ç®€ç§°æŒ‡é’ˆï¼‰ã€‚ç°åœ¨é€šè¿‡ä¸€ä¸ªæŒ‡å‘Aç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œè®©è¯¥å¯¹è±¡ä¸­çš„æŒ‡é’ˆæŒ‡å‘Bç±»å¯¹è±¡ï¼›å†è®©ä¸€ä¸ªæŒ‡å‘Bç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œè®©è¯¥å¯¹è±¡ä¸­çš„æŒ‡é’ˆæŒ‡å‘Aç±»å¯¹è±¡ã€‚æ­¤æ—¶ï¼Œå°±æ„æˆäº†å¾ªç¯å¼•ç”¨ï¼Œæ— æ³•è‡ªåŠ¨é‡Šæ”¾è¿™ä¸¤ä¸ªç©ºé—´ï¼Œå› ä¸ºå¼•ç”¨æ— æ³•å½’é›¶ã€‚ #include \u003ciostream\u003e #include \u003cmemory\u003e class B; // å‰å‘å£°æ˜ class A { public: std::shared_ptr\u003cB\u003e b_ptr; ~A() { std::cout \u003c\u003c \"A destroyed\" \u003c\u003c std::endl; } }; class B { public: std::shared_ptr\u003cA\u003e a_ptr; ~B() { std::cout \u003c\u003c \"B destroyed\" \u003c\u003c std::endl; } }; int main() { auto a = std::make_shared\u003cA\u003e(); // autoæ˜¯C++11æ–°å¢çš„å…³é”®å­—ï¼Œå¯ä»¥è‡ªåŠ¨æ¨æ–­å˜é‡çš„ç±»å‹ auto b = std::make_shared\u003cB\u003e(); a-\u003eb_ptr = b; b-\u003ea_ptr = a; // æ­¤æ—¶ a å’Œ b ç¦»å¼€ä½œç”¨åŸŸï¼Œä½†ä¸ä¼šè°ƒç”¨ææ„å‡½æ•°ï¼Œå› ä¸ºå­˜åœ¨å¾ªç¯å¼•ç”¨ return 0; } ä¸ºäº†é¿å…è¿™ç§æƒ…å†µå‡ºç°ï¼Œå°±åº”å°† ç±»ä¸­çš„æŒ‡é’ˆå®šä¹‰ä¸º weak_ptr ç±»å‹ çš„æŒ‡é’ˆ ç‰¹ç‚¹ï¼š å¼±å¼•ç”¨ï¼šä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä¸å½±å“å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚ è½¬æ¢ï¼šéœ€è¦è½¬æ¢ä¸º std::shared_ptr æ‰èƒ½è®¿é—®å¯¹è±¡ã€‚ ä¸»è¦æ“ä½œï¼š åˆ›å»ºå’Œåˆå§‹åŒ–ï¼šé€šè¿‡ std::shared_ptr åˆ›å»ºã€‚ é”å®šå’Œè®¿é—®ï¼šä½¿ç”¨ lock æ–¹æ³•è½¬æ¢ä¸º std::shared_ptrã€‚ ç¤ºä¾‹ï¼š #include \u003ciostream\u003e #include \u003cmemory\u003e class MyClass { public: MyClass() { std::cout \u003c\u003c \"MyClass constructor\" \u003c\u003c std::endl; } ~MyClass() { std::cout \u003c\u003c \"MyClass destructor\" \u003c\u003c std::endl; } void sayHello() const { std::cout \u003c\u003c \"Hello from MyClass\" \u003c\u003c std::endl; } }; int main() { std::shared_ptr\u003cMyClass\u003e sp1 = std::make_shared\u003cMyClass\u003e(); std::weak_ptr\u003cMyClass\u003e wp = sp1; // åˆ›å»ºå¼±å¼•ç”¨ std::shared_ptr\u003cMyClass\u003e sp2 = wp.lock(); // è½¬æ¢ä¸º shared_ptråèµ‹å€¼ sp2-\u003esayHello(); std::cout \u003c\u003c \"Reference count: \" \u003c\u003c sp2.use_count() \u003c\u003c std::endl; sp1.reset(); // é‡Šæ”¾ sp1 çš„æ‰€æœ‰æƒ sp2.reset(); // é‡Šæ”¾ sp2 çš„æ‰€æœ‰æƒï¼Œæ­¤æ—¶å¼•ç”¨è®¡æ•°ä¸º0ï¼Œè¯¥ç©ºé—´è¢«é‡Šæ”¾æ‰ // åœ¨ç©ºé—´è¢«é‡Šæ”¾åï¼Œå°è¯•è½¬æ¢ï¼Œè½¬æ¢å¤±è´¥ä¼šè¿”å›ä¸€ä¸ªç©ºçš„ shared_ptr std::shared_ptr\u003cMyClass\u003e sp3 = wp.lock(); if(sp3 == nullptr) std::cout \u003c\u003c \"Conversion failed\" \u003c\u003c std::endl; return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:10:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æ–‡ä»¶æ“ä½œ\r","date":"2024-08-07","objectID":"/posts/3b2b064/:11:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ä»€ä¹ˆæ˜¯æ–‡ä»¶ï¼Ÿ\rå†…å­˜ä¸­çš„æ•°æ®åœ¨è®¡ç®—æœºå…³æœºåå°±ä¼šæ¶ˆå¤±ã€‚è¦é•¿ä¹…ä¿å­˜æ•°æ®ï¼Œå°±è¦ä½¿ç”¨ç¡¬ç›˜ã€å…‰ç›˜ã€U ç›˜ç­‰è®¾å¤‡ã€‚è€Œä¸ºäº†ä¾¿äºæ•°æ®çš„ç®¡ç†å’Œæ£€ç´¢ï¼Œå¼•å…¥äº†â€œæ–‡ä»¶â€çš„æ¦‚å¿µï¼Œå³ ã€Œæ–‡ä»¶æ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­ç”¨äºå­˜å‚¨å’Œç»„ç»‡æ•°æ®çš„ä¸€ç§åŸºæœ¬å½¢å¼ã€ã€‚ ä¸€ä¸ªæ–‡æ¡£ã€ä¸€æ®µè§†é¢‘ã€ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œéƒ½å¯ä»¥è¢«ä¿å­˜ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶èµ‹äºˆä¸€ä¸ªæ–‡ä»¶åã€‚æ“ä½œç³»ç»Ÿä»¥æ–‡ä»¶ä¸ºå•ä½ç®¡ç†ç£ç›˜ä¸­çš„æ•°æ®ã€‚ å¦‚æœä¸å¯¹æ–‡ä»¶è¿›è¡Œåˆ†ç±»ï¼Œå½“æœ‰æˆåƒä¸Šä¸‡ä¸ªæ–‡ä»¶æ”¾åœ¨ä¸€èµ·æ—¶ï¼Œä½¿ç”¨èµ·æ¥å°±ä¼šéå¸¸ä¸ä¾¿ï¼Œå› æ­¤åˆå¼•å…¥äº†æ ‘å½¢ç›®å½•ï¼ˆç›®å½•ä¹Ÿå«æ–‡ä»¶å¤¹ï¼‰çš„æœºåˆ¶ï¼Œå¯ä»¥æŠŠæ–‡ä»¶æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶å¤¹ä¸­ï¼Œæ–‡ä»¶å¤¹ä¸­è¿˜å¯ä»¥åµŒå¥—æ–‡ä»¶å¤¹ï¼Œè¿™å°±ä¾¿äºç”¨æˆ·å¯¹æ–‡ä»¶è¿›è¡Œç®¡ç†å’Œä½¿ç”¨ï¼Œæ­£å¦‚ Windows çš„èµ„æºç®¡ç†å™¨å‘ˆç°çš„é‚£æ ·ã€‚ é€šå¸¸ï¼ŒæŒ‰æ–‡ä»¶çš„åŠŸèƒ½æ¥åˆ†ï¼Œæ–‡ä»¶å¯åˆ†ä¸ºæ–‡æœ¬æ–‡ä»¶ã€è§†é¢‘æ–‡ä»¶ã€éŸ³é¢‘æ–‡ä»¶ã€å›¾åƒæ–‡ä»¶ã€å¯æ‰§è¡Œæ–‡ä»¶ç­‰å¤šç§ç±»åˆ«ã€‚ä½†ä»æ•°æ®å­˜å‚¨çš„è§’åº¦æ¥è¯´ï¼Œæ‰€æœ‰æ–‡ä»¶æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä¸€ä¸ª 0ã€1 æ¯”ç‰¹ä¸²ã€‚ä¸åŒçš„æ–‡ä»¶å‘ˆç°å‡ºä¸åŒçš„å½¢æ€ï¼ˆæœ‰çš„æ˜¯æ–‡æœ¬ï¼Œæœ‰çš„æ˜¯è§†é¢‘ç­‰ç­‰ï¼‰æ˜¯å› ä¸ºæ–‡ä»¶çš„åˆ›å»ºè€…å’Œè§£é‡Šè€…ï¼ˆä½¿ç”¨æ–‡ä»¶çš„è½¯ä»¶ï¼‰çº¦å®šå¥½äº†æ–‡ä»¶æ ¼å¼ã€‚ æ‰€è°“â€œæ ¼å¼â€ï¼Œå°±æ˜¯å¯¹æ–‡ä»¶ä¸­æ¯ä¸€éƒ¨åˆ†çš„å†…å®¹ä»£è¡¨ä»€ä¹ˆå«ä¹‰çš„ä¸€ç§çº¦å®šã€‚ä¾‹å¦‚ï¼Œå¸¸è§çš„çº¯æ–‡æœ¬æ–‡ä»¶ï¼ˆä¹Ÿå«æ–‡æœ¬æ–‡ä»¶ï¼Œæ‰©å±•åé€šå¸¸æ˜¯â€œ.txtâ€ï¼‰ï¼ŒæŒ‡çš„æ˜¯èƒ½å¤Ÿåœ¨ Windows çš„â€œè®°äº‹æœ¬â€ç¨‹åºä¸­æ‰“å¼€ï¼Œå¹¶ä¸”èƒ½çœ‹å‡ºæ˜¯ä¸€æ®µæœ‰æ„ä¹‰çš„æ–‡å­—çš„æ–‡ä»¶ã€‚æ–‡æœ¬æ–‡ä»¶çš„æ ¼å¼å¯ä»¥ç”¨ä¸€å¥è¯æ¥æè¿°ï¼šæ–‡ä»¶ä¸­çš„æ¯ä¸ªå­—èŠ‚éƒ½æ˜¯ä¸€ä¸ªå¯è§å­—ç¬¦çš„ ASCII ç ã€‚ é™¤äº†çº¯æ–‡æœ¬æ–‡ä»¶å¤–ï¼Œå›¾åƒã€è§†é¢‘ã€å¯æ‰§è¡Œæ–‡ä»¶ç­‰ä¸€èˆ¬è¢«ç§°ä½œâ€œäºŒè¿›åˆ¶æ–‡ä»¶â€ã€‚äºŒè¿›åˆ¶æ–‡ä»¶å¦‚æœç”¨â€œè®°äº‹æœ¬â€ç¨‹åºæ‰“å¼€ï¼Œçœ‹åˆ°çš„æ˜¯ä¸€ç‰‡ä¹±ç ã€‚ æ‰€è°“â€œæ–‡æœ¬æ–‡ä»¶â€å’Œâ€œäºŒè¿›åˆ¶æ–‡ä»¶â€ï¼Œåªæ˜¯çº¦å®šä¿—æˆçš„ã€ä»ç”¨æˆ·è§’åº¦å‡ºå‘è¿›è¡Œçš„åˆ†ç±»ï¼Œå¹¶ä¸æ˜¯è®¡ç®—æœºç§‘å­¦çš„åˆ†ç±»ã€‚å› ä¸ºä»è®¡ç®—æœºç§‘å­¦çš„è§’åº¦æ¥çœ‹ï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯ç”±äºŒè¿›åˆ¶ä½ç»„æˆçš„ï¼Œéƒ½æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æ–‡æœ¬æ–‡ä»¶å’Œå…¶ä»–äºŒè¿›åˆ¶æ–‡ä»¶åªæ˜¯æ ¼å¼ä¸åŒè€Œå·²ã€‚ å®é™…ä¸Šï¼Œåªè¦è§„å®šå¥½æ ¼å¼ï¼Œè€Œä¸”ä¸æ€•æµªè´¹ç©ºé—´ï¼Œç”¨æ–‡æœ¬æ–‡ä»¶ä¸€æ ·å¯ä»¥è¡¨ç¤ºå›¾åƒã€å£°éŸ³ã€è§†é¢‘ç”šè‡³å¯æ‰§è¡Œç¨‹åºã€‚ç®€å•åœ°è¯´ï¼Œå¦‚æœçº¦å®šç”¨å­—ç¬¦ â€˜1â€™ã€â€˜2â€™ã€â€¦ã€â€˜7â€™ è¡¨ç¤ºä¸ƒä¸ªéŸ³ç¬¦ï¼Œé‚£ä¹ˆç”±è¿™äº›å­—ç¬¦ç»„æˆçš„æ–‡æœ¬æ–‡ä»¶å°±å¯ä»¥è¢«éµä»è¯¥çº¦å®šçš„éŸ³ä¹è½¯ä»¶æ¼”å¥æˆä¸€é¦–æ›²å­ã€‚ ä»¥ 256 è‰²å›¾åƒä¸ºä¾‹ï¼Œå¯ä»¥ç”¨ 0~255 è¿™ 256 ä¸ªæ•°ä»£è¡¨ 256 ç§é¢œè‰²ï¼Œé‚£ä¹ˆæ¯ä¸ªåƒç´ å°±å¯ä»¥ç”¨ä¸€ä¸ªæ•°æ¥è¡¨ç¤ºã€‚å†çº¦å®šæ–‡ä»¶å¼€å§‹çš„ä¸¤ä¸ªæ•°ä»£è¡¨å›¾åƒçš„å®½åº¦å’Œé«˜åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ï¼Œåˆ™ä»¥ä¸‹æ–‡æœ¬æ–‡ä»¶å°±å¯ä»¥è¡¨ç¤ºä¸€å¹…å®½åº¦ä¸º 7 åƒç´ ã€é«˜åº¦ä¸º 3 åƒç´ çš„ 256 è‰²å›¾åƒï¼š 7 3 37 0 38 129 4 154 0 73 3 227 40 0 0 1 17 173 127 20 0 0 2 è¿™ä¸ªâ€œæ–‡æœ¬å›¾åƒâ€æ–‡ä»¶çš„æ ¼å¼å¯ä»¥æè¿°ä¸ºï¼šç¬¬ä¸€è¡Œçš„ä¸¤ä¸ªæ•°åˆ†åˆ«ä»£è¡¨æ°´å¹³æ–¹å‘çš„åƒç´ æ•°ç›®å’Œå‚ç›´æ–¹å‘çš„åƒç´ æ•°ç›®ï¼Œæ­¤åæ¯è¡Œä»£è¡¨å›¾åƒçš„ä¸€è¡Œåƒç´ ï¼Œä¸€è¡Œä¸­çš„æ¯ä¸ªæ•°å¯¹åº”äºä¸€ä¸ªåƒç´ ï¼Œè¡¨ç¤ºå…¶é¢œè‰²ã€‚ç†è§£è¿™ä¸€æ ¼å¼çš„å›¾åƒå¤„ç†è½¯ä»¶å°±å¯ä»¥æŠŠä¸Šè¿°æ–‡æœ¬æ–‡ä»¶å‘ˆç°ä¸ºä¸€å¹…å›¾åƒã€‚è§†é¢‘æ˜¯ç”±æ¯ç§’ 24 å¹…å›¾åƒç»„æˆçš„ï¼Œå› æ­¤ç”¨æ–‡æœ¬æ–‡ä»¶ä¹Ÿå¯ä»¥è¡¨ç¤ºè§†é¢‘ã€‚ ä½†ç”¨æ–‡æœ¬æ–‡ä»¶æ¥è¡¨ç¤ºå›¾åƒæ˜¯éå¸¸ä½æ•ˆçš„æ–¹æ³•ï¼Œæµªè´¹äº†å¤ªå¤šçš„ç©ºé—´ã€‚æ–‡ä»¶ä¸­å¤§é‡çš„ç©ºæ ¼æ˜¯ä¸€ç§æµªè´¹ã€‚å¦å¤–ï¼Œå¸¸å¸¸è¦ç”¨ 2 ä¸ªç”šè‡³ 3 ä¸ªå­—ç¬¦æ¥è¡¨ç¤ºä¸€ä¸ªåƒç´ ï¼Œä¹Ÿé€ æˆå¤§é‡æµªè´¹ï¼Œå› ä¸ºç”¨ä¸€ä¸ªå­—èŠ‚å°±è¶³ä»¥è¡¨ç¤º 0~255 è¿™ 256 ä¸ªæ•°ã€‚å› æ­¤ï¼Œå¯ä»¥çº¦å®šä¸€ä¸ªæ›´èŠ‚çœç©ºé—´çš„æ ¼å¼æ¥è¡¨ç¤ºä¸€ä¸ª 256 è‰²çš„å›¾åƒï¼Œæ­¤ç§æ–‡ä»¶æ ¼å¼çš„æè¿°å¦‚ä¸‹ï¼šæ–‡ä»¶ä¸­çš„ç¬¬ 0 å’Œ 1 ä¸ªå­—èŠ‚æ˜¯æ•´æ•° nï¼Œä»£è¡¨å›¾åƒçš„å®½åº¦ï¼ˆ2 å­—èŠ‚çš„ n çš„å–å€¼èŒƒå›´æ˜¯ 0~65 535ï¼Œè¯´æ˜å›¾åƒæœ€å¤šåªèƒ½æ˜¯ 65 535 ä¸ªåƒç´ å®½ï¼‰ï¼Œç¬¬ 2 å’Œ 3 ä¸ªå­—èŠ‚ä»£è¡¨å›¾åƒçš„é«˜åº¦ã€‚æ¥ä¸‹æ¥ï¼Œæ¯ n ä¸ªå­—èŠ‚è¡¨ç¤ºå›¾åƒçš„ä¸€è¡Œåƒç´ ï¼Œå…¶ä¸­æ¯ä¸ªå­—èŠ‚å¯¹åº”äºä¸€ä¸ªåƒç´ çš„é¢œè‰²ã€‚ ç”¨è¿™ç§æ ¼å¼å­˜å‚¨ 256 è‰²å›¾åƒï¼Œæ¯”ç”¨ä¸Šé¢çš„æ–‡æœ¬æ ¼å¼å­˜å‚¨å›¾åƒèƒ½å¤Ÿå¤§å¤§èŠ‚çœç©ºé—´ã€‚åœ¨â€œè®°äº‹æœ¬â€ç¨‹åºä¸­æ‰“å¼€å®ƒï¼Œçœ‹åˆ°çš„å°±ä¼šæ˜¯ä¹±ç ï¼Œè¿™ä¸ªå›¾åƒæ–‡ä»¶ä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œäºŒè¿›åˆ¶æ–‡ä»¶â€ã€‚ çœŸæ­£çš„å›¾åƒæ–‡ä»¶ã€éŸ³é¢‘æ–‡ä»¶ã€è§†é¢‘æ–‡ä»¶çš„æ ¼å¼éƒ½æ¯”è¾ƒå¤æ‚ï¼Œæœ‰çš„è¿˜ç»è¿‡äº†å‹ç¼©ï¼Œä½†åªè¦æ–‡ä»¶çš„åˆ¶ä½œè½¯ä»¶å’Œè§£è¯»è½¯ä»¶ï¼ˆå¦‚å›¾åƒæŸ¥çœ‹è½¯ä»¶ï¼ŒéŸ³é¢‘ã€è§†é¢‘æ’­æ”¾è½¯ä»¶ï¼‰éµå¾ªç›¸åŒçš„æ ¼å¼çº¦å®šï¼Œç”¨æˆ·å°±å¯ä»¥åœ¨æ–‡ä»¶è§£è¯»è½¯ä»¶ä¸­çœ‹åˆ°æ–‡ä»¶çš„å†…å®¹ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:11:1","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æ–‡ä»¶æµç±»\rC++ æ ‡å‡†ç±»åº“ä¸­æœ‰ä¸‰ä¸ªç±»å¯ä»¥ç”¨äºæ–‡ä»¶æ“ä½œï¼Œå®ƒä»¬ç»Ÿç§°ä¸ºæ–‡ä»¶æµç±»ã€‚è¿™ä¸‰ä¸ªç±»æ˜¯ï¼š ifstreamï¼šç”¨äºä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚ ofstreamï¼šç”¨äºå‘æ–‡ä»¶ä¸­å†™äººæ•°æ®ã€‚ fstreamï¼šæ—¢å¯ç”¨äºä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œåˆå¯ç”¨äº å‘æ–‡ä»¶ä¸­å†™äººæ•°æ®ã€‚ ä½¿ç”¨è¿™ä¸‰ä¸ªç±»æ—¶ï¼Œç¨‹åºä¸­éœ€è¦åŒ…å« fstream å¤´æ–‡ä»¶ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:11:2","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æ‰“å¼€æ–‡ä»¶å’Œå…³é—­æ–‡ä»¶\råœ¨å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œå‰éœ€è¦å…ˆæ‰“å¼€æ–‡ä»¶ã€‚æ‰“å¼€æ–‡ä»¶çš„ç›®çš„æœ‰ä»¥ä¸‹ä¸¤ä¸ªï¼š å»ºç«‹èµ·æŒ‡å®šæ–‡ä»¶å’Œæ–‡ä»¶æµå¯¹è±¡çš„å…³è”ï¼Œä»¥åè¦å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œæ—¶ï¼Œå°±å¯ä»¥é€šè¿‡ä¸ä¹‹å…³è”çš„æµå¯¹è±¡æ¥è¿›è¡Œã€‚ æŒ‡æ˜æ–‡ä»¶çš„ä½¿ç”¨æ–¹å¼ã€‚ä½¿ç”¨æ–¹å¼æœ‰åªè¯»ã€åªå†™ã€æ—¢è¯»åˆå†™ã€åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ æ•°æ®ã€ä»¥æ–‡æœ¬æ–¹å¼ä½¿ç”¨ã€ä»¥äºŒè¿›åˆ¶æ–¹å¼ä½¿ç”¨ç­‰å¤šç§ã€‚ æ‰“å¼€æ–‡ä»¶å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼è¿›è¡Œï¼š è°ƒç”¨æµå¯¹è±¡çš„ open æˆå‘˜å‡½æ•°æ‰“å¼€æ–‡ä»¶ã€‚ å®šä¹‰æ–‡ä»¶æµå¯¹è±¡æ—¶ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ‰“å¼€æ–‡ä»¶ã€‚ æ³¨æ„ï¼š å¯¹æ–‡ä»¶æ“ä½œç»“æŸåï¼Œä¸€å®šè¦è°ƒç”¨æµå¯¹è±¡çš„ close() æˆå‘˜å‡½æ•°æ¥å…³é—­æ–‡ä»¶ï¼ï¼ï¼ä¸”æ‰“å¼€ååº”è°ƒç”¨æµå¯¹è±¡çš„ is_open() æˆå‘˜å‡½æ•°æ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸæ‰“å¼€æ–‡ä»¶ã€‚ æ— è®ºæ˜¯å“ªç§æ‰“å¼€æ–¹å¼ï¼Œéƒ½éœ€è¦ä½¿ç”¨ä¸¤ä¸ªå‚æ•°ï¼šâ‘ ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ç»™å‡ºçš„è¦æ‰“å¼€çš„æ–‡ä»¶è·¯å¾„ã€‚â‘¡æ–‡ä»¶æ‰“å¼€æ¨¡å¼ æ–‡ä»¶æ‰“å¼€æ¨¡å¼å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š æ¨¡å¼æ ‡è®° é€‚ç”¨å¯¹è±¡ ä½œç”¨ ios::in ifstream fstream æ‰“å¼€æ–‡ä»¶ç”¨äºè¯»å–æ•°æ®ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ‰“å¼€å‡ºé”™ã€‚ ios::out ofstream fstream æ‰“å¼€æ–‡ä»¶ç”¨äºå†™å…¥æ•°æ®ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºè¯¥æ–‡ä»¶ï¼›å¦‚æœæ–‡ä»¶åŸæ¥å°±å­˜åœ¨ï¼Œåˆ™æ‰“å¼€æ—¶æ¸…é™¤åŸæ¥çš„å†…å®¹ã€‚ ios::app ofstream fstream æ‰“å¼€æ–‡ä»¶ï¼Œç”¨äºåœ¨å…¶å°¾éƒ¨æ·»åŠ æ•°æ®ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ–°å»ºè¯¥æ–‡ä»¶ã€‚ ios::ate ifstream æ‰“å¼€ä¸€ä¸ªå·²æœ‰çš„æ–‡ä»¶ï¼Œå¹¶å°†æ–‡ä»¶è¯»æŒ‡é’ˆæŒ‡å‘æ–‡ä»¶æœ«å°¾ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ‰“å¼€å‡ºé”™ã€‚ ios::trunc ofstream å•ç‹¬ä½¿ç”¨æ—¶ä¸ios::outçš„æ•ˆæœç›¸åŒã€‚è¯¥æ¨¡å¼ä¸»è¦åº”ç”¨äºç»„åˆä½¿ç”¨çš„æƒ…å†µï¼Œç”¨äºæ¸…æ™°è¡¨è¾¾ç¨‹åºå‘˜çš„æ„å›¾ï¼Œå³æ˜ç¡®è¡¨ç¤ºæ‰“å¼€æ–‡ä»¶æ—¶æ¸…ç©ºå…¶å†…å®¹ ios::binary ifstream ofstream fstream ä»¥äºŒè¿›åˆ¶æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚è‹¥ä¸æŒ‡å®šæ­¤æ¨¡å¼ï¼Œåˆ™ä»¥æ–‡æœ¬æ¨¡å¼æ‰“å¼€ã€‚æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥äºŒè¿›åˆ¶çš„å½¢å¼æ‰“å¼€ã€‚ ios::in | ios::out fstream æ‰“å¼€å·²å­˜åœ¨çš„æ–‡ä»¶ï¼Œæ—¢å¯è¯»å–å…¶å†…å®¹ï¼Œä¹Ÿå¯å‘å…¶å†™å…¥æ•°æ®ã€‚æ–‡ä»¶åˆšæ‰“å¼€æ—¶ï¼ŒåŸæœ‰å†…å®¹ä¿æŒä¸å˜ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ‰“å¼€å‡ºé”™ã€‚ æ‰“å¼€æ¨¡å¼çš„å€¼æ˜¯å¯ä»¥é€šè¿‡ | ç¬¦å·æ¥ç»„åˆä½¿ç”¨çš„ï¼Œä¾‹å¦‚ï¼šios::in | ios::out | ios::trunc è¡¨ç¤ºä»¥è¯»å†™æ–¹å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œä¸”æ‰“å¼€æ–‡ä»¶æ—¶æ¸…ç©ºå…¶å†…å®¹ã€‚ #include \u003ciostream\u003e #include \u003cfstream\u003e int main() { // ä»¥æ„é€ å‡½æ•°çš„å½¢å¼æ‰“å¼€ output.txt æ–‡ä»¶ï¼Œçœç•¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œå› ä¸ºæœ‰é»˜è®¤å€¼ ios::out std::ofstream fout(\"output.txt\"); // ä»¥è°ƒç”¨æˆå‘˜å‡½æ•° open() çš„æ–¹å¼æ‰“å¼€ example.txtæ–‡ä»¶ ï¼Œçœç•¥äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œå› ä¸ºæœ‰é»˜è®¤å€¼ ios::in std::ifstream fin; fin.open(\"example.txt\"); // åˆ¤æ–­æ˜¯å¦æˆåŠŸæ‰“å¼€äº†æ–‡ä»¶ if ( !fout.is_open() ) { std::cerr \u003c\u003c \"fout Error opening file!\" \u003c\u003c std::endl; return 1; } if ( !fin.is_open() ) { std::cerr \u003c\u003c \"fin Error opening file!\" \u003c\u003c std::endl; return 1; } ...... // å¯¹æ–‡ä»¶è¿›è¡Œçš„ä¸€ç³»åˆ—æ“ä½œ // å¯¹æ–‡ä»¶æ“ä½œå®Œæˆåå…³é—­æ–‡ä»¶ã€‚ fout.close(); fin.close(); return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:11:3","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æ–‡æœ¬æ‰“å¼€æ–¹å¼å’ŒäºŒè¿›åˆ¶æ‰“å¼€æ–¹å¼çš„åŒºåˆ«\råœ¨ UNIX/Linux å¹³å°ä¸­ï¼Œç”¨æ–‡æœ¬æ–¹å¼æˆ–äºŒè¿›åˆ¶æ–¹å¼æ‰“å¼€æ–‡ä»¶æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚ åœ¨ UNIX/Linux å¹³å°ä¸­ï¼Œæ–‡æœ¬æ–‡ä»¶ä»¥\\nï¼ˆASCII ç ä¸º 0x0aï¼‰ä½œä¸ºæ¢è¡Œç¬¦å·ï¼›è€Œåœ¨ Windows å¹³å°ä¸­ï¼Œæ–‡æœ¬æ–‡ä»¶ä»¥è¿åœ¨ä¸€èµ·çš„\\r\\nï¼ˆ\\rçš„ ASCII ç æ˜¯ 0x0dï¼‰ä½œä¸ºæ¢è¡Œç¬¦å·ã€‚ åœ¨ Windows å¹³å°ä¸­ï¼Œå¦‚æœä»¥æ–‡æœ¬æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå½“è¯»å–æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šå°†æ–‡ä»¶ä¸­æ‰€æœ‰çš„\\r\\nè½¬æ¢æˆä¸€ä¸ªå­—ç¬¦\\nï¼Œå¦‚æœæ–‡ä»¶ä¸­æœ‰è¿ç»­çš„ä¸¤ä¸ªå­—èŠ‚æ˜¯ 0x0d0aï¼Œåˆ™ç³»ç»Ÿä¼šä¸¢å¼ƒå‰é¢çš„ 0x0d è¿™ä¸ªå­—èŠ‚ï¼Œåªè¯»å…¥ 0x0aã€‚å½“å†™å…¥æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šå°†\\nè½¬æ¢æˆ\\r\\nå†™å…¥ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¦å†™å…¥çš„å†…å®¹ä¸­æœ‰å­—èŠ‚ä¸º 0x0aï¼Œåˆ™åœ¨å†™äººè¯¥å­—èŠ‚å‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å…ˆå†™å…¥ä¸€ä¸ª 0x0dã€‚å› æ­¤ï¼Œå¦‚æœç”¨æ–‡æœ¬æ–¹å¼æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œè¯»å†™ï¼Œè¯»å†™çš„å†…å®¹å°±å¯èƒ½å’Œæ–‡ä»¶çš„å†…å®¹æœ‰å‡ºå…¥ã€‚ å› æ­¤ï¼Œç”¨äºŒè¿›åˆ¶æ–¹å¼æ‰“å¼€æ–‡ä»¶æ€»æ˜¯æœ€ä¿é™©çš„ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:11:4","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"æ–‡æœ¬æ–‡ä»¶çš„è¯»å–å’Œå†™å…¥\rä½¿ç”¨æ–‡ä»¶æµå¯¹è±¡æ‰“å¼€æ–‡ä»¶åï¼Œè¯¥æ–‡ä»¶æµå¯¹è±¡å°±æˆä¸ºäº†ä¸€ä¸ªè¾“å…¥æµæˆ–è¾“å‡ºæµã€‚å°±å¯ä»¥åƒä½¿ç”¨ cinã€cout é‚£æ ·æ¥ä½¿ç”¨å¯¹è±¡å¯¹æ–‡ä»¶è¿›è¡Œè¯»å†™æ“ä½œã€‚ #include \u003ciostream\u003e #include \u003cfstream\u003e int main() { std::ifstream fin(\"in.txt\"); std::ofstream fout(\"output.txt\"); string mstr; if (!fin.is_open()) { std::cerr \u003c\u003c \"in Error opening file!\" \u003c\u003c std::endl; return 1; } if (!fout.is_open()) { std::cerr \u003c\u003c \"out Error opening file!\" \u003c\u003c std::endl; return 1; } fin \u003e\u003e mstr; // ä» in.txt è¯»å–ä¸€ä¸ªå­—ç¬¦ä¸²å­˜å‚¨åˆ°msträ¸­ fout \u003c\u003c mstr \u003c\u003c endl; // å°† mstrçš„å†…å®¹å’Œæ¢è¡Œç¬¦è¾“å…¥åˆ° output.txt ä¸­ fin.close(); fout.close(); return 0; } ","date":"2024-08-07","objectID":"/posts/3b2b064/:11:5","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"äºŒè¿›åˆ¶æ–‡ä»¶çš„è¯»å–å’Œå†™å…¥\räºŒè¿›åˆ¶æ–‡ä»¶æ¯”æ–‡æœ¬æ–‡ä»¶æ›´åŠ å®¹æ˜“æ£€ç´¢ã€ä¸”å­˜å‚¨ç›¸åŒå¤§å°çš„å†…å®¹æ—¶äºŒè¿›åˆ¶æ–‡ä»¶å ç”¨çš„ç©ºé—´æ›´å°ã€‚ å¯¹äºŒè¿›åˆ¶æ–‡ä»¶çš„è¯»å†™åªèƒ½ä½¿ç”¨æ–‡ä»¶æµç±»çš„ read() å’Œ write() æˆå‘˜å‡½æ•°ã€‚ write() çš„åŸå‹ä¸ºï¼š ostream \u0026 write(char* buffer, int count); è¯¥æˆå‘˜å‡½æ•°ç”¨äºå°†buffer ä¸­çš„å‰ count ä¸ªå­—èŠ‚å†™å…¥åˆ°æ–‡ä»¶ä¸­å»ï¼Œä»æ–‡ä»¶å†™æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®å¼€å§‹å†™ã€‚è¿”å›å€¼æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡çš„å¼•ç”¨ã€‚ è¯»æŒ‡é’ˆå’Œå†™æŒ‡é’ˆ æ–‡ä»¶ä¸­é€šå¸¸æœ‰è¯»æŒ‡é’ˆï¼ˆread pointerï¼‰å’Œå†™æŒ‡é’ˆï¼ˆwrite pointerï¼‰ï¼Œå®ƒä»¬åˆ†åˆ«ç”¨äºè·Ÿè¸ªæ–‡ä»¶å†…å®¹çš„è¯»å–å’Œå†™å…¥ä½ç½®ã€‚ è¯»æŒ‡é’ˆï¼š å½“æ–‡ä»¶ä»¥è¯»å–æ¨¡å¼æ‰“å¼€æ—¶ï¼Œè¯»æŒ‡é’ˆæŒ‡å‘æ–‡ä»¶çš„å½“å‰è¯»å–ä½ç½®ã€‚éšç€æ•°æ®çš„è¯»å–ï¼Œè¯»æŒ‡é’ˆä¼šç›¸åº”åœ°å‘å‰ç§»åŠ¨ã€‚å¦‚æœåˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼Œè¯»æŒ‡é’ˆä¼šä¿æŒåœ¨æ–‡ä»¶æœ«å°¾çš„ä½ç½®ã€‚ å†™æŒ‡é’ˆï¼š å½“æ–‡ä»¶ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€æ—¶ï¼Œå†™æŒ‡é’ˆæŒ‡å‘æ–‡ä»¶çš„å½“å‰å†™å…¥ä½ç½®ã€‚å†™å…¥æ•°æ®æ—¶ï¼Œå†™æŒ‡é’ˆä¼šæ ¹æ®å†™å…¥çš„æ•°æ®é‡å‘å‰ç§»åŠ¨ã€‚å¦‚æœæ–‡ä»¶æ˜¯æ–°åˆ›å»ºçš„æˆ–è¢«æ¸…ç©ºçš„ï¼Œå†™æŒ‡é’ˆé€šå¸¸ä»æ–‡ä»¶çš„å¼€å§‹ä½ç½®å†™å…¥ï¼›å¦‚æœæ˜¯è¿½åŠ æ¨¡å¼ï¼Œå†™æŒ‡é’ˆä¼šç§»åŠ¨åˆ°æ–‡ä»¶çš„æœ«å°¾ã€‚ åœ¨å¯ä»¥åŒæ—¶è¿›è¡Œè¯»å†™æ“ä½œçš„æ–‡ä»¶æµï¼ˆå¦‚ fstreamï¼‰ä¸­ï¼Œè¯»æŒ‡é’ˆå’Œå†™æŒ‡é’ˆå¯ä»¥åŒæ—¶å­˜åœ¨ã€‚å®ƒä»¬å¯ä»¥ç‹¬ç«‹æ“ä½œï¼Œåˆ†åˆ«ç”¨äºè¯»å–å’Œå†™å…¥æ•°æ®ã€‚ ç›´æ¥çœ‹ç¤ºä¾‹ï¼š #include \u003ciostream\u003e #include \u003cfstream\u003e using namespace std; class CStudent { public: char szName[20]; int age; }; int main() { CStudent s; ofstream outFile(\"students.dat\", ios::out | ios::binary); // ä»¥äºŒè¿›åˆ¶çš„å½¢å¼æ‰“å¼€æ–‡ä»¶ while (cin \u003e\u003e s.szName \u003e\u003e s.age) outFile.write((char *)\u0026s, sizeof(s)); // å°†å†…å®¹è¾“å…¥åˆ° students.dat ä¸­ outFile.close(); // å…³é—­æ–‡ä»¶ return 0; } å¦‚æœç”¨è®°äº‹æœ¬ç¨‹åºæ‰“å¼€è¯¥æ–‡ä»¶ï¼Œåˆ™ä¼šå‘ˆç°ä¹±ç ã€‚ read()çš„åŸå‹å¦‚ä¸‹ï¼š istream \u0026 read(char* buffer, int count); è¯¥æˆå‘˜å‡½æ•°çš„ä½œç”¨æ˜¯ä»æ–‡ä»¶çš„è¯»æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®å¼€å§‹è¯»å– count ä¸ªå­—èŠ‚çš„å†…å®¹åˆ° buffer ä¸­ã€‚è¿”å›å€¼æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡çš„å¼•ç”¨ã€‚ å¦‚æœæƒ³è¦çŸ¥é“æœ€ç»ˆè¯»å–çš„å­—èŠ‚æ•°ï¼Œå¯ä»¥åœ¨è°ƒç”¨read()å‡½æ•°åè°ƒç”¨ gcount()ã€‚ å°†ä¸Šé¢çš„students.datæ–‡ä»¶ä¸­çš„å†…å®¹è¯»å–å‡ºæ¥å¹¶è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚ #include \u003ciostream\u003e #include \u003cfstream\u003e using namespace std; class CStudent { public: char szName[20]; int age; }; int main() { CStudent s; ifstream inFile(\"students.dat\",ios::in|ios::binary); //äºŒè¿›åˆ¶è¯»æ–¹å¼æ‰“å¼€ if(!inFile.is_open()) { cout \u003c\u003c \"error\" \u003c\u003cendl; return 0; } while(inFile.read((char *)\u0026s, sizeof(s))) // æ¯æ¬¡è¯»å–ä¸€ä¸ªåŒå­¦çš„ä¿¡æ¯ { int readedBytes = inFile.gcount(); // è·å–åˆšæ‰è¯»å–çš„å­—èŠ‚æ•° cout \u003c\u003c s.szName \u003c\u003c \" \" \u003c\u003c s.age \u003c\u003c endl; // è¾“å‡ºåˆ°æ§åˆ¶å° } inFile.close(); // å…³é—­æ–‡ä»¶ return 0; } å¦‚æœæ¯æ¬¡åªæƒ³è¯»å–æˆ–å†™å…¥ä¸€ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨get()å’Œput()æˆå‘˜å‡½æ•°ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:11:6","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç§»åŠ¨æˆ–è·å–æ–‡ä»¶è¯»å†™æŒ‡é’ˆ\råœ¨è¯»å†™æ–‡ä»¶æ—¶ï¼Œæœ‰æ—¶å¸Œæœ›ç›´æ¥è·³åˆ°æ–‡ä»¶ä¸­çš„æŸå¤„å¼€å§‹è¯»å†™ï¼Œè¿™å°±éœ€è¦å…ˆå°†æ–‡ä»¶çš„è¯»å†™æŒ‡é’ˆæŒ‡å‘è¯¥å¤„ï¼Œç„¶åå†è¿›è¡Œè¯»å†™ã€‚ ifstream ç±»å’Œ fstream ç±»æœ‰ seekg æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥è®¾ç½®æ–‡ä»¶è¯»æŒ‡é’ˆçš„ä½ç½®ï¼› ofstream ç±»å’Œ fstream ç±»æœ‰ seekp æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥è®¾ç½®æ–‡ä»¶å†™æŒ‡é’ˆçš„ä½ç½®ã€‚ æ‰€è°“â€œä½ç½®â€ï¼Œå°±æ˜¯æŒ‡ ã€Œè·ç¦»æ–‡ä»¶å¼€å¤´æœ‰å¤šå°‘ä¸ªå­—èŠ‚ã€ã€‚æ–‡ä»¶å¼€å¤´çš„ä½ç½®æ˜¯ 0ã€‚ è¿™ä¸¤ä¸ªå‡½æ•°çš„åŸå‹å¦‚ä¸‹ï¼š ostream \u0026 seekp (int offset, int mode); istream \u0026 seekg (int offset, int mode); mode ä»£è¡¨æ–‡ä»¶è¯»å†™æŒ‡é’ˆçš„è®¾ç½®æ¨¡å¼ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§é€‰é¡¹ï¼š ios::begï¼šè®©æ–‡ä»¶è¯»æŒ‡é’ˆï¼ˆæˆ–å†™æŒ‡é’ˆï¼‰æŒ‡å‘ä»æ–‡ä»¶å¼€å§‹å‘åçš„ offset å­—èŠ‚å¤„ã€‚offset ç­‰äº 0 å³ä»£è¡¨æ–‡ä»¶å¼€å¤´ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œoffset åªèƒ½æ˜¯éè´Ÿæ•°ã€‚ ios::curï¼šåœ¨æ­¤æƒ…å†µä¸‹ï¼Œoffset ä¸ºè´Ÿæ•°åˆ™è¡¨ç¤ºå°†è¯»æŒ‡é’ˆï¼ˆæˆ–å†™æŒ‡é’ˆï¼‰ä»å½“å‰ä½ç½®æœæ–‡ä»¶å¼€å¤´æ–¹å‘ç§»åŠ¨ offset å­—èŠ‚ï¼Œä¸ºæ­£æ•°åˆ™è¡¨ç¤ºå°†è¯»æŒ‡é’ˆï¼ˆæˆ–å†™æŒ‡é’ˆï¼‰ä»å½“å‰ä½ç½®æœæ–‡ä»¶å°¾éƒ¨ç§»åŠ¨ offsetå­—èŠ‚ï¼Œä¸º 0 åˆ™ä¸ç§»åŠ¨ã€‚ ios::endï¼šè®©æ–‡ä»¶è¯»æŒ‡é’ˆï¼ˆæˆ–å†™æŒ‡é’ˆï¼‰æŒ‡å‘ä»æ–‡ä»¶ç»“å°¾å¾€å‰çš„ |offset|ï¼ˆoffset çš„ç»å¯¹å€¼ï¼‰å­—èŠ‚å¤„ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œoffset åªèƒ½æ˜¯ 0 æˆ–è€…è´Ÿæ•°ã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¾—åˆ°å½“å‰è¯»å†™æŒ‡é’ˆçš„å…·ä½“ä½ç½®ï¼š ifstream ç±»å’Œ fstream ç±»è¿˜æœ‰ tellg æˆå‘˜å‡½æ•°ï¼Œèƒ½å¤Ÿè¿”å›æ–‡ä»¶è¯»æŒ‡é’ˆçš„ä½ç½® ofstream ç±»å’Œ fstream ç±»è¿˜æœ‰ tellp æˆå‘˜å‡½æ•°ï¼Œèƒ½å¤Ÿè¿”å›æ–‡ä»¶å†™æŒ‡é’ˆçš„ä½ç½®ã€‚ è¿”å›å€¼ä¸ºå½“å‰æŒ‡é’ˆè·ç¦»æ–‡ä»¶å¤´çš„å­—èŠ‚æ•°ï¼Œå³åç§»é‡ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:11:7","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"ç°ä»£C++æ•™ç¨‹\rä¸€èˆ¬å­¦å®Œä¸Šé¢çš„çŸ¥è¯†å°±å¤Ÿç”¨äº†ã€‚å¦‚æœä½ æƒ³å­¦ä¹ æ›´æ–°çš„ç‰¹æ€§ï¼Œæ¯”å¦‚C++14åçš„æ–°ç‰¹æ€§ï¼Œå¯å»æ­¤ç½‘ç«™è¿›è¡Œå­¦ä¹ ã€‚ ","date":"2024-08-07","objectID":"/posts/3b2b064/:12:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["C++"],"content":"å‚è€ƒèµ„æ–™\rhttps://www.54benniao.com/view/6396.html https://learn-cpp.guyutongxue.site/ch01/assignment_and_if.html https://docs.oldtimes.me/c.biancheng.net/view/2264.html https://www.rowlet.info/post/7#1.%20static_cast Kimi ai ChatGPT C++ Primer(ä¸­æ–‡ç‰ˆï¼Œç¬¬5ç‰ˆ) ","date":"2024-08-07","objectID":"/posts/3b2b064/:13:0","tags":["ç¬”è®°"],"title":"C++å­¦ä¹ ç¬”è®°","uri":"/posts/3b2b064/"},{"categories":["iEDA"],"content":"è„šæœ¬åˆ›å»º\råœ¨å•ç‹¬è¿è¡Œç‚¹å·¥å…·å‰å¿…é¡»é…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œåœ¨iEDAç›®å½•/iEDA/scripts/design/sky130_gcdä¸‹ä½¿ç”¨å‘½ä»¤touchåˆ›å»ºä¸€ä¸ª.shè„šæœ¬ï¼Œå†…å®¹å¦‚ä¸‹: #!/bin/bash CURRENT_DIR=\"$(pwd)\" export CONFIG_DIR=\"$CURRENT_DIR/iEDA_config\" export RESULT_DIR=\"$CURRENT_DIR/result/my_test_result\" export TCL_SCRIPT_DIR=\"$CURRENT_DIR/script\" export NETLIST_FILE=\"$CURRENT_DIR/result/verilog/gcd.v\" export FOUNDRY_DIR=\"$CURRENT_DIR/../../foundry/sky130\" export SPEF_FILE=\"$CURRENT_DIR/../../foundry/sky130/spef/gcd.spef\" export SDC_FILE=\"$CURRENT_DIR/../../foundry/sky130/sdc/gcd.sdc\" export DESIGN_TOP=\"gcd\" export DIE_AREA=\"0.0 0.0 149.96 150.128\" export CORE_AREA=\"9.996 10.08 139.964 140.048\" echo \"CONFIG_DIR set to: $CONFIG_DIR\" echo \"RESULT_DIR set to: $RESULT_DIR\" echo \"TCL_SCRIPT_DIR set to: $TCL_SCRIPT_DIR\" echo \"NETLIST_FILE set to: $NETLIST_FILE\" echo \"FOUNDRY_DIR set to: $FOUNDRY_DIR\" echo \"SPEF_FILE set to: $SPEF_FILE\" echo \"SDC_FILE set to: $SDC_FILE\" echo \"DESIGN_TOP set to: $DESIGN_TOP\" echo \"DIE_AREA set to: $DIE_AREA\" echo \"CORE_AREA set to: $CORE_AREA\" ","date":"2024-08-02","objectID":"/posts/3b24a9e/:1:0","tags":["ç‚¹å·¥å…·","æ•™ç¨‹"],"title":"iEDAç‚¹å·¥å…·è¿è¡Œå‰ç¯å¢ƒå˜é‡è®¾ç½®","uri":"/posts/3b24a9e/"},{"categories":["iEDA"],"content":"ç‚¹å·¥å…·è¿è¡Œ\rè¿è¡Œç‚¹å·¥å…·å‰ï¼Œåœ¨å½“å‰çª—å£ä½¿ç”¨å‘½ä»¤ source è„šæœ¬å.sh æ¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç„¶åæŒ‰ç…§iEDAçš„ç”¨æˆ·æ‰‹å†Œæ¥è¿è¡Œç‚¹å·¥å…·å³å¯ PSï¼š è®¾ç½®çš„ç¯å¢ƒå˜é‡åªåœ¨å½“å‰çª—å£æœ‰æ•ˆï¼Œå³åœ¨æ–°çª—å£è¿è¡Œç‚¹å·¥å…·å‰éœ€è¦å†æ¬¡è¿è¡Œè„šæœ¬æ¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¦‚æœæƒ³è¦ä½¿å¾—å˜é‡åœ¨å…¨éƒ¨çª—å£æœ‰æ•ˆè¯·è‡ªè¡Œè°·æ­Œã€‚ ","date":"2024-08-02","objectID":"/posts/3b24a9e/:2:0","tags":["ç‚¹å·¥å…·","æ•™ç¨‹"],"title":"iEDAç‚¹å·¥å…·è¿è¡Œå‰ç¯å¢ƒå˜é‡è®¾ç½®","uri":"/posts/3b24a9e/"},{"categories":["iEDA"],"content":"å‚è€ƒèµ„æ–™\rhttps://github.com/OSCC-Project/iEDA/blob/master/docs/user_guide/iEDA_user_guide.md ","date":"2024-08-02","objectID":"/posts/3b24a9e/:3:0","tags":["ç‚¹å·¥å…·","æ•™ç¨‹"],"title":"iEDAç‚¹å·¥å…·è¿è¡Œå‰ç¯å¢ƒå˜é‡è®¾ç½®","uri":"/posts/3b24a9e/"},{"categories":["ç®—æ³•"],"content":"ä½¿ç”¨åŠ¨æ€è§„åˆ’è§£å†³é›¶é’±å…‘æ¢é—®é¢˜","date":"2024-07-29","objectID":"/posts/bd6092d/","tags":["åŠ¨æ€è§„åˆ’"],"title":"322. é›¶é’±å…‘æ¢","uri":"/posts/bd6092d/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®æè¿°(åŠ›æ‰£): ä»€ä¹ˆæ˜¯æœ€ä¼˜å­ç»“æ„ æœ€ä¼˜å­ç»“æ„æŒ‡çš„æ˜¯ï¼Œé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å­é—®é¢˜çš„æœ€ä¼˜è§£ã€‚åè¿‡æ¥è¯´å°±æ˜¯ï¼Œå¯ä»¥é€šè¿‡å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œæ¨å¯¼å‡ºé—®é¢˜çš„æœ€ä¼˜è§£ã€‚è¦ç¬¦åˆã€Œæœ€ä¼˜å­ç»“æ„ã€ï¼Œå­é—®é¢˜é—´å¿…é¡»äº’ç›¸ç‹¬ç«‹ã€‚ æ¯”å¦‚è¯´ï¼Œå‡è®¾ä½ è€ƒè¯•ï¼Œæ¯é—¨ç§‘ç›®çš„æˆç»©éƒ½æ˜¯äº’ç›¸ç‹¬ç«‹çš„ã€‚ä½ çš„åŸé—®é¢˜æ˜¯è€ƒå‡ºæœ€é«˜çš„æ€»æˆç»©ï¼Œé‚£ä¹ˆä½ çš„å­é—®é¢˜å°±æ˜¯è¦æŠŠè¯­æ–‡è€ƒåˆ°æœ€é«˜ï¼Œæ•°å­¦è€ƒåˆ°æœ€é«˜â€¦â€¦ ä¸ºäº†æ¯é—¨è¯¾è€ƒåˆ°æœ€é«˜ï¼Œä½ è¦æŠŠæ¯é—¨è¯¾ç›¸åº”çš„é€‰æ‹©é¢˜åˆ†æ•°æ‹¿åˆ°æœ€é«˜ï¼Œå¡«ç©ºé¢˜åˆ†æ•°æ‹¿åˆ°æœ€é«˜â€¦â€¦ å½“ç„¶ï¼Œæœ€ç»ˆå°±æ˜¯ä½ æ¯é—¨è¯¾éƒ½æ˜¯æ»¡åˆ†ï¼Œè¿™å°±æ˜¯æœ€é«˜çš„æ€»æˆç»©ã€‚ å¾—åˆ°äº†æ­£ç¡®çš„ç»“æœï¼šæœ€é«˜çš„æ€»æˆç»©å°±æ˜¯æ€»åˆ†ã€‚å› ä¸ºè¿™ä¸ªè¿‡ç¨‹ç¬¦åˆæœ€ä¼˜å­ç»“æ„ï¼Œã€Œæ¯é—¨ç§‘ç›®è€ƒåˆ°æœ€é«˜ã€è¿™äº›å­é—®é¢˜æ˜¯äº’ç›¸ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰°çš„ã€‚ ä½†æ˜¯ï¼Œå¦‚æœåŠ ä¸€ä¸ªæ¡ä»¶ï¼šä½ çš„è¯­æ–‡æˆç»©å’Œæ•°å­¦æˆç»©ä¼šäº’ç›¸åˆ¶çº¦ï¼Œä¸èƒ½åŒæ—¶è¾¾åˆ°æ»¡åˆ†ï¼Œæ•°å­¦åˆ†æ•°é«˜ï¼Œè¯­æ–‡åˆ†æ•°å°±ä¼šé™ä½ï¼Œåä¹‹äº¦ç„¶ã€‚ è¿™æ ·çš„è¯ï¼Œæ˜¾ç„¶ä½ èƒ½è€ƒåˆ°çš„æœ€é«˜æ€»æˆç»©å°±è¾¾ä¸åˆ°æ€»åˆ†äº†ï¼ŒæŒ‰åˆšæ‰é‚£ä¸ªæ€è·¯å°±ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€‚å› ä¸ºã€Œæ¯é—¨ç§‘ç›®è€ƒåˆ°æœ€é«˜ã€çš„å­é—®é¢˜å¹¶ä¸ç‹¬ç«‹ï¼Œè¯­æ–‡æ•°å­¦æˆç»©æˆ·äº’ç›¸å½±å“ï¼Œæ— æ³•åŒæ—¶æœ€ä¼˜ï¼Œæ‰€ä»¥æœ€ä¼˜å­ç»“æ„è¢«ç ´åã€‚ æ€è·¯: é¢˜ç›®è¯´æ˜äº†æ¯ç§ç¡¬å¸æ•°é‡æ— é™ï¼Œæ‰€ä»¥è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„ï¼Œå¯ä»¥ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³ã€‚ç¡®å®šå¥½ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³åï¼Œå…ˆç¡®å®šdpæ•°ç»„çš„æ„ä¹‰ï¼Œè¿™é‡Œdp[i]å­˜å‚¨çš„å€¼å°±æ˜¯æ€»é‡‘é¢ä¸ºiçš„æœ€ä¼˜è§£ã€‚æ¥ä¸‹æ¥æœ€é‡è¦çš„äº‹æƒ…å°±æ˜¯æ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œdp[0] = 0ï¼Œå½“amountå¤§äº0æ—¶ï¼Œæˆ‘ä»¬åªéœ€éå†ç»™å‡ºçš„coinsæ•°ç»„æ‰¾åˆ° dp[amount - coin_value] + 1 ä¸­çš„æœ€å°å€¼å³å¯(é¿å…è¶Šç•Œï¼Œéœ€è¦å…ˆåˆ¤æ–­coin_valueæ˜¯å¦å°äºamount)ï¼ŒåŠ ä¸€æ˜¯å› ä¸ºè¦åŠ ä¸Šä¸€ä¸ªé¢å€¼ä¸ºcoin_valueçš„ç¡¬å¸ã€‚ ä»£ç : class Solution { public: int coinChange(vector\u003cint\u003e\u0026 coins, int amount) { vector\u003cint\u003e dp(amount + 1, INT_MAX - 1); //åˆå§‹åŒ–dpæ•°ç»„ï¼Œåˆå§‹å€¼ä¸ºINT_MAX - 1æ˜¯å› ä¸ºåé¢æœ‰dp[i - value] + 1æ“ä½œï¼Œéœ€è¦é¿å…æ•´å½¢æº¢å‡º dp[0] = 0; //å·²çŸ¥çš„æœ€ä¼˜è§£ for(int i = 1; i \u003c= amount; i++) { for(int value : coins) //éå†æ¯ç§ç¡¬å¸ { if(i - value \u003c 0) continue; //è¿›è¡Œåˆ¤æ–­æ˜¯ä¸ºäº†é¿å…è¶Šç•Œ dp[i] = min(dp[i], dp[i - value] + 1); //æ‰¾åˆ°æ€»é‡‘é¢ä¸º i æ—¶çš„æœ€ä¼˜è§£ } } return dp[amount] == (INT_MAX - 1) ? -1: dp[amount]; } }; ","date":"2024-07-29","objectID":"/posts/bd6092d/:0:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"322. é›¶é’±å…‘æ¢","uri":"/posts/bd6092d/"},{"categories":["ç®—æ³•"],"content":"ä½¿ç”¨ååºéå†è®¡ç®—æ ‘çš„ç›´å¾„","date":"2024-07-25","objectID":"/posts/b92556f/","tags":["äºŒå‰æ ‘","ååºéå†"],"title":"543. äºŒå‰æ ‘çš„ç›´å¾„","uri":"/posts/b92556f/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®æè¿°(åŠ›æ‰£): æ€è·¯: é¦–å…ˆç†è§£äºŒå‰æ ‘çš„ç›´å¾„æŒ‡çš„æ˜¯äºŒå‰æ ‘ä¸­ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦çš„æœ€å¤§å€¼(æœ€é•¿ç›´å¾„ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹)ã€‚æƒ³è¦æ‰¾åˆ°äºŒå‰æ ‘çš„ç›´å¾„ï¼Œå°±éœ€è¦éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œä¾æ¬¡è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘æ·±åº¦ä¹‹å’Œï¼Œå…¶ä¸­çš„æœ€å¤§å€¼å°±æ˜¯äºŒå‰æ ‘çš„ç›´å¾„ã€‚å› ä¸ºäºŒå‰æ ‘çš„ç›´å¾„å¤§å¤šæ•°æƒ…å†µä¸‹å°±æ˜¯æ ¹èŠ‚ç‚¹ä¸‹çš„å·¦å³å­æ ‘æ·±åº¦ä¹‹å’Œï¼Œä½†å­˜åœ¨ç›´å¾„ä¸ç»è¿‡æ ¹èŠ‚ç‚¹çš„æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œè®¡ç®—ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„äºŒå‰æ ‘çš„ç›´å¾„ï¼Œç„¶åå–è®¡ç®—ç»“æœä¸­çš„æœ€å¤§å€¼ã€‚æ ¹æ®å‰é¢çš„åˆ†æï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—å·¦å³å­æ ‘æ·±åº¦ä¹‹å’Œï¼Œè¿™å°±éœ€è¦å·¦å³å­æ ‘çš„ä¿¡æ¯ï¼Œæ‰€ä»¥é€‰æ‹©ååºéå†ã€‚ ä»£ç : /** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: int diameterOfBinaryTree(TreeNode* root) { maxDepth(root); return maxDia; } int maxDepth(TreeNode* root) { if(root == nullptr) return 0; int lefth_h = maxDepth(root-\u003eleft); int right_h = maxDepth(root-\u003eright); int Dia = lefth_h + right_h; //è®¡ç®—å½“å‰äºŒå‰æ ‘çš„ç›´å¾„ maxDia = max(maxDia, Dia); return lefth_h \u003e right_h? lefth_h + 1: right_h + 1; //è¿”å›å­æ ‘é«˜åº¦ } private: int maxDia = -1; //ç”¨äºå­˜å‚¨äºŒå‰æ ‘ç›´å¾„ }; ","date":"2024-07-25","objectID":"/posts/b92556f/:0:0","tags":["äºŒå‰æ ‘","ååºéå†"],"title":"543. äºŒå‰æ ‘çš„ç›´å¾„","uri":"/posts/b92556f/"},{"categories":["ç®—æ³•"],"content":"ä½¿ç”¨åŒæŒ‡é’ˆè¿›è¡Œå•é“¾è¡¨çš„åˆ†è§£","date":"2024-07-22","objectID":"/posts/6fc9142/","tags":["åŒæŒ‡é’ˆ","é“¾è¡¨"],"title":"86. åˆ†éš”é“¾è¡¨","uri":"/posts/6fc9142/"},{"categories":["ç®—æ³•"],"content":"é¢˜ç›®æè¿°(åŠ›æ‰£): æ€è·¯: åˆ›é€ ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘å¤§äºxçš„é“¾è¡¨å’Œå°äºxçš„é“¾è¡¨ï¼Œç„¶åä¾æ¬¡éå†åˆå§‹é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­å°†å…¶æ·»åŠ åˆ°å¯¹åº”çš„æ–°é“¾è¡¨ä¸­ï¼Œæœ€åå°†ä¸¤ä¸ªé“¾æ¥è¿›è¡Œè¿æ¥åè¿”å›ã€‚ ä»£ç : /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode() : val(0), next(nullptr) {} * ListNode(int x) : val(x), next(nullptr) {} * ListNode(int x, ListNode *next) : val(x), next(next) {} * }; */ class Solution { public: ListNode* partition(ListNode* head, int x) { ListNode *h1 = new ListNode(-1); //æŒ‡å‘å°äºxçš„èŠ‚ç‚¹ç»„æˆçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ ListNode *h2 = new ListNode(-1); //æŒ‡å‘å¤§äºxçš„èŠ‚ç‚¹ç»„æˆçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ ListNode *t1, *t2; //åˆ†åˆ«æŒ‡å‘å„è‡ªé“¾è¡¨çš„å°¾ç»“ç‚¹ t1 = h1; t2 = h2; while(head != nullptr) //éå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œä¸xè¿›è¡Œæ¯”è¾ƒ { if(head-\u003eval \u003c x) { t1-\u003enext = head; t1 = head; } else { t2-\u003enext = head; t2 = head; } head = head-\u003enext; } t1-\u003enext = h2-\u003enext; //å°†ä¸¤ä¸ªé“¾è¡¨è¿›è¡Œè¿æ¥ t2-\u003enext = nullptr; return h1-\u003enext; } }; ","date":"2024-07-22","objectID":"/posts/6fc9142/:0:0","tags":["åŒæŒ‡é’ˆ","é“¾è¡¨"],"title":"86. åˆ†éš”é“¾è¡¨","uri":"/posts/6fc9142/"},{"categories":["Markdown"],"content":"Markdownå¸¸ç”¨çš„ä¸€äº›è¯­æ³•","date":"2024-07-21","objectID":"/posts/d43ba28/","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"ä»£ç \r","date":"2024-07-21","objectID":"/posts/d43ba28/:1:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"è¡Œå†…ä»£ç \ræ ¼å¼ï¼šË‹ä»£ç å†…å®¹Ë‹ ","date":"2024-07-21","objectID":"/posts/d43ba28/:1:1","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"å—å†…ä»£ç \ræ ¼å¼ï¼š Ë‹Ë‹Ë‹markdown Sample text here ... Ë‹Ë‹Ë‹ ","date":"2024-07-21","objectID":"/posts/d43ba28/:1:2","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"æ ‡é¢˜\ræ ¼å¼ï¼š # ä¸€çº§æ ‡é¢˜ ## äºŒçº§æ ‡é¢˜ ... ###### å…­çº§æ ‡é¢˜ ","date":"2024-07-21","objectID":"/posts/d43ba28/:2:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"æ°´å¹³çº¿\ræ ¼å¼ï¼š æ°´å¹³çº¿æœ‰ä¸‰ç§å®ç°æ–¹å¼: ___:ä¸‰ä¸ªè¿ç»­çš„ä¸‹åˆ’çº¿ ---:ä¸‰ä¸ªè¿ç»­çš„ç ´æŠ˜å· ***:ä¸‰ä¸ªè¿ç»­çš„æ˜Ÿå· ","date":"2024-07-21","objectID":"/posts/d43ba28/:3:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"æ¢è¡Œ\r","date":"2024-07-21","objectID":"/posts/d43ba28/:4:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"åˆ†è¡Œ\ræ ¼å¼ï¼šä¸¤ä¸ªç©ºæ ¼ + å›è½¦ æˆ– ä½¿ç”¨\u003cbr\u003e ","date":"2024-07-21","objectID":"/posts/d43ba28/:4:1","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"åˆ†æ®µ\ræ ¼å¼ï¼šä¸¤ä¸ªå›è½¦ ","date":"2024-07-21","objectID":"/posts/d43ba28/:4:2","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"å¼ºè°ƒ\r","date":"2024-07-21","objectID":"/posts/d43ba28/:5:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"ç²—ä½“\ræ ¼å¼ï¼š**åŠ ç²—çš„å†…å®¹** ä¹Ÿå¯ä»¥é€‰æ‹©éœ€è¦åŠ ç²—çš„å†…å®¹åä½¿ç”¨å¿«æ·é”®Ctrl + B ","date":"2024-07-21","objectID":"/posts/d43ba28/:5:1","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"æ–œä½“\ræ ¼å¼ï¼š*å€¾æ–œçš„å†…å®¹* æˆ– _å€¾æ–œçš„å†…å®¹_ ä¹Ÿå¯ä»¥é€‰æ‹©éœ€è¦åŠ ç²—çš„å†…å®¹åä½¿ç”¨å¿«æ·é”®Ctrl + I ","date":"2024-07-21","objectID":"/posts/d43ba28/:5:2","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"åˆ é™¤çº¿\ræ ¼å¼ï¼š~~å€¾æ–œçš„å†…å®¹~~ ","date":"2024-07-21","objectID":"/posts/d43ba28/:5:3","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"ç»„åˆä½¿ç”¨\r_**åŠ ç²—å’Œæ–œä½“**_ ~~**åˆ é™¤çº¿å’ŒåŠ ç²—**~~ ~~_åˆ é™¤çº¿å’Œæ–œä½“_~~ ~~_**åŠ ç²—ï¼Œæ–œä½“å’Œåˆ é™¤çº¿**_~~ ","date":"2024-07-21","objectID":"/posts/d43ba28/:5:4","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"å¼•ç”¨\ræ ¼å¼ï¼š\u003e + ç©ºæ ¼ + å¼•ç”¨çš„å†…å®¹ ä¾‹å¦‚ï¼š \u003e **Fusion Drive** combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined. ","date":"2024-07-21","objectID":"/posts/d43ba28/:6:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"åˆ—è¡¨\r","date":"2024-07-21","objectID":"/posts/d43ba28/:7:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"æ— åºåˆ—è¡¨\ræ ¼å¼ï¼š æ— åºåˆ—è¡¨æœ‰ä¸‰ç§å®ç°æ–¹å¼ * ä¸€é¡¹å†…å®¹ - ä¸€é¡¹å†…å®¹ + ä¸€é¡¹å†…å®¹ ä¾‹å¦‚ï¼š * Lorem ipsum dolor sit amet * Consectetur adipiscing elit * Integer molestie lorem at massa * Facilisis in pretium nisl aliquet * Nulla volutpat aliquam velit * Phasellus iaculis neque * Purus sodales ultricies * Vestibulum laoreet porttitor sem * Ac tristique libero volutpat at * Faucibus porta lacus fringilla vel * Aenean sit amet erat nunc * Eget porttitor lorem ","date":"2024-07-21","objectID":"/posts/d43ba28/:7:1","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"æœ‰åºåˆ—è¡¨\ræ ¼å¼ï¼š1. + ç©ºæ ¼ å¤‡æ³¨ï¼šå¦‚æœå¯¹æ¯ä¸€é¡¹éƒ½ä½¿ç”¨1. ï¼ŒMarkdownä¼šè‡ªåŠ¨ä¸ºæ¯ä¸€é¡¹ç¼–å· ","date":"2024-07-21","objectID":"/posts/d43ba28/:7:2","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"ä»»åŠ¡åˆ—è¡¨\ræ ¼å¼ï¼š- [] è¿™æ˜¯å†…å®¹ æˆ– - [x] è¿™æ˜¯å†…å®¹ æ•ˆæœï¼š Write the press release Update the website Contact the media ","date":"2024-07-21","objectID":"/posts/d43ba28/:7:3","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"è¡¨æ ¼ æ ¼å¼: | Option | Description | | ------ | ----------- | | data | path to data files to supply the data that will be passed into templates. | | engine | engine to be used for processing templates. Handlebars is the default. | | ext | extension to be used for dest files. | æ•ˆæœï¼š Option Description data path to data files to supply the data that will be passed into templates. engine engine to be used for processing templates. Handlebars is the default. ext extension to be used for dest files. å¤‡æ³¨ï¼šç«–çº¿æ— éœ€å‚ç›´å¯¹é½ï¼Œ------:è¡¨ç¤ºè¿™ä¸€åˆ—çš„å†…å®¹å³å¯¹é½ï¼Œ:------è¡¨ç¤ºè¿™ä¸€åˆ—çš„å†…å®¹å·¦å¯¹é½ï¼Œ:------:è¡¨ç¤ºè¿™ä¸€åˆ—çš„å†…å®¹å±…ä¸­å¯¹é½ ","date":"2024-07-21","objectID":"/posts/d43ba28/:8:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"é“¾æ¥\r","date":"2024-07-21","objectID":"/posts/d43ba28/:9:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"å¸¸ç”¨é“¾æ¥æ–¹å¼\ræ ¼å¼ï¼š \u003chttps://assemble.io\u003e \u003ccontact@revolunet.com\u003e [Assemble](https://assemble.io) æ¨èæ­¤æ–¹å¼è¿›è¡Œé“¾æ¥ æ•ˆæœï¼š https://assemble.io contact@revolunet.com Assemble ","date":"2024-07-21","objectID":"/posts/d43ba28/:9:1","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"å®šä½æ ‡è®°\rå®šä½æ ‡è®°ä½¿ä½ å¯ä»¥è·³è‡³åŒä¸€é¡µé¢ä¸Šçš„æŒ‡å®šé”šç‚¹ã€‚ä¾‹å¦‚ï¼Œæ¯ä¸ªç« èŠ‚ã€‚æ ¼å¼ï¼š [è·³è½¬åˆ°Chapter 1](#chapter-1) [è·³è½¬åˆ°Chapter 2](#chapter-2) [è·³è½¬åˆ°Chapter 3](#chapter-3) å°†è·³è½¬åˆ°è¿™äº›åœ°æ–¹ï¼š ## Chapter 1 \u003ca id=\"chapter-1\"\u003e\u003c/a\u003e Content for chapter one. ## Chapter 2 \u003ca id=\"chapter-2\"\u003e\u003c/a\u003e Content for chapter one. ## Chapter 3 \u003ca id=\"chapter-3\"\u003e\u003c/a\u003e Content for chapter one. ä¾‹å¦‚ï¼šç‚¹å‡»è·³è½¬åˆ°Chapter 1å°†è·³è½¬åˆ°è¡¨æ ¼ç« èŠ‚ï¼Œåªéœ€è¦ä½¿ç”¨ä¸Šé¢çš„è¯­æ³•åï¼Œåœ¨# è¡¨æ ¼åé¢åŠ ä¸Šä»£ç \u003ca id=\"chapter-1\"\u003e\u003c/a\u003eå³å¯ ","date":"2024-07-21","objectID":"/posts/d43ba28/:9:2","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"å›¾ç‰‡\ræ ¼å¼ï¼š![é¼ æ ‡ç§»åŠ¨åˆ°å›¾ç‰‡ä¸Šæ˜¾ç¤ºçš„æè¿°](å›¾ç‰‡è·¯å¾„) ","date":"2024-07-21","objectID":"/posts/d43ba28/:10:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Markdown"],"content":"è„šæ³¨\rè„šæ³¨ä½¿ä½ å¯ä»¥æ·»åŠ æ³¨é‡Šå’Œå‚è€ƒï¼Œè€Œä¸ä¼šä½¿æ–‡æ¡£æ­£æ–‡æ··ä¹±ã€‚ å½“ä½ åˆ›å»ºè„šæ³¨æ—¶ï¼Œä¼šåœ¨æ·»åŠ è„šæ³¨å¼•ç”¨çš„ä½ç½®å‡ºç°å¸¦æœ‰é“¾æ¥çš„ä¸Šæ ‡ç¼–å·ã€‚ è¯»è€…å¯ä»¥å•å‡»é“¾æ¥ä»¥è·³è‡³é¡µé¢åº•éƒ¨çš„è„šæ³¨å†…å®¹ã€‚ æ ¼å¼ï¼š è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨ [^1] è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨ [^label] ä¸‹é¢çš„æ˜¯ç‚¹å‡»ä¸Šé¢çš„è„šæ³¨åè·³è½¬æ˜¾ç¤ºçš„å†…å®¹ [^1]: è¿™æ˜¯ä¸€ä¸ªæ•°å­—è„šæ³¨ [^label]: è¿™æ˜¯ä¸€ä¸ªå¸¦æ ‡ç­¾çš„è„šæ³¨ æ•ˆæœï¼š å·´æ‹‰å·´æ‹‰å·´æ‹‰å·´æ‹‰å·´æ‹‰ 1 å¤‡æ³¨ï¼š è¦åˆ›å»ºè„šæ³¨å¼•ç”¨ï¼Œè¯·åœ¨æ–¹æ‹¬å·ä¸­æ·»åŠ æ’å…¥ç¬¦å·å’Œæ ‡è¯†ç¬¦ [^1]ã€‚ æ ‡è¯†ç¬¦å¯ä»¥æ˜¯æ•°å­—æˆ–å•è¯ï¼Œä½†ä¸èƒ½åŒ…å«ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ã€‚ æ ‡è¯†ç¬¦ä»…å°†è„šæ³¨å¼•ç”¨ä¸è„šæ³¨æœ¬èº«ç›¸å…³è”ã€‚åœ¨è„šæ³¨è¾“å‡ºä¸­ï¼Œè„šæ³¨æŒ‰é¡ºåºç¼–å·ã€‚ è¿™æ˜¯å‚è€ƒå†…å®¹æˆ–æ³¨é‡ŠÂ â†©ï¸ ","date":"2024-07-21","objectID":"/posts/d43ba28/:11:0","tags":["Markdown"],"title":"Markdownå¸¸ç”¨è¯­æ³•","uri":"/posts/d43ba28/"},{"categories":["Git"],"content":"Gitçš„åŸºç¡€çŸ¥è¯†","date":"2024-07-21","objectID":"/posts/a538cc4/","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"Gitæ¦‚è¿°\rGit æ˜¯ä¸€æ¬¾åˆ†å¸ƒå¼çš„ä»£ç ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ŒLinux ä¹‹çˆ¶ Linus å«Œå¼ƒå½“æ—¶ä¸»æµçš„ä¸­å¿ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·å¤ªéš¾ç”¨è¿˜è¦èŠ±é’±ï¼Œå°±è‡ªå·±èŠ±ä¸¤å‘¨æ—¶é—´å¼€å‘å‡ºäº† Git çš„ä¸»ä½“ç¨‹åºï¼Œä¸€ä¸ªæœˆåå°±å¼€å§‹ç”¨Gitæ¥ç»´æŠ¤ Linux çš„ç‰ˆæœ¬ï¼ˆç»™å¤§ä½¬è·ªäº†ï¼‰ã€‚ å¸¸è§çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·æœ‰ï¼šåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·å’Œé›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…· åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼š å·¥ä½œåŸç†ï¼š åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ä¸ä¾èµ–äºå•ä¸€çš„ä¸­å¤®æœåŠ¡å™¨ï¼Œæ¯ä¸ªå¼€å‘è€…éƒ½æ‹¥æœ‰å®Œæ•´çš„ä»£ç åº“çš„å‰¯æœ¬ã€‚å¼€å‘è€…åœ¨æœ¬åœ°å·¥ä½œå‰¯æœ¬ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå¹¶åœ¨æœ¬åœ°è¿›è¡Œæäº¤ã€åˆ†æ”¯ã€åˆå¹¶ç­‰æ“ä½œã€‚å¼€å‘è€…å¯ä»¥é€‰æ‹©ä¸å…¶ä»–å¼€å‘è€…ç›´æ¥äº¤æ¢ä¿®æ”¹çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥å°†ä¿®æ”¹æ¨é€åˆ°å…±äº«çš„è¿œç¨‹ä»“åº“ä¸­ã€‚ ç‰¹ç‚¹ï¼š æ¯ä¸ªå¼€å‘è€…éƒ½æ‹¥æœ‰å®Œæ•´çš„ä»£ç åº“çš„å‰¯æœ¬ï¼Œå¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ å…·æœ‰æ›´å¥½çš„åˆ†æ”¯å’Œåˆå¹¶åŠŸèƒ½ï¼Œèƒ½å¤Ÿè½»æ¾åœ°å¤„ç†å¤æ‚çš„å¼€å‘å·¥ä½œæµç¨‹ å…¸å‹çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·æœ‰Gitå’ŒMercurialç­‰ é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼š å·¥ä½œåŸç†ï¼š é›†ä¸­å¼ç‰ˆæœ¬ç®¡ç†å·¥å…·ä½¿ç”¨å•ä¸€çš„ä¸­å¤®æœåŠ¡å™¨æ¥å­˜å‚¨æ‰€æœ‰ç‰ˆæœ¬çš„ä»£ç åº“ã€‚å¼€å‘è€…åœ¨æœ¬åœ°å·¥ä½œå‰¯æœ¬ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œç„¶åå°†ä¿®æ”¹åçš„å†…å®¹æäº¤åˆ°ä¸­å¤®æœåŠ¡å™¨ã€‚å…¶ä»–å¼€å‘è€…é€šè¿‡ä»ä¸­å¤®æœåŠ¡å™¨æ£€å‡ºä»£ç åº“æ¥è·å–æœ€æ–°çš„ä»£ç ï¼Œå¹¶å°†ä»–ä»¬çš„ä¿®æ”¹æäº¤åˆ°åŒä¸€ä¸ªä¸­å¤®æœåŠ¡å™¨ä¸Šã€‚ ç‰¹ç‚¹ï¼š ä¸­å¤®æœåŠ¡å™¨æ˜¯å”¯ä¸€çš„æºå¤´ï¼Œæ‰€æœ‰çš„ä»£ç ä¿®æ”¹éƒ½éœ€è¦æäº¤åˆ°ä¸­å¤®æœåŠ¡å™¨ å¼€å‘è€…åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹æ— æ³•è¿›è¡Œç‰ˆæœ¬æ§åˆ¶æ“ä½œ å…¸å‹çš„é›†ä¸­å¼ç‰ˆæœ¬ç®¡ç†å·¥å…·åŒ…æ‹¬Subversionï¼ˆSVNï¼‰å’ŒPerforceç­‰ Gitçš„å·¥ä½œæœºåˆ¶å¦‚ä¸‹å›¾æ‰€ç¤º: å·¥ä½œåŒºï¼šå¼€å‘äººå‘˜åœ¨æœ¬åœ°å­˜æ”¾é¡¹ç›®æ–‡ä»¶ï¼ˆä»£ç ï¼‰çš„åœ°æ–¹ æš‚å­˜åŒºï¼šæ˜¯ä¸€ä¸ªç¼“å†²åŒºåŸŸï¼Œç”¨äºä¸´æ—¶å­˜æ”¾å³å°†æäº¤åˆ°æœ¬åœ°åº“çš„ä¿®æ”¹ï¼Œå¼€å‘è€…é€šè¿‡ git add å‘½ä»¤å°†å·¥ä½œåŒºä¸­çš„ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œåªæœ‰æ·»åŠ åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶è¯¥ä¼šè¢«æäº¤åˆ°æœ¬åœ°åº“ä¸­å» æœ¬åœ°åº“ï¼šå­˜æ”¾é¡¹ç›®å®Œæ•´å†å²è®°å½•å’Œç‰ˆæœ¬ä¿¡æ¯çš„åœ°æ–¹ï¼Œå¼€å‘è€…é€šè¿‡ git commit å‘½ä»¤å°†æš‚å­˜åŒºçš„å†…å®¹æäº¤åˆ°æœ¬åœ°åº“ï¼Œä½¿ç”¨è¯¥å‘½ä»¤åæš‚å­˜åŒºå°±ä¼šæ¸…ç©º è¿œç¨‹åº“ï¼šç”¨äºå­˜æ”¾é¡¹ç›®çš„ä¸­å¤®ä»£ç åº“ï¼ˆå¦‚GitHubï¼‰ï¼Œä½äºäº‘ç«¯æˆ–å…¶ä»–æœåŠ¡å™¨ä¸Šã€‚å›¢é˜Ÿæˆå‘˜å¯ä»¥é€šè¿‡ git clone æ“ä½œä»è¿œç¨‹ä»“åº“å…‹éš†ä¸€ä¸ªå®Œæ•´çš„ Git ä»“åº“åˆ°æœ¬åœ°ã€‚å…‹éš†æ“ä½œä¼šå¤åˆ¶è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å†å²è®°å½•ã€åˆ†æ”¯ã€æ ‡ç­¾ç­‰ä¿¡æ¯ï¼Œå¹¶åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç›¸åŒçš„ä»“åº“å‰¯æœ¬ã€‚é€šè¿‡ git push ç”¨äºå°†æœ¬åœ°åº“æ¨é€åˆ°è¿œç¨‹åº“ï¼Œ é€šè¿‡ git pull ä»è¿œç¨‹åº“æ‹‰å–æœ€æ–°çš„ä»£ç åˆ°æœ¬åœ°åº“ ","date":"2024-07-21","objectID":"/posts/a538cc4/:1:0","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"Gitå®‰è£…\r","date":"2024-07-21","objectID":"/posts/a538cc4/:2:0","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"Windowsä¸‹å®‰è£…\rå…ˆç¡®å®šè‡ªå·±çš„ç”µè„‘æ˜¯64ä½æ“ä½œç³»ç»Ÿè¿˜æ˜¯32ä½çš„(æŒ‰Winé”®ï¼Œè®¾ç½®â†’ç³»ç»Ÿâ†’å…³äº)ï¼Œç„¶åå»Gitå®˜ç½‘ä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ…ï¼Œæ ¹æ®æç¤ºè¿›è¡Œå®‰è£…(è¯¦ç»†å®‰è£…è¿‡ç¨‹è¯·è‡ªè¡ŒGoogle)ã€‚ æ³¨æ„ï¼š å®‰è£…è·¯å¾„ä¸­ä¸è¦åŒ…å«ä¸­æ–‡ï¼ ","date":"2024-07-21","objectID":"/posts/a538cc4/:2:1","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"Ubuntuä¸‹å®‰è£…\rç”±äºæœ¬äººæ˜¯Ubuntuä¸‹ä½¿ç”¨Gitçš„ï¼Œæ‰€ä»¥è¿™é‡Œçš„æ­¥éª¤ä¼šå†™çš„è¯¦ç»†ç‚¹ã€‚ è¾“å…¥å‘½ä»¤ sudo apt-get install gitè¿›è¡Œå®‰è£…ï¼Œè¾“å…¥ git version æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ è¾“å…¥å‘½ä»¤ ssh -T git@github.com æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿æ¥åˆ°GitHubï¼Œå¦‚æœçœ‹åˆ° åˆ™è¯´æ˜èƒ½å¤Ÿè¿æ¥ã€‚ å®‰è£…SSH keysï¼ˆä¸€å®šè¦åœ¨ ~/.ssh ç›®å½•ä¸‹æ“ä½œï¼‰ ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥æ˜¯å¦å·²ç»å…·æœ‰ssh keysï¼Œå¦‚æœå…·æœ‰ï¼Œåˆ™ç›´æ¥è¿›è¡Œç¬¬ä¸‰æ­¥ ========================================================== cd ~/.ssh ls ========================================================== å¦‚æœå­˜åœ¨æ–‡ä»¶ id_rsa å’Œ id_rsa.pub åˆ™å…·æœ‰ssh keys ç¬¬äºŒæ­¥ï¼šå¤‡ä»½å¹¶ç§»é™¤å·²ç»å­˜åœ¨çš„ssh keys ========================================================== mkdir key_backup cp id_rsa* key_backup rm id_rsa* ========================================================== ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ ========================================================== ssh-keygen -t rsa -C \"ä½ çš„githubé‚®ç®±\" ========================================================== è¿è¡Œæ—¶ä¼šè¦æ±‚è¾“å…¥æ–‡ä»¶åï¼Œå°±è¾“å…¥id_rsaå³å¯ æ¥ç€ä¼šè¦æ±‚ä½ è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼Œè¯¥å¯†ç ç”¨äºpushæ—¶çš„å¯†ç ï¼Œä¸æƒ³è®¾ç½®å¯†ç å¯ç›´æ¥å›è½¦ï¼Œå»ºè®®è®¾ç½® å®‰è£…å®Œæ¯•åï¼Œå†æ¬¡è¾“å…¥lsæŸ¥çœ‹æ˜¯å¦å­˜åœ¨æ–‡ä»¶id_rsa å’Œ id_rsa.pub è¾“å…¥å‘½ä»¤ cat id_rsa.pub æŸ¥çœ‹ id_rsa.pub ä¸­çš„å†…å®¹ï¼Œå°†å…¶å†…å®¹å¤åˆ¶åˆ°GitHubè´¦æˆ·çš„SSH keysä¸­ï¼ˆå¤´åƒâ†’Settingsâ†’SSH and GPG keysâ†’ New SSH keyï¼‰ å†æ¬¡è¾“å…¥å‘½ä»¤ssh -T git@github.com ï¼ˆåœ¨~/.sshç›®å½•ä¸‹ï¼‰ï¼Œå¦‚æœæ˜¾ç¤ºHi ä½ çš„ç”¨æˆ·å! Youâ€™ve successfully authenticated, but GitHub does not provide shell access. åˆ™æ·»åŠ æˆåŠŸ(å¦‚æœåœ¨å®‰è£…SSH keysæ—¶è®¾ç½®äº†å¯†ç ï¼Œåˆ™è¯¥æ­¥éª¤ä¼šè¦æ±‚è¾“å‡ºæ­¤å¯†ç ) æ³¨æ„ï¼š è‹¥æŠ¥é”™sign_and_send_pubkey: signing failed: agent refused operation ï¼Œåˆ™è¾“å…¥å‘½ä»¤eval \"$(ssh-agent -s)\" å’Œ ssh-add å®‰è£…å¥½Gitåï¼Œéœ€è¦é…ç½®Gitå…¨å±€ç¯å¢ƒï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š git config --global user.name \"ä½ çš„GitHubç”¨æˆ·å\" git config --global user.email \"ä½ çš„GitHubé‚®ç®±åœ°å€\" è¾“å…¥å‘½ä»¤ git config --global --list æŸ¥çœ‹æ˜¯å¦è®¾ç½®æˆåŠŸ è¿™é‡Œè®¾ç½®çš„ç¯å¢ƒçš„ä½œç”¨æ˜¯åŒºåˆ†ä¸åŒæ“ä½œè€…èº«ä»½ã€‚ç”¨æˆ·çš„ç­¾åä¿¡æ¯å¯ä»¥åœ¨æ¯ä¸€ä¸ªç‰ˆæœ¬çš„æäº¤ä¿¡æ¯ä¸­çœ‹åˆ°ï¼Œä»¥æ­¤ç¡®è®¤æœ¬æ¬¡æäº¤æ˜¯è°åšçš„ã€‚ æ³¨ï¼š æ­¤ç”¨æˆ·ç­¾åä¸è¿œç¨‹åº“çš„è´¦å·æ²¡æœ‰ä»»ä½•å…³ç³» ","date":"2024-07-21","objectID":"/posts/a538cc4/:2:2","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"Gitå¸¸ç”¨å‘½ä»¤\r","date":"2024-07-21","objectID":"/posts/a538cc4/:3:0","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"è·å–Gitä»“åº“\ré€šå¸¸æœ‰ä¸¤ç§è·å– Git é¡¹ç›®ä»“åº“çš„æ–¹å¼ï¼ˆä¸¤ç§æ–¹å¼éƒ½éœ€è¦å…ˆè¿›å…¥åˆ°é¡¹ç›®ç›®å½•ï¼‰ï¼š å°†å°šæœªè¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„æœ¬åœ°ç›®å½•è½¬æ¢ä¸º Git ä»“åº“ è¾“å…¥å‘½ä»¤ git init ï¼Œå®ŒæˆGitä»“åº“åˆå§‹åŒ–æ“ä½œï¼Œä¼šå¾—åˆ°ä¸€ä¸ªéšè—ç›®å½• .git ä»å…¶å®ƒæœåŠ¡å™¨å…‹éš†ä¸€ä¸ªå·²å­˜åœ¨çš„ Git ä»“åº“ è¾“å…¥å‘½ä»¤ git clone url (urlä¸ºä»“åº“åœ°å€ï¼Œç‚¹å‡»ä»“åº“é¡µé¢çš„codeæŒ‰é’®å³å¯çœ‹åˆ°)ï¼Œè¿™æ ·å°±èƒ½å¾—åˆ°ä¸€ä¸ªä¸è¿œç¨‹ä»“åº“ä¸€æ ·çš„æœ¬åœ°ä»“åº“(ä»“åº“åä¹Ÿä¸€æ ·)ã€‚ å¦‚æœæƒ³è¦è‡ªå®šä¹‰æœ¬åœ°åº“çš„åå­—ï¼Œåˆ™å¯ä»¥ä¿®æ”¹å‘½ä»¤ä¸º git clone url ä½ è¦è®¾å®šçš„æœ¬åœ°ä»“åº“å æ³¨ï¼š å½“ä½ å…‹éš†ä¸€ä¸ªè¿œç¨‹ä»“åº“æ—¶ï¼Œæœ¬åœ°ä»“åº“é€šå¸¸åªä¼šåˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ä¸»åˆ†æ”¯ï¼ˆä¸€èˆ¬ä¸º master åˆ†æ”¯ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ main åˆ†æ”¯ï¼‰ï¼Œå…¶ä»–åˆ†æ”¯ä¼šä»¥è¿œç¨‹åˆ†æ”¯çš„å½¢å¼å­˜åœ¨äºæœ¬åœ°ä»“åº“ä¸­ã€‚ ","date":"2024-07-21","objectID":"/posts/a538cc4/:3:1","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"è®°å½•æ¯æ¬¡æ›´æ–°åˆ°ä»“åº“\rGitä»“åº“ä¸‹çš„æ¯ä¸€ä¸ªæ–‡ä»¶åªæœ‰ä¸¤ç§çŠ¶æ€ï¼šå·²è·Ÿè¸ª æˆ– æœªè·Ÿè¸ªã€‚å·²è·Ÿè¸ªæŒ‡çš„æ˜¯å·²ç»è¢«çº³å…¥ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ï¼Œå³æ˜¯Gitå·²ç»çŸ¥é“çš„æ–‡ä»¶ã€‚ å¯ç”¨ git status å‘½ä»¤æŸ¥çœ‹å“ªäº›æ–‡ä»¶å¤„äºä»€ä¹ˆçŠ¶æ€ï¼Œå¦‚æœåœ¨å…‹éš†ä»“åº“åç«‹å³ä½¿ç”¨æ­¤å‘½ä»¤ï¼Œä¼šçœ‹åˆ°ç±»ä¼¼çš„è¾“å‡º: On branch master Your branch is up-to-date with 'origin/master'. nothing to commit, working directory clean è¿™è¯´æ˜å½“å‰æ‰€åœ¨åˆ†æ”¯ä¸º masterï¼Œæ‰€æœ‰å·²è·Ÿè¸ªçš„æ–‡ä»¶åœ¨ä¸Šæ¬¡æäº¤åéƒ½æœªè¢«ä¿®æ”¹ï¼Œä¸”å½“å‰ç›®å½•ä¸‹æ²¡æœ‰å‡ºç°æœªè·Ÿè¸ªçš„æ–‡ä»¶ã€‚å¦‚æœæ­¤æ—¶åœ¨å½“å‰é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ README æ–‡ä»¶ï¼Œå†æ¬¡ä½¿ç”¨ git status å‘½ä»¤ï¼Œä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡º: On branch master Your branch is up-to-date with 'origin/master'. Untracked files: (use \"git add \u003cfile\u003e...\" to include in what will be committed) README nothing added to commit but untracked files present (use \"git add\" to track) åœ¨è¾“å‡ºä¸­å¯ä»¥çœ‹åˆ°å­˜åœ¨æœªè·Ÿè¸ªçš„æ–‡ä»¶ READMEï¼Œæƒ³è¦è·Ÿè¸ªæ­¤æ–‡ä»¶åˆ™ä½¿ç”¨å‘½ä»¤ git add README ï¼Œå†æ¬¡è¾“å…¥git status å‘½ä»¤ï¼Œä¼šå‘ç° README æ–‡ä»¶å·²è¢«è·Ÿè¸ªï¼Œå¹¶å¤„äºæš‚å­˜çŠ¶æ€: On branch master Your branch is up-to-date with 'origin/master'. Changes to be committed: (use \"git restore --staged \u003cfile\u003e...\" to unstage) new file: README ä¹Ÿå¯ä½¿ç”¨å‘½ä»¤ git add . å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä»¥åŠå­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå³å‘½ä»¤git add çš„ä½œç”¨æ˜¯å°†æ–‡ä»¶å­˜æ·»åŠ åˆ°æš‚å­˜åŒºï¼ˆå·²è·Ÿè¸ªçš„æ–‡ä»¶å‘ç”Ÿå˜åŒ–ä¹Ÿéœ€è¦ä½¿ç”¨æ­¤å‘½ä»¤å°†å…¶æœ€æ–°ç‰ˆæœ¬æ·»åŠ åˆ°æš‚å­˜åŒºï¼‰ï¼Œæš‚å­˜åŒºå­˜æ”¾çš„æ–‡ä»¶æ˜¯ä½ æ‰§è¡Œgit add å‘½ä»¤æ—¶çš„æ–‡ä»¶ç‰ˆæœ¬ã€‚ æ³¨æ„: å¦‚æœä½ ä¸æƒ³æŸäº›æ–‡ä»¶(å¦‚æ—¥å¿—æ–‡ä»¶ï¼Œç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¸´æ—¶æ–‡ä»¶)è¢«è¿½è¸ªä¸”ä¹Ÿä¸å¸Œæœ›è¢«Gitæé†’ï¼Œåˆ™å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸º.gitignoreçš„txtæ–‡ä»¶ï¼Œåˆ—å‡ºè¦å¿½ç•¥çš„æ–‡ä»¶çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼š # å¿½ç•¥æ‰€æœ‰çš„ .a æ–‡ä»¶ *.a # ä½†è·Ÿè¸ªæ‰€æœ‰çš„ lib.aï¼Œå³ä¾¿ä½ åœ¨å‰é¢å¿½ç•¥äº† .a æ–‡ä»¶ !lib.a # åªå¿½ç•¥å½“å‰ç›®å½•ä¸‹çš„ TODO æ–‡ä»¶ï¼Œè€Œä¸å¿½ç•¥ subdir/TODO /TODO # å¿½ç•¥ä»»ä½•ç›®å½•ä¸‹åä¸º build çš„æ–‡ä»¶å¤¹ build/ # å¿½ç•¥ doc/notes.txtï¼Œä½†ä¸å¿½ç•¥ doc/server/arch.txt doc/*.txt # å¿½ç•¥ doc/ ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ä¸‹çš„ .pdf æ–‡ä»¶ doc/**/*.pdf GitHubæœ‰ä¸€ä¸ªååˆ†è¯¦ç»†çš„é’ˆå¯¹æ•°åç§é¡¹ç›®åŠè¯­è¨€çš„ .gitignore æ–‡ä»¶åˆ—è¡¨ï¼Œç‚¹å‡»æ­¤å¤„å³å¯æŸ¥çœ‹ã€‚ å½“è¦è¢«è¿½è¸ªçš„æ–‡ä»¶å’Œä¿®æ”¹åçš„æ–‡ä»¶éƒ½å·²ç»æ·»åŠ åˆ°æš‚å­˜åŒºæ—¶ï¼Œå°±å¯ä½¿ç”¨å‘½ä»¤ git commit -m \"CommitInfo\" æˆ– git commit å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°åº“ã€‚ ä¸¤è€…çš„åŒºåˆ«æ˜¯å‰è€…æ˜¯åœ¨å‘½ä»¤è¡Œä¹¦å†™ç®€å•çš„æäº¤ä¿¡æ¯ï¼Œåè€…ä¼šå¯åŠ¨æ–‡æœ¬ç¼–è¾‘å™¨æ¥ä¹¦å†™å¤æ‚çš„æäº¤ä¿¡æ¯ï¼Œå†™å¥½æäº¤è¯´æ˜ä¿¡æ¯æ˜¯éå¸¸é‡è¦çš„ï¼Œå¯ä»¥å¸®åŠ©å›¢é˜Ÿæˆå‘˜æ›´å¥½åœ°ç†è§£å’Œç»´æŠ¤ä»£ç ã€‚æˆ‘ä¸ªäººè§‰å¾—è¿™ç¯‡å¦‚ä½•å†™å¥½ Commit MessageÂ çš„åšå®¢éå¸¸å€¼å¾—ä¸€è¯»(ä¸­æ–‡ç‰ˆ)ã€‚å¯¹äºç®€å•æäº¤ä¿¡æ¯çš„ä¹¦å†™åˆ™å¯ä»¥å‚ç…§ä»¥ä¸‹æ ¼å¼ï¼š æ ¼å¼ï¼š\u003ctype\u003e(\u003cscope\u003e): \u003csubject\u003e typeè¡¨ç¤ºæäº¤ç±»å‹ï¼Œscopeè¡¨ç¤ºæ¶‰åŠçš„æ–‡ä»¶(å¯ç”¨ * æ¥è¡¨ç¤ºå¤šä¸ªæ–‡ä»¶)ï¼Œsubjectæè¿°æ­¤æ¬¡æ¶‰åŠçš„ä¿®æ”¹ï¼Œå¸¸ç”¨typeç±»å‹å¦‚ä¸‹ï¼š Type è¯´æ˜ å¤‡æ³¨ feat æäº¤æ–°åŠŸèƒ½ å¸¸ç”¨ fix ä¿®å¤Bug å¸¸ç”¨ docs ä¿®æ”¹æ–‡æ¡£ style ä¿®æ”¹æ ¼å¼ï¼Œä¾‹å¦‚æ ¼å¼åŒ–ä»£ç ï¼Œç©ºæ ¼ï¼Œæ‹¼å†™é”™è¯¯ç­‰ refactor é‡æ„ä»£ç ï¼Œæ²¡æœ‰æ·»åŠ æ–°åŠŸèƒ½ä¹Ÿæ²¡æœ‰ä¿®å¤bug test æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ perf ä»£ç æ€§èƒ½è°ƒä¼˜ chore ä¿®æ”¹æ„å»ºå·¥å…·ã€æ„å»ºæµç¨‹ã€æ›´æ–°ä¾èµ–åº“ã€æ–‡æ¡£ç”Ÿæˆé€»è¾‘ ç¤ºä¾‹ï¼šfix(ngRepeat): fix trackBy function being invoked with incorrect scope ","date":"2024-07-21","objectID":"/posts/a538cc4/:3:2","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"æ’¤é”€ä¿®æ”¹\rå½“ä¿®æ”¹äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ä¸”ä¿æŒäº†ï¼Œæƒ³è¦ä¸¢å¼ƒè¯¥ä¿®æ”¹ã€‚ å‘½ä»¤ï¼šgit checkout -- FileName å½“ä¿®æ”¹äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶ï¼Œä¸”æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œæƒ³è¦ä¸¢å¼ƒè¯¥ä¿®æ”¹ã€‚ ä¾æ¬¡æ‰§è¡Œå‘½ä»¤ï¼ša. git reset HEAD FileName b.git checkout -- FileName PS: åªæ‰§è¡Œå‘½ä»¤a åˆ™æ˜¯ä»æš‚å­˜åŒºä¸¢å¼ƒè¯¥ä¿®æ”¹(å³ä»æš‚å­˜åŒºåˆ é™¤æ­¤æ–‡ä»¶) å½“ä¿®æ”¹äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶ï¼Œä¸ä»…æ·»åŠ åˆ°äº†æš‚å­˜åŒºï¼Œè¿˜æäº¤åˆ°äº†æœ¬åœ°åº“ï¼Œæƒ³è¦ä¸¢å¼ƒè¯¥ä¿®æ”¹ï¼Œåˆ™éœ€è¦è¿›è¡Œç‰ˆæœ¬å›é€€ã€‚ å‘½ä»¤ï¼šgit reset --hard VersionNum PS: ç‰ˆæœ¬å·å¯é€šè¿‡ git reflog å‘½ä»¤æŸ¥çœ‹ ","date":"2024-07-21","objectID":"/posts/a538cc4/:3:3","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"æ¯”è¾ƒå·®å¼‚\rä½¿ç”¨å‘½ä»¤ git diff æ¥æ¯”è¾ƒæ–‡ä»¶ä¹‹é—´çš„å·®å¼‚ï¼Œä»¥ä¸‹æ˜¯æ­¤å‘½ä»¤çš„å¸¸è§ç”¨æ³•ï¼š git diff è¿™ä¼šæ˜¾ç¤ºå·¥ä½œåŒºä¸­æœªæš‚å­˜çš„æ›´æ”¹ä¸æš‚å­˜åŒºä¸­çš„å†…å®¹ä¹‹é—´çš„å·®å¼‚ git diff --cached è¿™ä¼šæ˜¾ç¤ºæš‚å­˜åŒºä¸­çš„æ›´æ”¹ä¸æœ€æ–°æäº¤ï¼ˆHEADï¼‰ä¹‹é—´çš„å·®å¼‚ git diff HEAD è¿™ä¼šæ˜¾ç¤ºå·¥ä½œåŒºä¸­çš„æœªæš‚å­˜æ›´æ”¹ä¸æœ€æ–°æäº¤ï¼ˆHEADï¼‰ä¹‹é—´çš„å·®å¼‚ PS: è‹¥ä¸æƒ³æ¯”è¾ƒå…¨éƒ¨æ–‡ä»¶çš„å·®å¼‚ï¼Œä»¥ä¸Šä¸‰ç§å‘½ä»¤å‡å¯åœ¨æœ«å°¾æŒ‡å®šæ–‡ä»¶å git diff branch1 branch2 -- FileName æ¯”è¾ƒä¸åŒåˆ†æ”¯ä¸­çš„åŒä¸€æ–‡ä»¶çš„ä¸åŒä¹‹å¤„ ","date":"2024-07-21","objectID":"/posts/a538cc4/:3:4","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"æ–‡ä»¶é‡å‘½å\ræƒ³è¦åœ¨Gitä¸­å¯¹æ–‡ä»¶æ”¹åï¼Œåˆ™ä½¿ç”¨å‘½ä»¤ git mv file_from file_to ","date":"2024-07-21","objectID":"/posts/a538cc4/:3:5","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"æŸ¥çœ‹æäº¤å†å²\ræŸ¥çœ‹æäº¤å†å²çš„å¸¸ç”¨å‘½ä»¤æœ‰ä¸¤ä¸ªï¼šgit log å’Œ git reflogï¼Œåä¸€ä¸ªå‘½ä»¤åªæ˜¾ç¤ºç®€ç•¥çš„ç‰ˆæœ¬ä¿¡æ¯(å¸¸ç”¨äºç‰ˆæœ¬çš„ç©¿æ¢­)ã€‚ git log å‘½ä»¤å¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š å¸¸ç”¨çš„å‘½ä»¤ä¸ºï¼šgit log --graph --oneline ç‰ˆæœ¬ç©¿æ¢­å‘½ä»¤ä¸ºï¼šgit reset --hard VersionNum ","date":"2024-07-21","objectID":"/posts/a538cc4/:3:6","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"åˆ é™¤æ–‡ä»¶\ræƒ³è¦åˆ é™¤æŸä¸ªæ–‡ä»¶ å‘½ä»¤ï¼šgit rm FileName PS: æ­¤å‘½ä»¤ç­‰ä»·äºä¾æ¬¡æ‰§è¡Œ rm FileName å’Œ git add FileName å‘½ä»¤ æƒ³è¦åˆ é™¤è¢«ä¿®æ”¹ï¼Œä½†æœªæ·»åŠ åˆ°æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œæˆ–å·²ç»åœ¨æš‚å­˜åŒºçš„æ–‡ä»¶ã€‚ å‘½ä»¤ï¼šgit rm -f FileName æƒ³è¦æŸæ–‡ä»¶ä¸å†è¢«Gitè·Ÿè¸ª(å·¥ä½œåŒºä¸­ä»ç„¶å­˜åœ¨è¯¥æ–‡ä»¶ï¼Œåªæ˜¯ä¸å†è¢«çº³å…¥ç‰ˆæœ¬ç®¡ç†) å‘½ä»¤ï¼šgit rm --cached FileName æƒ³è¦æ¢å¤åˆ é™¤æ–‡ä»¶ å‘½ä»¤ï¼šgit checkout -- FileName æ­¤å‘½ä»¤å…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥\"ä¸€é”®è¿˜åŸ\" ","date":"2024-07-21","objectID":"/posts/a538cc4/:3:7","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"Gitåˆ†æ”¯\råˆ†æ”¯å°±æ˜¯ç§‘å¹»ç”µå½±é‡Œé¢çš„å¹³è¡Œå®‡å®™ï¼Œå½“ä½ æ­£åœ¨ç”µè„‘å‰åŠªåŠ›å­¦ä¹ Gitçš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªä½ æ­£åœ¨å¦ä¸€ä¸ªå¹³è¡Œå®‡å®™é‡ŒåŠªåŠ›å­¦ä¹ SVNã€‚ å¦‚æœä¸¤ä¸ªå¹³è¡Œå®‡å®™äº’ä¸å¹²æ‰°ï¼Œé‚£å¯¹ç°åœ¨çš„ä½ ä¹Ÿæ²¡å•¥å½±å“ã€‚ä¸è¿‡ï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œä¸¤ä¸ªå¹³è¡Œå®‡å®™åˆå¹¶äº†ï¼Œç»“æœï¼Œä½ æ—¢å­¦ä¼šäº†Gitåˆå­¦ä¼šäº†SVNï¼ åˆ†æ”¯åœ¨å®é™…ä¸­æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå‡è®¾ä½ å‡†å¤‡å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œä½†æ˜¯éœ€è¦ä¸¤å‘¨æ‰èƒ½å®Œæˆï¼Œç¬¬ä¸€å‘¨ä½ å†™äº†50%çš„ä»£ç ï¼Œå¦‚æœç«‹åˆ»æäº¤ï¼Œç”±äºä»£ç è¿˜æ²¡å†™å®Œï¼Œä¸å®Œæ•´çš„ä»£ç åº“ä¼šå¯¼è‡´åˆ«äººä¸èƒ½å¹²æ´»äº†ã€‚å¦‚æœç­‰ä»£ç å…¨éƒ¨å†™å®Œå†ä¸€æ¬¡æäº¤ï¼Œåˆå­˜åœ¨ä¸¢å¤±æ¯å¤©è¿›åº¦çš„å·¨å¤§é£é™©ã€‚ ç°åœ¨æœ‰äº†åˆ†æ”¯ï¼Œå°±ä¸ç”¨æ€•äº†ã€‚ä½ åˆ›å»ºäº†ä¸€ä¸ªå±äºä½ è‡ªå·±çš„åˆ†æ”¯ï¼Œåˆ«äººçœ‹ä¸åˆ°ï¼Œè¿˜ç»§ç»­åœ¨åŸæ¥çš„åˆ†æ”¯ä¸Šæ­£å¸¸å·¥ä½œï¼Œè€Œä½ åœ¨è‡ªå·±çš„åˆ†æ”¯ä¸Šå¹²æ´»ï¼Œæƒ³æäº¤å°±æäº¤ï¼Œç›´åˆ°å¼€å‘å®Œæ¯•åï¼Œå†ä¸€æ¬¡æ€§åˆå¹¶åˆ°åŸæ¥çš„åˆ†æ”¯ä¸Šï¼Œè¿™æ ·ï¼Œæ—¢å®‰å…¨ï¼Œåˆä¸å½±å“åˆ«äººå·¥ä½œã€‚ ","date":"2024-07-21","objectID":"/posts/a538cc4/:4:0","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"åˆ›å»ºã€åˆå¹¶ã€åˆ é™¤åˆ†æ”¯\rä¸€å¼€å§‹çš„æ—¶å€™ï¼Œä¸»åˆ†æ”¯(master æˆ– main)æ˜¯ä¸€æ¡çº¿ï¼ŒGitç”¨master æˆ– main(åˆ›å»ºä»“åº“æ—¶ç¡®å®šä¸»çº¿æŒ‡é’ˆå)æŒ‡é’ˆæŒ‡å‘æœ€æ–°çš„æäº¤ï¼Œå†ç”¨HEADæŒ‡å‘masterï¼Œå°±èƒ½ç¡®å®šå½“å‰åˆ†æ”¯ï¼Œä»¥åŠå½“å‰åˆ†æ”¯çš„æäº¤ç‚¹ï¼š æ¯æ¬¡æäº¤æ–°çš„å†…å®¹åˆ°æœ¬åœ°åº“ï¼Œmasteråˆ†æ”¯éƒ½ä¼šå‘å‰ç§»åŠ¨ä¸€æ­¥ï¼Œè¿™æ ·ï¼Œéšç€ä½ ä¸æ–­æäº¤ï¼Œmasteråˆ†æ”¯çš„çº¿ä¹Ÿè¶Šæ¥è¶Šé•¿ã€‚ å½“æˆ‘ä»¬åˆ›å»ºæ–°çš„åˆ†æ”¯ï¼Œä¾‹å¦‚devæ—¶ï¼ŒGitæ–°å»ºäº†ä¸€ä¸ªæŒ‡é’ˆå«devï¼ŒæŒ‡å‘masterç›¸åŒçš„æäº¤ï¼Œå†æŠŠHEADæŒ‡å‘devï¼Œå°±è¡¨ç¤ºå½“å‰åˆ†æ”¯åœ¨devä¸Šï¼š æœ¬è´¨ä¸Šæ¯åˆ›å»ºä¸€ä¸ªåˆ†æ”¯å°±æ˜¯åˆ›å»ºä¸€ä¸ªä¸åˆ†æ”¯åŒåçš„æŒ‡é’ˆï¼Œè®©å…¶æŒ‡å‘å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤ï¼›HEADåˆ™æ˜¯æŒ‡å‘å½“å‰æ‰€åœ¨åˆ†æ”¯çš„æŒ‡é’ˆï¼Œä¾‹å¦‚å½“å‰åœ¨devåˆ†æ”¯ï¼Œåˆ™HEADæŒ‡å‘devæŒ‡é’ˆï¼Œä»ç°åœ¨å¼€å§‹ï¼Œå¯¹å·¥ä½œåŒºçš„ä¿®æ”¹å’Œæäº¤å°±æ˜¯é’ˆå¯¹devåˆ†æ”¯äº†ï¼Œæ¯”å¦‚æ–°æäº¤ä¸€æ¬¡åï¼ŒdevæŒ‡é’ˆå¾€å‰ç§»åŠ¨ä¸€æ­¥ï¼Œè€ŒmasteræŒ‡é’ˆä¸å˜ï¼š å‡å¦‚æˆ‘ä»¬åœ¨devä¸Šçš„å·¥ä½œå®Œæˆäº†ï¼Œå°±å¯ä»¥æŠŠdevåˆå¹¶åˆ°masterä¸Šã€‚æœ€ç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯ç›´æ¥æŠŠmasteræŒ‡å‘devçš„å½“å‰æäº¤ï¼ˆè¿™ç§åˆå¹¶æ–¹å¼è¢«ç§°ä¸º å¿«è¿›æ¨¡å¼ æˆ– å¿«é€Ÿåˆå¹¶ï¼‰ï¼Œå°±å®Œæˆäº†åˆå¹¶ï¼š åˆå¹¶å®Œåˆ†æ”¯åï¼Œç”šè‡³å¯ä»¥åˆ é™¤devåˆ†æ”¯ã€‚åˆ é™¤devåˆ†æ”¯å°±æ˜¯æŠŠdevæŒ‡é’ˆç»™åˆ æ‰ï¼Œåˆ æ‰åï¼Œæˆ‘ä»¬å°±å‰©ä¸‹äº†ä¸€æ¡masteråˆ†æ”¯ï¼š åˆå¹¶çš„æœ¬è´¨å°±æ˜¯å°†ç›®æ ‡åˆ†æ”¯çš„æ”¹åŠ¨æ·»åŠ åˆ°å½“å‰åˆ†æ”¯ åˆ†æ”¯å¸¸ç”¨å‘½ä»¤ æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯ï¼šgit branch ï¼Œå½“å‰åˆ†æ”¯å‰ä¼šæœ‰ä¸€ä¸ª * å· æŸ¥çœ‹è¿œç¨‹æ‰€æœ‰åˆ†æ”¯ï¼šgit branch -rï¼Œä½¿ç”¨ git branch -a å¯æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹çš„æ‰€æœ‰åˆ†æ”¯ æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„æ˜ å°„å…³ç³»ï¼šgit branch -vv è®¾ç½®å½“å‰åˆ†æ”¯çš„ä¸Šæ¸¸åˆ†æ”¯(å³è®¾ç½®è¯¥åˆ†æ”¯æ˜ å°„åˆ°è¿œç¨‹åº“çš„å“ªä¸ªåˆ†æ”¯)ï¼šgit branch -u REMOTE_BRANCH_NAME åˆ›å»ºåˆ†æ”¯ï¼šgit branch branch_name åˆ‡æ¢åˆ†æ”¯ï¼šgit switch branch_name åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ï¼šgit switch -c branch_name æˆ– git checkout -b branch_name åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯(é‡‡ç”¨å¿«é€Ÿåˆå¹¶æ–¹å¼ï¼Œåˆ é™¤åˆ†æ”¯åä¼šä¸¢å¤±åˆ†æ”¯ä¿¡æ¯)ï¼šgit merge branch_name åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯(ç¦ç”¨å¿«é€Ÿåˆå¹¶æ–¹å¼ï¼Œä¸ä¼šä¸¢å¤±åˆ†æ”¯ä¿¡æ¯)ï¼šgit merge --no-ff -m \"Title\" branchName åˆ é™¤å·²ç»åˆå¹¶çš„åˆ†æ”¯ï¼šgit branch -d branch_name åˆ é™¤æœªåˆå¹¶çš„åˆ†æ”¯ï¼šgit branch -D branch_name é€šå¸¸ï¼Œåˆå¹¶åˆ†æ”¯æ—¶ï¼Œå¦‚æœå¯èƒ½ï¼ŒGitä¼šç”¨ Fast forward æ¨¡å¼ï¼Œä½†è¿™ç§æ¨¡å¼åœ¨åˆ é™¤åˆ†æ”¯åä¼šä¸¢æ‰åˆ†æ”¯ä¿¡æ¯ã€‚ å¦‚æœä¸æƒ³åœ¨åˆ é™¤åˆ†æ”¯åä¸¢å¤±åˆ†æ”¯ä¿¡æ¯ï¼Œå¯ä»¥å¼ºåˆ¶ç¦ç”¨Fast forwardæ¨¡å¼ï¼Œå³ git merge --no-ff -m \"Title\" branchName ï¼ŒGitå°±ä¼šåœ¨mergeæ—¶ç”Ÿæˆä¸€ä¸ªæ–°çš„commitï¼Œè¿™æ ·ï¼Œä»åˆ†æ”¯å†å²ä¸Šå°±å¯ä»¥çœ‹å‡ºåˆ†æ”¯ä¿¡æ¯ã€‚ å½“ä½¿ç”¨Fast forwardæ¨¡å¼åˆå¹¶æ—¶ï¼Œmergeåå°†åƒè¿™æ ·ï¼š ç¦ç”¨Fast forwardæ¨¡å¼åˆå¹¶æ—¶ï¼Œmergeåå°†åƒè¿™æ ·ï¼š ","date":"2024-07-21","objectID":"/posts/a538cc4/:4:1","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"è§£å†³å†²çª\räººç”Ÿä¸å¦‚æ„ä¹‹äº‹åä¹‹å…«ä¹ï¼Œåˆå¹¶åˆ†æ”¯å¾€å¾€ä¹Ÿä¸æ˜¯ä¸€å¸†é£é¡ºçš„ã€‚ å‡†å¤‡æ–°çš„ feature1 åˆ†æ”¯ï¼Œç»§ç»­æ–°åˆ†æ”¯å¼€å‘ï¼š $ git switch -c feature1 Switched to anew branch 'feature1' ä¿®æ”¹ readme.txt æœ€åä¸€è¡Œï¼Œæ”¹ä¸ºï¼š Creating anew branch is quick AND simple. åœ¨ feature1 åˆ†æ”¯ä¸Šæäº¤ä¿®æ”¹åˆ°æœ¬åœ°åº“ï¼š $ git add readme.txt $ git commit -m \"AND simple\" [feature1 14096d0]AND simple 1 file changed, 1 insertion(+), 1 deletion(-) åˆ‡æ¢åˆ° master åˆ†æ”¯ï¼š $ git switch master Switched to branch 'master' Your branch is ahead of 'origin/master' by 1commit. (use \"git push\"to publish yourlocal commits) åœ¨ master åˆ†æ”¯ä¸ŠæŠŠ readme.txt æ–‡ä»¶çš„æœ€åä¸€è¡Œæ”¹ä¸ºï¼š Creating anew branch is quick \u0026 simple. æäº¤ï¼š $ git add readme.txt $ git commit -m \"\u0026 simple\" [master 5dc6824] \u0026 simple 1 file changed, 1 insertion(+), 1 deletion(-) ç°åœ¨ï¼Œmaster åˆ†æ”¯å’Œ feature1 åˆ†æ”¯å„è‡ªéƒ½åˆ†åˆ«æœ‰æ–°çš„æäº¤ï¼Œå˜æˆäº†è¿™æ ·ï¼š è¿™ç§æƒ…å†µä¸‹ï¼ŒGitæ— æ³•æ‰§è¡Œâ€œå¿«é€Ÿåˆå¹¶â€ï¼Œåªèƒ½è¯•å›¾æŠŠå„è‡ªçš„ä¿®æ”¹åˆå¹¶èµ·æ¥ï¼Œä½†è¿™ç§åˆå¹¶å°±å¯èƒ½ä¼šæœ‰å†²çªã€‚ åœ¨ä¸Šé¢è¿™ç§æƒ…å†µæ—¶ï¼Œä½¿ç”¨ git merge feature1 å‘½ä»¤ï¼ŒGitå°±ä¼šå‘Šè¯‰æˆ‘ä»¬readme.txtæ–‡ä»¶å­˜åœ¨å†²çªï¼Œå¿…é¡»æ‰‹åŠ¨è§£å†³å†²çªåå†æäº¤ã€‚ä½¿ç”¨å‘½ä»¤ git diff branch1 branch2 -- FileName æ¥æ¯”è¾ƒä¸åŒåˆ†æ”¯ä¸­çš„åŒä¸€æ–‡ä»¶çš„ä¸åŒä¹‹å¤„ã€‚å°†å½“å‰åˆ†æ”¯ä¸­çš„readme.txtæ–‡ä»¶çš„å†…å®¹ä¿®æ”¹ä¸º Creating a new branch is quick and simple. å†æäº¤ã€‚ ç°åœ¨ï¼Œmasteråˆ†æ”¯å’Œfeature1åˆ†æ”¯å˜æˆäº†ä¸‹å›¾æ‰€ç¤ºï¼š å½“ä½ è§£å†³å®Œå†²çªåï¼Œå°†ä¿®æ”¹åçš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºæ—¶Gitå°±ä¼šçŸ¥é“å†²çªå·²è§£å†³ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œåˆå¹¶æ“ä½œï¼Œæ— éœ€å†æ¬¡è¾“å…¥åˆå¹¶å‘½ä»¤ ä½¿ç”¨å‘½ä»¤ git log --graph --oneline ä¹Ÿå¯ä»¥çœ‹åˆ°åˆ†æ”¯çš„åˆå¹¶æƒ…å†µ ","date":"2024-07-21","objectID":"/posts/a538cc4/:4:2","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"Bugåˆ†æ”¯\rè½¯ä»¶å¼€å‘ä¸­ï¼Œbugå°±åƒå®¶å¸¸ä¾¿é¥­ä¸€æ ·ã€‚æœ‰äº†bugå°±éœ€è¦ä¿®å¤ï¼Œåœ¨Gitä¸­ï¼Œç”±äºåˆ†æ”¯æ˜¯å¦‚æ­¤çš„å¼ºå¤§ï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ªbugéƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªæ–°çš„ä¸´æ—¶åˆ†æ”¯æ¥ä¿®å¤ï¼Œä¿®å¤åï¼Œåˆå¹¶åˆ†æ”¯ï¼Œç„¶åå°†ä¸´æ—¶åˆ†æ”¯åˆ é™¤ã€‚ å‡è®¾æœ‰å¦‚ä¸‹æƒ…æ™¯ï¼šä½ å½“å‰æ­£åœ¨devåˆ†æ”¯è¿›è¡Œå·¥ä½œï¼Œä¸”è¿›è¡Œçš„å·¥ä½œå› æœªå®Œæˆè¿˜æœªæäº¤ï¼Œè¿™æ—¶å‡ºç°äº†ä¸€ä¸ªä»£å·ä¸º 333 çš„bugä»»åŠ¡éœ€è¦ä¿®å¤ã€‚ ä¿®å¤æ­¤bugçš„æµç¨‹å¦‚ä¸‹ï¼š ä½¿ç”¨å‘½ä»¤ git stash æŠŠå½“å‰å·¥ä½œç°åœºå‚¨è—èµ·æ¥(ä¼šä¿å­˜å½“å‰å·¥ä½œç›®å½•ä¸­çš„æ‰€æœ‰æ›´æ”¹ï¼Œå¹¶å°†å·¥ä½œç›®å½•æ¢å¤åˆ°æœ€åä¸€æ¬¡æäº¤çš„çŠ¶æ€)ï¼Œç­‰å¤„ç†å®Œbugåæ¢å¤ç°åœºç»§ç»­å·¥ä½œã€‚ ç¡®å®šè¦åœ¨å“ªä¸ªåˆ†æ”¯ä¸Šä¿®å¤bugã€‚å‡å®šéœ€è¦åœ¨ master åˆ†æ”¯ä¸Šä¿®å¤ï¼Œå°±ä» master åˆ†æ”¯åˆ›å»ºä¸´æ—¶åˆ†æ”¯ bug-333ã€‚ åœ¨ bug-333 åˆ†æ”¯ä¸Šä¿®å¤bugã€‚ åˆ‡æ¢å› master åˆ†æ”¯è¿›è¡Œåˆå¹¶æ“ä½œï¼Œå¹¶åˆ é™¤ bug-333 åˆ†æ”¯ã€‚ åˆ‡æ¢å› dev åˆ†æ”¯ï¼Œä½¿ç”¨å‘½ä»¤ git stash list æ¥æŸ¥çœ‹å­˜å‚¨åˆ—è¡¨ï¼Œå†ä½¿ç”¨ git stash pop StashName æ¥æ¢å¤å¯¹åº”çš„å·¥ä½œç°åœºï¼Œå¹¶åœ¨åˆ—è¡¨ä¸­åˆ é™¤æ­¤å·¥ä½œç°åœºã€‚ ç”±äºdevåˆ†æ”¯æ˜¯æ—©æœŸä»masteråˆ†æ”¯åˆ†å‡ºæ¥çš„ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªbugå…¶å®åœ¨å½“å‰devåˆ†æ”¯ä¸Šä¹Ÿå­˜åœ¨ã€‚é‚£æ€ä¹ˆåœ¨devåˆ†æ”¯ä¸Šä¿®å¤åŒæ ·çš„bugï¼Ÿé‡å¤æ“ä½œä¸€æ¬¡ï¼Œæäº¤ä¸å°±è¡Œäº†ï¼Ÿæœ‰æœ¨æœ‰æ›´ç®€å•çš„æ–¹æ³•ï¼Ÿæœ‰ï¼ åŒæ ·çš„bugï¼Œè¦åœ¨devä¸Šä¿®å¤ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠ 4c805e2 fix bug 333 è¿™ä¸ªæäº¤æ‰€åšçš„ä¿®æ”¹ â€œå¤åˆ¶â€ åˆ°devåˆ†æ”¯ã€‚ æ³¨æ„ï¼š æˆ‘ä»¬åªæƒ³å¤åˆ¶ 4c805e2 fix bug 101 è¿™ä¸ªæäº¤æ‰€åšçš„ä¿®æ”¹ï¼Œå¹¶ä¸æ˜¯æŠŠæ•´ä¸ªmasteråˆ†æ”¯mergeè¿‡æ¥ã€‚ Gitä¸“é—¨æä¾›äº†ä¸€ä¸ªcherry-pickå‘½ä»¤ï¼Œè®©æˆ‘ä»¬èƒ½å¤åˆ¶ä¸€ä¸ªç‰¹å®šçš„æäº¤åˆ°å½“å‰åˆ†æ”¯ï¼š git cherry-pick commit-hash åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå®Œæ•´å‘½ä»¤ä¸º git cherry-pick 4c805e2 ï¼Œæ‰§è¡Œè¯¥å‘½åå‰ï¼Œè¦ç¡®å®šæ‰€åœ¨åˆ†æ”¯ä¸ºdev æ—¢ç„¶å¯ä»¥åœ¨masteråˆ†æ”¯ä¸Šä¿®å¤bugåï¼Œåœ¨devåˆ†æ”¯ä¸Šå¯ä»¥â€œé‡æ”¾â€è¿™ä¸ªä¿®å¤è¿‡ç¨‹ï¼Œé‚£ä¹ˆç›´æ¥åœ¨devåˆ†æ”¯ä¸Šä¿®å¤bugï¼Œç„¶ååœ¨masteråˆ†æ”¯ä¸Šâ€œé‡æ”¾â€è¡Œä¸è¡Œï¼Ÿå½“ç„¶å¯ä»¥ï¼Œä¸è¿‡ä»ç„¶éœ€è¦ git stash å‘½ä»¤ä¿å­˜ç°åœºï¼Œæ‰èƒ½ä»devåˆ†æ”¯åˆ‡æ¢åˆ°masteråˆ†æ”¯ã€‚ ","date":"2024-07-21","objectID":"/posts/a538cc4/:4:3","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"Rebase\rRebaseè¢«ç§°ä¸º å˜åŸº æ“ä½œï¼Œå…¶ä½œç”¨ä¸ºä½¿æ—¥å¿—çœ‹èµ·æ¥æ›´åŠ ç®€æ´æ˜äº†ï¼Œç¼ºç‚¹æ˜¯ä¼šæ‰“ä¹±æ—¶é—´çº¿ã€‚ mergeæ“ä½œæ˜¯å°†ä¸¤ä¸ªåˆ†æ”¯çš„æœ€æ–°commitåˆå¹¶åè¿›è¡Œæäº¤ï¼Œå½¢æˆæ–°çš„commitï¼›è€Œ git rebase æå–æ“ä½œæœ‰ç‚¹åƒ git cherry-pick ä¸€æ ·ï¼Œæ‰§è¡Œrebaseåä¾æ¬¡å°†å½“å‰ï¼ˆæ‰§è¡Œrebaseæ—¶æ‰€åœ¨åˆ†æ”¯ï¼‰çš„æäº¤cherry-pickåˆ°ç›®æ ‡åˆ†æ”¯ï¼ˆå¾…rebaseçš„åˆ†æ”¯ï¼‰ä¸Šï¼Œç„¶åå°†åœ¨åŸå§‹åˆ†æ”¯ï¼ˆæ‰§è¡Œrebaseæ—¶æ‰€åœ¨åˆ†æ”¯ï¼‰ä¸Šçš„å·²æäº¤çš„commitåˆ é™¤ã€‚ ","date":"2024-07-21","objectID":"/posts/a538cc4/:4:4","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"åˆ†æ”¯ç®¡ç†ç­–ç•¥\råœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥æŒ‰ç…§å‡ ä¸ªåŸºæœ¬åŸåˆ™è¿›è¡Œåˆ†æ”¯ç®¡ç†ï¼š é¦–å…ˆï¼Œmain(æˆ–master)åˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ä»…ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ã€‚developå’Œhotfixå‡ä»mainåˆ†æ”¯åˆ†å‡ºï¼Œåˆ†åˆ«ç”¨äºé›†æˆæµ‹è¯•å’Œä¿®å¤å‡ºç°çš„bugã€‚featureåˆ†æ”¯ä»developåˆ†æ”¯åˆ†å‡ºï¼Œç”¨äºå¼€å‘æ–°åŠŸèƒ½ï¼Œå¼€å‘å®Œæˆååˆå¹¶åˆ°developåˆ†æ”¯ã€‚æœ‰æ¡ä»¶çš„å¯ä»¥ç»†åŒ–ä¸åŒçš„æµ‹è¯•ç¯å¢ƒï¼Œä¾‹å¦‚ï¼Œç”¨textåˆ†æ”¯æ¥è¿›è¡ŒåŠŸèƒ½æµ‹è¯•ï¼Œé€šè¿‡æµ‹è¯•åç”±textåˆ†æ”¯åˆå¹¶åˆ°releaseåˆ†æ”¯è¿›è¡Œç”¨æˆ·éªŒæ”¶æµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡åå†åˆå¹¶åˆ°mainåˆ†æ”¯ã€‚ æ‰€ä»¥ï¼Œå›¢é˜Ÿåˆä½œçš„åˆ†æ”¯çœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š ","date":"2024-07-21","objectID":"/posts/a538cc4/:4:5","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"æ ‡ç­¾ç®¡ç†\rå‘å¸ƒä¸€ä¸ªç‰ˆæœ¬æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å…ˆåœ¨ç‰ˆæœ¬åº“ä¸­æ‰“ä¸€ä¸ª æ ‡ç­¾ï¼ˆtagï¼‰ï¼Œè¿™æ ·ï¼Œå°± å”¯ä¸€ ç¡®å®šäº†æ‰“æ ‡ç­¾æ—¶åˆ»çš„ç‰ˆæœ¬ã€‚å°†æ¥æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œå–æŸä¸ªæ ‡ç­¾çš„ç‰ˆæœ¬ï¼Œå°±æ˜¯æŠŠé‚£ä¸ªæ‰“æ ‡ç­¾çš„æ—¶åˆ»çš„å†å²ç‰ˆæœ¬å–å‡ºæ¥ã€‚æ‰€ä»¥ï¼Œæ ‡ç­¾ä¹Ÿæ˜¯ç‰ˆæœ¬åº“çš„ä¸€ä¸ªå¿«ç…§ã€‚ Gitçš„æ ‡ç­¾è™½ç„¶æ˜¯ç‰ˆæœ¬åº“çš„å¿«ç…§ï¼Œä½†å…¶å®å®ƒå°±æ˜¯ æŒ‡å‘æŸä¸ªcommitçš„æŒ‡é’ˆï¼ˆè·Ÿåˆ†æ”¯å¾ˆåƒå¯¹ä¸å¯¹ï¼Ÿä½†æ˜¯åˆ†æ”¯å¯ä»¥ç§»åŠ¨ï¼Œæ ‡ç­¾ä¸èƒ½ç§»åŠ¨ï¼‰ï¼Œæ‰€ä»¥ï¼Œåˆ›å»ºå’Œåˆ é™¤æ ‡ç­¾éƒ½æ˜¯ç¬é—´å®Œæˆçš„ã€‚ Gitå·²ç»æœ‰commitå·ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€å¼•å…¥tagï¼Ÿè§ä»¥ä¸‹åœºæ™¯ï¼š â€œè¯·æŠŠä¸Šå‘¨ä¸€çš„é‚£ä¸ªç‰ˆæœ¬æ‰“åŒ…å‘å¸ƒï¼Œcommitå·æ˜¯6a5819eâ€¦â€ â€œä¸€ä¸²ä¹±ä¸ƒå…«ç³Ÿçš„æ•°å­—ä¸å¥½æ‰¾ï¼â€ å¦‚æœæ¢ä¸€ä¸ªåŠæ³•ï¼š â€œè¯·æŠŠä¸Šå‘¨ä¸€çš„é‚£ä¸ªç‰ˆæœ¬æ‰“åŒ…å‘å¸ƒï¼Œç‰ˆæœ¬å·æ˜¯v1.2â€ â€œå¥½çš„ï¼ŒæŒ‰ç…§tag v1.2æŸ¥æ‰¾commitå°±è¡Œï¼â€ æ‰€ä»¥ï¼Œtagå°±æ˜¯ä¸€ä¸ªè®©äººå®¹æ˜“è®°ä½çš„æœ‰æ„ä¹‰çš„åå­—ï¼Œå®ƒè·ŸæŸä¸ªcommitç»‘åœ¨ä¸€èµ·ã€‚ å¯ä»¥ç†è§£ä¸º tag å°±æ˜¯åŸŸåï¼Œcommitå· å°±æ˜¯IP ","date":"2024-07-21","objectID":"/posts/a538cc4/:5:0","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"åˆ›å»ºæ ‡ç­¾\råœ¨Gitä¸­æ‰“æ ‡ç­¾éå¸¸ç®€å•ï¼Œé¦–å…ˆï¼Œåˆ‡æ¢åˆ°éœ€è¦æ‰“æ ‡ç­¾çš„åˆ†æ”¯ä¸Šï¼š $ git branch * dev master $ git checkout master Switched to branch 'master' ç„¶åï¼Œä½¿ç”¨å‘½ä»¤ git tag tag_name å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸ºtag_nameçš„æ–°æ ‡ç­¾ï¼Œä½¿ç”¨å‘½ä»¤ git tag å³å¯æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾ï¼Œé€šè¿‡ git show tag_name å¯æŸ¥çœ‹æ ‡ç­¾çš„è¯¦ç»†ä¿¡æ¯ã€‚ æ³¨æ„ï¼š æ ‡ç­¾é»˜è®¤æ˜¯æ‰“åœ¨å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤ä¸Šï¼Œå¦‚æœæƒ³è¦ç»™ä»¥å‰çš„commitæ‰“æ ‡ç­¾ï¼Œåˆ™éœ€è¦å…ˆé€šè¿‡git reflogè·å¾—å¯¹åº”çš„commit_idï¼Œç„¶åä½¿ç”¨å‘½ä»¤ git tag tag_name commit_id æ ‡ç­¾æ˜¯æŒ‰å­—æ¯æ¥æ’åºçš„ï¼ æ ‡ç­¾æ€»æ˜¯ä¸commit_idç›¸æŒ‚é’©çš„ï¼ ","date":"2024-07-21","objectID":"/posts/a538cc4/:5:1","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"åˆ é™¤æ ‡ç­¾\rå¦‚æœæ ‡ç­¾æ‰“é”™äº†ï¼Œä¹Ÿå¯ä»¥ç”¨å‘½ä»¤ git tag -d tag_name åˆ é™¤ å› ä¸ºåˆ›å»ºçš„æ ‡ç­¾éƒ½åªå­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¸ä¼šè‡ªåŠ¨æ¨é€åˆ°è¿œç¨‹ã€‚æ‰€ä»¥ï¼Œæ‰“é”™çš„æ ‡ç­¾å¯ä»¥åœ¨æœ¬åœ°å®‰å…¨åˆ é™¤ã€‚ å¦‚æœè¦æ¨é€æŸä¸ªæ ‡ç­¾åˆ°è¿œç¨‹ï¼Œä½¿ç”¨å‘½ä»¤ï¼š git push origin \u003ctagname\u003e æˆ–è€…ï¼Œä¸€æ¬¡æ€§å°†å…¨éƒ¨æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹åº“ï¼Œä½¿ç”¨å‘½ä»¤ï¼š git push origin --tags å¦‚æœæ ‡ç­¾å·²ç»æ¨é€åˆ°è¿œç¨‹ï¼Œè¦åˆ é™¤è¿œç¨‹æ ‡ç­¾å°±éº»çƒ¦ä¸€ç‚¹ï¼Œå…ˆä»æœ¬åœ°åˆ é™¤ï¼š $ git tag -d v0.9 Deleted tag 'v0.9' (was f52c633) ç„¶åï¼Œä»è¿œç¨‹åˆ é™¤ã€‚åˆ é™¤å‘½ä»¤ä¹Ÿæ˜¯pushï¼Œä½†æ˜¯æ ¼å¼å¦‚ä¸‹ï¼š $ git push origin :refs/tags/v0.9 To github.com:michaelliao/learngit.git - [deleted] v0.9 æœ€åï¼Œç™»é™†GitHubæŸ¥çœ‹çœ‹çœ‹æ˜¯å¦çœŸçš„ä»è¿œç¨‹åº“ä¸­åˆ é™¤äº†æ­¤æ ‡ç­¾ã€‚ ","date":"2024-07-21","objectID":"/posts/a538cc4/:5:2","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"ä¸è¿œç¨‹åº“ç›¸å…³çš„æ“ä½œ\rä½¿ç”¨åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ—¶ï¼Œæ˜¯æœ‰ä¸€å°ç”µè„‘å……å½“æœåŠ¡å™¨çš„è§’è‰²ã€‚è¿™æ ·ï¼Œå½“æˆ‘ä»¬æœ‰äº†ä¿®æ”¹æ—¶ç›´æ¥æŠŠä¿®æ”¹æäº¤åˆ°æœåŠ¡å™¨çš„ä»“åº“é‡Œã€‚å…¶ä»–äººè‹¥æ˜¯æƒ³è·å–è¿™æ¬¡ä¿®æ”¹ï¼Œç›´æ¥ä»æœåŠ¡å™¨ä»“åº“ä¸­æ‹‰å–å³å¯ã€‚ è€ŒGitHubå°±æ‰®æ¼”ç€è¿™ä¸ªæœåŠ¡å™¨ä»“åº“çš„è§’è‰²ã€‚ä½ éœ€è¦å…ˆæ³¨å†Œä¸€ä¸ªGitHubè´¦å·ï¼Œé…ç½®å¥½ä½ ç”µè„‘çš„SSH Keyï¼Œè¿™æ ·æ‰èƒ½å°†ä½ ä½¿ç”¨çš„ç”µè„‘ä¸ä½ çš„GitHubè´¦å·ç»‘å®šèµ·æ¥(å¦‚ä½•é…ç½®SSH)ã€‚ ","date":"2024-07-21","objectID":"/posts/a538cc4/:6:0","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"ä¸è¿œç¨‹åº“å»ºç«‹è¿æ¥\rä¸è¿œç¨‹åº“å»ºç«‹è¿æ¥æœ‰ä¸¤ç§æ–¹å¼ï¼š ä½¿ç”¨ git clone å‘½ä»¤ã€‚ å½“ä½ å…‹éš†æŸä¸ªè¿œç¨‹åº“åˆ°æœ¬åœ°åï¼ŒGitä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåä¸º origin çš„è¿œç¨‹åº“å¼•ç”¨(å¦‚æœå·²ç»å­˜åœ¨æ­¤å¼•ç”¨ï¼Œåˆ™æ–°å€¼ä¼šè¦†ç›–æ—§å€¼)ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šGitåˆ›å»ºçš„è¿œç¨‹åº“å¼•ç”¨åï¼Œå‘½ä»¤ï¼š git clone \u003cä»“åº“URL\u003e --origin \u003cè‡ªå®šä¹‰è¿œç¨‹ä»“åº“å\u003e åœ¨æœ¬åœ°ä»“åº“ä¸‹è¿è¡Œå‘½ä»¤ï¼šgit remote add è¿œç¨‹åº“å¼•ç”¨å remote-url å¦‚æœä¸æŒ‡å®šè¿œç¨‹åº“å¼•ç”¨åï¼ŒGitä¼šä½¿ç”¨é»˜è®¤çš„originã€‚å¦‚æœæƒ³è¦æ›´æ”¹è¿œç¨‹åº“çš„åˆ«åï¼Œåˆ™ä½¿ç”¨å‘½ä»¤ git remote rename old-name new-name ","date":"2024-07-21","objectID":"/posts/a538cc4/:6:1","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯\rå¦‚æœæƒ³è¦æŸ¥çœ‹ç°åœ¨å’Œå“ªäº›ä»“åº“å»ºç«‹çš„è¿æ¥ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼šgit remote æˆ– git remote -vï¼Œåä¸€ä¸ªå‘½ä»¤å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„è¿œç¨‹åº“ä¿¡æ¯ï¼Œæ¯”å¦‚è¿œç¨‹åº“çš„åœ°å€(æ²¡æœ‰pushæƒé™åˆ™ä¸èƒ½çœ‹åˆ°)ã€‚ ","date":"2024-07-21","objectID":"/posts/a538cc4/:6:2","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"ä¸è¿œç¨‹åº“æ–­å¼€è¿æ¥\rä½¿ç”¨å‘½ä»¤ï¼šgit remote rm è¿œç¨‹åº“å¼•ç”¨å ï¼Œå³å¯æ–­å¼€ä¸æ­¤è¿œç¨‹åº“çš„è¿æ¥ ","date":"2024-07-21","objectID":"/posts/a538cc4/:6:3","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"æŠ“å–æˆ–æ‹‰å–è¿œç¨‹åº“åˆ†æ”¯\rå½“è¿œç¨‹åº“æœ‰äº†æ–°çš„æäº¤(æ›´æ–°)ï¼Œåˆ™éœ€è¦å°†è¿™äº›æ›´æ–°å–å›æœ¬åœ°ï¼Œè¿™æ—¶å°±è¦ç”¨åˆ°å‘½ä»¤ï¼š git fetch è¿œç¨‹åº“å¼•ç”¨å å°†è¿œç¨‹åº“çš„å…¨éƒ¨æ›´æ–°æŠ“å–åˆ°æœ¬åœ°ï¼Œå¦‚æœåªæƒ³è¦æŠ“å–æŸä¸ªåˆ†æ”¯çš„æ›´æ–°ï¼Œåˆ™ä½¿ç”¨å‘½ä»¤ï¼š git fetch è¿œç¨‹åº“å¼•ç”¨å åˆ†æ”¯å å¯¹äºæŠ“å–çš„æ›´æ–°ï¼Œåœ¨æœ¬æœºä¸Šéœ€è¦ç”¨ è¿œç¨‹åº“å¼•ç”¨å/åˆ†æ”¯å çš„å½¢å¼è¯»å–ã€‚æ¯”å¦‚originä¸»æœºçš„masteråˆ†æ”¯ï¼Œå°±è¦ç”¨ origin/master è¯»å–ã€‚å¯ç”¨å‰é¢æåˆ°çš„å‘½ä»¤æ¥æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ã€‚åœ¨ç¡®å®šåˆå¹¶ä¸ä¼šå‘ç”Ÿå†²çªåï¼Œå°±ä½¿ç”¨å‘½ä»¤ git merge åœ¨æœ¬åœ°åˆ†æ”¯ä¸Šåˆå¹¶è¿œç¨‹åˆ†æ”¯ã€‚ ä¹Ÿå¯ä½¿ç”¨å‘½ä»¤ï¼šgit pull æ‹‰å–è¿œç¨‹åº“çš„æŸä¸ªåˆ†æ”¯å¹¶ä¸æœ¬åœ°çš„æŒ‡å®šåˆ†æ”¯åˆå¹¶ã€‚å³ git pull = git fetch + git mergeï¼Œå…¶å®Œæ•´æ ¼å¼ä¸ºï¼š git pull è¿œç¨‹åº“å¼•ç”¨å è¿œç¨‹åˆ†æ”¯å:æœ¬åœ°åˆ†æ”¯å å¦‚æœè¿œç¨‹åˆ†æ”¯æ˜¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å¯çœç•¥å†’å·åŠå…¶åé¢çš„å†…å®¹ï¼š git pull è¿œç¨‹åº“å¼•ç”¨å è¿œç¨‹åˆ†æ”¯å åœ¨æŸäº›åœºåˆï¼ŒGitä¼šè‡ªåŠ¨åœ¨æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ä¹‹é—´ï¼Œå»ºç«‹ä¸€ç§è¿½è¸ªå…³ç³»ï¼ˆtrackingï¼Œä¹Ÿå«ä¸Šä¸‹æ¸¸å…³ç³»ï¼‰ã€‚æ¯”å¦‚ï¼Œåœ¨ git clone çš„æ—¶å€™ï¼Œæ‰€æœ‰æœ¬åœ°åˆ†æ”¯é»˜è®¤ä¸è¿œç¨‹ä¸»æœºçš„åŒååˆ†æ”¯ï¼Œå»ºç«‹è¿½è¸ªå…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ¬åœ°çš„masteråˆ†æ”¯è‡ªåŠ¨ â€œè¿½è¸ªâ€ origin/masteråˆ†æ”¯ã€‚ä¹Ÿå¯ä½¿ç”¨å‰é¢çš„å‘½ä»¤æ¥æ‰‹åŠ¨å»ºç«‹è¿½è¸ªå…³ç³»ã€‚å¦‚æœå½“å‰åˆ†æ”¯ä¸è¿œç¨‹å­˜åœ¨è¿½è¸ªå…³ç³»ï¼Œåœ¨æ‹‰å–æ—¶å°±å¯çœç•¥è¿œç¨‹åˆ†æ”¯åã€‚ git pull origin ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼Œæœ¬åœ°çš„å½“å‰åˆ†æ”¯è‡ªåŠ¨ä¸è¿œç¨‹åº“å¯¹åº”çš„è¿½è¸ªåˆ†æ”¯è¿›è¡Œåˆå¹¶ã€‚å¦‚æœåˆå¹¶éœ€è¦é‡‡ç”¨rebaseæ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨--rebaseé€‰é¡¹ï¼š git pull --rebase origin å¦‚æœè¿œç¨‹ä¸»æœºåˆ é™¤äº†æŸä¸ªåˆ†æ”¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œgit pull ä¸ä¼šåœ¨æ‹‰å–è¿œç¨‹åˆ†æ”¯çš„æ—¶å€™ï¼Œåˆ é™¤å¯¹åº”çš„æœ¬åœ°åˆ†æ”¯ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢ï¼Œç”±äºå…¶ä»–äººæ“ä½œäº†è¿œç¨‹ä¸»æœºï¼Œå¯¼è‡´git pullä¸çŸ¥ä¸è§‰åˆ é™¤äº†æœ¬åœ°åˆ†æ”¯ã€‚ ä½†æ˜¯ï¼Œä½ å¯ä»¥æ”¹å˜è¿™ä¸ªè¡Œä¸ºï¼ŒåŠ ä¸Šå‚æ•° -p å°±ä¼šåœ¨æœ¬åœ°åˆ é™¤è¿œç¨‹å·²ç»åˆ é™¤çš„åˆ†æ”¯ã€‚ $ git pull -p # ç­‰åŒäºä¸‹é¢çš„å‘½ä»¤ $ git fetch --prune origin # æˆ–ä¸‹é¢è¿™ä¸ªå‘½ä»¤ $ git fetch -p ","date":"2024-07-21","objectID":"/posts/a538cc4/:6:4","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"æ¨é€åˆ°è¿œç¨‹åº“\rgit pushå‘½ä»¤ç”¨äºå°†æœ¬åœ°åˆ†æ”¯çš„æ›´æ–°ï¼Œæ¨é€åˆ°è¿œç¨‹ä¸»æœºã€‚å®ƒçš„æ ¼å¼ä¸git pullå‘½ä»¤ç›¸ä»¿ã€‚ git push è¿œç¨‹åº“å¼•ç”¨å æœ¬åœ°åˆ†æ”¯å:è¿œç¨‹åˆ†æ”¯å å¦‚æœçœç•¥è¿œç¨‹åˆ†æ”¯åï¼Œåˆ™è¡¨ç¤ºå°†æŒ‡å®šçš„æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°ä¸ä¹‹å­˜åœ¨ â€œè¿½è¸ªå…³ç³»â€ çš„è¿œç¨‹åˆ†æ”¯ï¼ˆé€šå¸¸ä¸¤è€…åŒåï¼‰ï¼Œå¦‚æœè¯¥è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»ºã€‚ $ git push origin master ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼Œå°†æœ¬åœ°çš„masteråˆ†æ”¯æ¨é€åˆ°originä¸»æœºçš„masteråˆ†æ”¯ã€‚å¦‚æœåè€…ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»ºã€‚ å¦‚æœçœç•¥æœ¬åœ°åˆ†æ”¯åå’Œè¿œç¨‹åˆ†æ”¯åï¼Œåˆ™è¡¨ç¤ºå°†å½“å‰æ‰€åœ¨åˆ†æ”¯æ¨é€åˆ°å…¶ä¸Šæ¸¸è¿œç¨‹åˆ†æ”¯ï¼Œå¦‚æœè¯¥è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»ºã€‚ $ git push origin å¦‚æœåªçœç•¥æœ¬åœ°åˆ†æ”¯åï¼Œåˆ™è¡¨ç¤ºåˆ é™¤æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ã€‚ $ git push origin :master # ç­‰åŒäº $ git push origin --delete master å¦‚æœä½ æƒ³å°†æœ¬åœ°çš„æ‰€æœ‰åˆ†æ”¯éƒ½æ¨é€åˆ°è¿œç¨‹ä¸»æœºï¼Œä¸ç®¡æ˜¯å¦å­˜åœ¨å¯¹åº”çš„è¿œç¨‹åˆ†æ”¯ï¼Œè¿™æ—¶éœ€è¦ä½¿ç”¨--allé€‰é¡¹ã€‚ git push --all origin æ¨é€æ—¶ï¼Œå¦‚æœè¿œç¨‹åº“çš„ç‰ˆæœ¬æ¯”æœ¬åœ°åº“çš„ç‰ˆæœ¬æ–°ï¼Œåˆ™æ¨é€æ—¶Gitä¼šæŠ¥é”™ï¼Œè¦æ±‚å…ˆåœ¨æœ¬åœ°åš git pull åˆå¹¶å·®å¼‚ï¼Œç„¶åå†æ¨é€åˆ°è¿œç¨‹ä¸»æœºã€‚ ","date":"2024-07-21","objectID":"/posts/a538cc4/:6:5","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"},{"categories":["Git"],"content":"å‚è€ƒèµ„æ–™\rhttps://blog.51cto.com/u_15242250/2856081 https://www.bilibili.com/video/BV1vy4y1s7k6/?p=8\u0026spm_id_from=pageDriver\u0026vd_source=744dd2bfd43a3b6a0d6a04beeeb1f108 https://git-scm.com/book/en/v2 https://www.liaoxuefeng.com/wiki/896043488029600 https://www.cnblogs.com/linj7/p/14377278.html https://www.ruanyifeng.com/blog/2014/06/git_remote.html ","date":"2024-07-21","objectID":"/posts/a538cc4/:7:0","tags":["Git","ç¬”è®°"],"title":"Gitå­¦ä¹ ç¬”è®°","uri":"/posts/a538cc4/"}]