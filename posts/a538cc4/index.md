# Git学习笔记

## Git概述
&gt; **Git** 是一款**分布式的代码版本控制工具**，Linux 之父 Linus 嫌弃当时主流的中心式的版本控制工具太难用还要花钱，就自己花两周时间开发出了 Git 的主体程序，一个月后就开始用Git来维护 Linux 的版本（给大佬跪了）。

常见的版本控制工具有：**分布式版本控制工具**和**集中式版本控制工具**  
1. **分布式版本控制工具：**
    - **工作原理：** 分布式版本控制工具不依赖于单一的中央服务器，每个开发者都拥有完整的代码库的副本。开发者在本地工作副本上进行修改，并在本地进行提交、分支、合并等操作。开发者可以选择与其他开发者直接交换修改的内容，也可以将修改推送到共享的远程仓库中。
    - **特点：**
      - 每个开发者都拥有完整的代码库的副本，可以在本地进行版本控制
      - 具有更好的分支和合并功能，能够轻松地处理复杂的开发工作流程
      - 典型的分布式版本控制工具有Git和Mercurial等

2. **集中式版本控制工具：**
    - **工作原理：** 集中式版本管理工具使用单一的中央服务器来存储所有版本的代码库。开发者在本地工作副本上进行修改，然后将修改后的内容提交到中央服务器。其他开发者通过从中央服务器检出代码库来获取最新的代码，并将他们的修改提交到同一个中央服务器上。
    - **特点：**
      - 中央服务器是唯一的源头，所有的代码修改都需要提交到中央服务器
      - 开发者在没有网络连接的情况下无法进行版本控制操作
      - 典型的集中式版本管理工具包括Subversion（SVN）和Perforce等

Git的**工作机制**如下图所示:  

![图1](/PostsImgs/GitLearningNote_imgs/picture1.png)  
- **工作区**：开发人员在本地存放项目文件（代码）的地方
- **暂存区**：是一个缓冲区域，用于临时存放即将提交到本地库的修改，开发者通过 **`git add`** 命令将工作区中的修改**添加到**暂存区，**只有添加到暂存区的文件该会被提交到本地库中去**
- **本地库**：存放项目完整历史记录和版本信息的地方，开发者通过 **`git commit`** 命令将暂存区的内容**提交到**本地库，**使用该命令后暂存区就会清空**
- **远程库**：用于存放项目的中央代码库（如GitHub），位于云端或其他服务器上。团队成员可以通过 **`git clone`** 操作从远程仓库克隆一个完整的 Git 仓库到本地。克隆操作会复制远程仓库的所有历史记录、分支、标签等信息，并在本地创建一个相同的仓库副本。通过 **`git push`** 用于将本地库推送到远程库， 通过 **`git pull`** 从远程库拉取最新的代码到本地库

## Git安装
### Windows下安装
先确定自己的电脑是64位操作系统还是32位的(按Win键，设置→系统→关于)，然后去[Git官网](https://git-scm.com/)下载对应的安装包，根据提示进行安装(详细安装过程请自行Google)。

**注意：** 安装路径中不要包含中文！
### Ubuntu下安装
由于本人是Ubuntu下使用Git的，所以这里的步骤会写的详细点。  
1. 输入命令 `sudo apt-get install git`进行安装，输入 `git version` 检查是否安装成功
2. 输入命令 `ssh -T git@github.com` 检查是否可以连接到GitHub，如果看到  
![图2](/PostsImgs/GitLearningNote_imgs/picture2.png)  
则说明能够连接。
3. 安装SSH keys（一定要在 **`~/.ssh`** 目录下操作）
```bash
第一步：检查是否已经具有ssh keys，如果具有，则直接进行第三步
==========================================================
cd ~/.ssh
ls
==========================================================
如果存在文件 id_rsa 和 id_rsa.pub 则具有ssh keys

第二步：备份并移除已经存在的ssh keys
==========================================================
mkdir key_backup
cp id_rsa* key_backup
rm id_rsa*
==========================================================

第三步：执行以下命令
==========================================================
ssh-keygen -t rsa -C &#34;你的github邮箱&#34;
==========================================================
运行时会要求输入文件名，就输入id_rsa即可
接着会要求你输入两次密码，该密码用于push时的密码，不想设置密码可直接回车，建议设置

安装完毕后，再次输入ls查看是否存在文件id_rsa 和 id_rsa.pub
```
4. 输入命令 `cat id_rsa.pub` 查看 id_rsa.pub 中的内容，将其内容复制到GitHub账户的SSH keys中（头像→Settings→SSH and GPG keys→ New SSH key）
5. 再次输入命令`ssh -T git@github.com` （在~/.ssh目录下），如果显示`Hi 你的用户名! You’ve successfully authenticated, but GitHub does not provide shell access.` 则添加成功(如果在安装SSH keys时设置了密码，则该步骤会要求输出此密码)&lt;br&gt;
**注意：** 若报错`sign_and_send_pubkey: signing failed: agent refused operation `，则输入命令`eval &#34;$(ssh-agent -s)&#34; `和 `ssh-add `
6. 配置Git全局环境，输入以下命令：  
**`git config --global user.name &#34;你的GitHub用户名&#34;`**&lt;br&gt;
**`git config --global user.email &#34;你的GitHub邮箱地址&#34;`**&lt;br&gt;
输入命令 **`git config --global --list`** 查看是否设置成功&lt;br&gt;
这里设置的环境的作用是区分不同操作者身份。用户的签名信息可以在每一个版本的提交信息中看到，以此确认本次提交是谁做的。&lt;br&gt;
**注：** 此用户签名与远程库的账号没有任何关系

## Git常用命令
### 获取Git仓库
通常有两种获取 Git 项目仓库的方式（**两种方式都需要先进入到项目目录**）：
1. **将尚未进行版本控制的本地目录转换为 Git 仓库**  
输入命令 **`git init`** ，完成Git仓库初始化操作，会得到一个隐藏目录 **.git**
1. **从其它服务器克隆一个已存在的 Git 仓库**  
输入命令 **`git clone url`** (url为仓库地址，点击仓库页面的code按钮即可看到)，这样就能得到一个与远程仓库一样的本地仓库(仓库名也一样)。  
如果想要自定义本地库的名字，则可以修改命令为 **`git clone url 你要设定的本地仓库名`**  
**注：** 当你克隆一个远程仓库时，本地仓库通常**只会创建一个默认的主分支**（一般为 **`master`** 分支，也有可能是 **`main`** 分支），其他分支会以远程分支的形式存在于本地仓库中。

### 记录每次更新到仓库
### 比较差异
### 文件重命名
### 查看提交历史
### 撤销修改
### 删除文件

## Git分支
### 创建与合并分支
### 解决冲突
### 分支管理策略
### Bug分支
### 多人协作
### Rebase

## 标签管理
### 创建标签
### 删除标签

## 关联自己的GitHub仓库

## 参考资料
1. https://blog.51cto.com/u_15242250/2856081
2. https://www.bilibili.com/video/BV1vy4y1s7k6/?p=8&amp;spm_id_from=pageDriver&amp;vd_source=744dd2bfd43a3b6a0d6a04beeeb1f108
3. https://git-scm.com/book/en/v2
4. https://www.liaoxuefeng.com/wiki/896043488029600

---

> 作者: [zyz](https://github.com/YouZhiZheng)  
> URL: http://localhost:1313/posts/a538cc4/  

